{"version":3,"sources":["pages/home/components/sidebar/Sidebar.js","pages/home/Home.js","pages/home/components/heroSection/HeroSection.js","context/explore/exploreReducer.js","shared/utils/fetchApi.js","services/explore_services.js","context/explore/ExploreContext.js","shared/components/dropDown/Dropdown.js","services/playlistVideos_services.js","context/playlistVideos/playlistVideosReducer.js","context/playlistVideos/PlaylistVideosContext.js","shared/components/videoCard/VideoCard.js","pages/explore/components/filter/Filter.js","pages/explore/explore.js","shared/components/header/Header.js","shared/components/withHeader/WithHeader.js","mockMan.js","assets/images/watchlater-image.jpg","assets/images/playlists.jpg","assets/images/signup-vlib.svg","assets/images/signin-vlib.svg","pages/playlistVideos/PlaylistVideos.js","pages/watchLater/WatchLater.js","pages/history/History.js","pages/playlists/Playlists.js","pages/likes/Likes.js","pages/auth/component/AuthContainer.js","pages/auth/Login.js","pages/auth/Signup.js","App.js","backend/utils/authUtils.js","backend/controllers/AuthController.js","backend/controllers/HistoryController.js","backend/controllers/VideoController.js","backend/db/videos.js","backend/db/categories.js","backend/controllers/CategoryController.js","backend/controllers/LikeController.js","backend/controllers/PlaylistController.js","backend/db/users.js","backend/controllers/WatchLaterController.js","server.js","index.js"],"names":["Sidebar","getClassName","state","isActive","className","to","Home","HeroSection","navigate","useNavigate","src","alt","onClick","reducer","action","type","videos","payload","categories","selectedCategory","categoryName","selectedDropdownId","id","fetchApi","a","url","method","body","propertyName","axios","data","headers","authorization","status","console","log","success","message","Error","fetchDataApi","success1","data2","success2","error","suceess","ExploreContext","createContext","ExploreContextProvider","children","useEffect","dispatch","useReducer","filteredVideos","filter","video","toLowerCase","getFilteredVideos","Provider","value","useExplore","useContext","DropDown","options","map","option","item","addToWatchLaterApi","deleteFromWatchLaterApi","videoId","playlistVideosFetchApi","promise1","promise2","promise3","promise4","Promise","all","response","watchLater","watchlater","likes","history","playlists","addToLikesApi","deleteFromLikesApi","addToHistoryApi","deleteFromHistoryApi","deleteAllVideosFromHistoryApi","playlistId","PlaylistVideosContext","intialState","PlaylistVideosContextProvider","handleOnPlay","isVideoPresent","_id","some","vid","updatePlaylistVideos","date","Date","toUTCString","slice","isVideoAlreadyPresent","addedAt","data1","videoSuccess","data3","success3","deleteAllVideosFromHistory","usePlaylistVideos","VideoCard","title","description","creator","views","releaseDate","handleDropDown","width","height","onPlay","Filter","category","Explore","key","Header","placeholder","WithHeader","MockAPI","PlaylistVideos","playlistTitle","playlistVideos","WatchLaterImage","length","WatchLater","deleteVideo","History","Playlists","Playlist","Likes","AuthContainer","imageUrl","Login","useState","email","setEmail","password","setPassword","SigninImage","htmlFor","onChange","e","target","required","Signup","firstName","lastName","formData","SignupImage","App","path","element","index","requiresAuth","request","encodedToken","requestHeaders","decodedToken","jwt_decode","process","this","db","users","findBy","Response","errors","formatDate","dayjs","format","sign","require","signupHandler","schema","JSON","parse","requestBody","rest","uuid","newUser","createdAt","updatedAt","createdUser","create","loginHandler","foundUser","undefined","getHistoryVideosHandler","user","call","addVideoToHistoryHandler","push","removeVideoFromHistoryHandler","params","filteredHistory","update","clearHistoryHandler","getAllVideosHandler","getVideoHandler","attrs","getAllCategoriesHandler","getCategoryHandler","categoryId","getLikedVideosHandler","addItemToLikedVideos","removeItemFromLikedVideos","filteredLikes","getAllPlaylistsHandler","addNewPlaylistHandler","playlist","removePlaylistHandler","filteredPlaylists","getVideosFromPlaylistHandler","find","addVideoToPlaylistHandler","removeVideoFromPlaylistHandler","getWatchLaterVideosHandler","addItemToWatchLaterVideos","removeItemFromWatchLaterVideos","environment","Server","serializers","application","RestSerializer","models","Model","like","seeds","server","logging","forEach","routes","namespace","post","bind","get","delete","makeServer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15e69257.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  FaHome,\r\n  MdExplore,\r\n  BsCollectionPlayFill,\r\n  BsBookmarkFill,\r\n  AiFillLike,\r\n  AiOutlineHistory,\r\n} from \"../../../../assets/icons\";\r\nimport \"./sidebar.css\";\r\n\r\nexport const Sidebar = () => {\r\n  const getClassName = (state) => {\r\n    return state.isActive ? \"sidebar-item active\" : \"sidebar-item\";\r\n  };\r\n  return (\r\n    <ul className=\"sidebar-items  list-style-none\">\r\n      <NavLink to=\"/\" className={getClassName}>\r\n        <FaHome className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Home</span>\r\n      </NavLink>\r\n      <NavLink to=\"/explore\" className={getClassName}>\r\n        <MdExplore className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Explore</span>\r\n      </NavLink>\r\n      <NavLink to=\"/playlists\" className={getClassName}>\r\n        <BsCollectionPlayFill className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Playlists</span>\r\n      </NavLink>\r\n      <NavLink to=\"/likes\" className={getClassName}>\r\n        <AiFillLike className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Likes</span>\r\n      </NavLink>\r\n      <NavLink to=\"/watchlater\" className={getClassName}>\r\n        <BsBookmarkFill className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Watch Later</span>\r\n      </NavLink>\r\n      <NavLink to=\"/history\" className={getClassName}>\r\n        <AiOutlineHistory className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">History</span>\r\n      </NavLink>\r\n    </ul>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./home.css\";\r\nimport { Sidebar } from \"./components/sidebar/Sidebar\";\r\nimport { Outlet } from \"react-router\";\r\n\r\nexport const Home = () => {\r\n  return (\r\n    <div className=\"home-container\">\r\n      <Sidebar />\r\n      <Outlet/>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./heroSection.css\";\r\nimport {useNavigate} from \"react-router-dom\"\r\nexport const HeroSection = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"hero-section-container\">\r\n      <img\r\n        src=\"https://miro.medium.com/max/1400/1*5lyavS59mazOFnb55Z6znQ.png\"\r\n        alt=\"hero-img\"\r\n        className=\"hero-image\"\r\n      />\r\n      <div className=\"text-overlay-container\">\r\n        <h1 className=\"overlay-text\">\r\n          IT'S TIME TO <span className=\"explore-text\">EXPLORE</span> <br /> THE\r\n          WORLD\r\n        </h1>\r\n        <button className=\"button explore-btn\" onClick={() =>{navigate(\"/explore\")}}>Explore Now </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_DATA\":\r\n      return {\r\n        ...state,\r\n        videos: action.payload.videos,\r\n        categories: action.payload.categories,\r\n      };\r\n    case \"UPDATE_CATEGORY\":\r\n      return {\r\n        ...state,\r\n        selectedCategory: action.payload.categoryName,\r\n      };\r\n    case \"UPDATE_DROPDOWN\":\r\n      return {\r\n        ...state,\r\n        selectedDropdownId: action.payload.id,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport async function fetchApi({ url, method, body, propertyName }) {\r\n//   const user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n  const token = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1NzM2MjMxNi0xZjNhLTRlY2QtYjA4Ni0xMzlmNWNmNjdhZjkiLCJlbWFpbCI6ImFkYXJzaGJhbGlrYUBnbWFpbC5jb20ifQ.UQaoxva7UtUeVo47ndik81df4Gd_FfDSXVhNY9ehSq4\"\r\n\r\n  try {\r\n    const { data, status} = await axios({\r\n      method,\r\n      url,\r\n      data: body,\r\n      headers:{authorization:token}\r\n      //This for future  reference when I will add authentication for now I am sending token directly \r\n    //   headers: { authorization: user!== null ?user.token:\"\" },\r\n    });\r\n    console.log(data);\r\n    if (status === 200 || status === 201) {\r\n      return {\r\n        data: data,\r\n        success: true,\r\n        message: `${propertyName} fetched successfully!!`,\r\n      };\r\n    } \r\n    \r\n    throw Error(\"API request failed\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    return {\r\n      data: null,\r\n      success: false,\r\n      message: `${propertyName} failed to fetch`,\r\n    };\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import { fetchApi } from \"../shared/utils/fetchApi\";\r\n\r\nexport const fetchDataApi = async () => {\r\n  try {\r\n    const { data ,success:success1} = await fetchApi({\r\n      url: \"/api/videos\",\r\n      method: \"get\",\r\n      propertyName: \"videos\",\r\n    });\r\n\r\n   const{data:data2,success:success2} = await fetchApi({\r\n      url: \"/api/categories\",\r\n      method: \"get\",\r\n      propertyName: \"categories\",\r\n    });\r\n    if(success1 && success2){\r\n        return{\r\n            data:{\r\n                videos:data.videos,\r\n                categories:data2.categories\r\n            },success:true,\r\n            message:\"Data fetched successfully\"\r\n        }\r\n    }\r\n\r\n  } catch (e) {\r\n      console.error(e);\r\n      return{\r\n        data :null,\r\n        suceess:false,\r\n        message:\"Data failed to fetch\"\r\n      }\r\n  }\r\n \r\n\r\n};\r\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { reducer } from \"./exploreReducer\";\r\nimport { fetchDataApi } from \"../../services/explore_services\";\r\n\r\nconst ExploreContext = createContext();\r\nconst ExploreContextProvider = ({ children }) => {\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { data, success } = await fetchDataApi();\r\n      if (success) {\r\n        dispatch({\r\n          type: \"FETCH_DATA\",\r\n          payload: { videos: data.videos, categories: data.categories },\r\n        });\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const intialState = {\r\n    videos: [],\r\n    categories: [],\r\n    selectedCategory: \"All\",\r\n    selectedDropdownId: null,\r\n  };\r\n  const [\r\n    { videos, categories, selectedCategory, selectedDropdownId },\r\n    dispatch,\r\n  ] = useReducer(reducer, intialState);\r\n\r\n  const getFilteredVideos = (videos) => {\r\n    if (selectedCategory === \"All\") return videos;\r\n    return videos.filter((video) => {\r\n      return (\r\n        video.categoryName.toLowerCase() === selectedCategory.toLowerCase()\r\n      );\r\n    });\r\n  };\r\n  const filteredVideos = getFilteredVideos(videos);\r\n\r\n  return (\r\n    <ExploreContext.Provider\r\n      value={{\r\n        videos,\r\n        categories,\r\n        selectedCategory,\r\n        dispatch,\r\n        filteredVideos,\r\n        selectedDropdownId,\r\n      }}\r\n    >\r\n      {children}\r\n    </ExploreContext.Provider>\r\n  );\r\n};\r\nconst useExplore = () => {\r\n  return useContext(ExploreContext);\r\n};\r\nexport { ExploreContextProvider, useExplore };\r\n","import \"./dropDown.css\";\r\n\r\nexport const DropDown = ({ options, onClick }) => {\r\n  return (\r\n    <ul className=\"dropdown-container\">\r\n      {options.map((option) => (\r\n        <li\r\n          className=\"list-style-none dropdown-option\"\r\n          key={option.value}\r\n          onClick={() => {\r\n            onClick(option.value);\r\n          }}\r\n        >\r\n          {option.item}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import { fetchApi } from \"../shared/utils/fetchApi\";\r\n\r\nexport const watchLaterFetchApi = async () => {\r\n  return await fetchApi({\r\n    url: \"/api/user/watchlater\",\r\n    method: \"get\",\r\n  });\r\n};\r\n\r\nexport const addToWatchLaterApi = async (video) => {\r\n  return await fetchApi({\r\n    url: \"/api/user/watchlater\",\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromWatchLaterApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/watchlater/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const playlistVideosFetchApi = async () => {\r\n  try {\r\n    const promise1 = await fetchApi({\r\n      url: \"/api/user/watchlater\",\r\n      method: \"get\",\r\n    });\r\n    const promise2 = await fetchApi({\r\n      url: \"/api/user/likes\",\r\n      method: \"get\",\r\n    });\r\n    const promise3 = await fetchApi({\r\n      url: \"/api/user/history\",\r\n      method: \"get\",\r\n    });\r\n    const promise4 = await fetchApi({\r\n      url: \"/api/user/playlists\",\r\n      method: \"get\",\r\n    });\r\n\r\n    const response = await Promise.all([promise1, promise2, promise3,promise4]);\r\n    console.log(response)\r\n    return {\r\n      data: {\r\n        watchLater: response[0].data.watchlater,\r\n        likes: response[1].data.likes,\r\n        history: response[2].data.history,\r\n        playlists : response[3].playlists\r\n      },\r\n      success : true,\r\n      message : \"Fetched successfully\"\r\n    };\r\n  } catch (e) {\r\n    console.log(e);\r\n    return {\r\n      data: null,\r\n      success: false,\r\n      message: \"API failed\",\r\n    };\r\n  }\r\n};\r\nexport const addToLikesApi = async (video) => {\r\n  return await fetchApi({\r\n    url: \"/api/user/likes\",\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromLikesApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/likes/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const addToHistoryApi = async (video) => {\r\n  return await fetchApi({\r\n    url: `/api/user/history`,\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromHistoryApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/history/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const deleteAllVideosFromHistoryApi = async () => {\r\n  return await fetchApi({\r\n    url: `/api/user/history/all`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\n\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_VIDEOS\": {\r\n      const {watchLater,history,likes} = action.payload;\r\n      return { ...state, watchLater,history,likes };\r\n    }\r\n    case \"UPDATE_PLAYLIST_VIDEOS\": {\r\n      return { ...state, [action.payload.playlistId]: action.payload.videos};\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport {\r\n  playlistVideosFetchApi,\r\n  addToWatchLaterApi,\r\n  deleteFromWatchLaterApi,\r\n  addToHistoryApi,\r\n  deleteFromHistoryApi,\r\n  addToLikesApi,\r\n  deleteFromLikesApi,\r\n  deleteAllVideosFromHistoryApi,\r\n} from \"../../services/playlistVideos_services\";\r\nimport { reducer } from \"./playlistVideosReducer\";\r\n\r\nconst PlaylistVideosContext = createContext();\r\n\r\nconst intialState = {\r\n  status: \"IDLE\",\r\n  watchLater: [],\r\n  history: [],\r\n  likes: [],\r\n};\r\nconst PlaylistVideosContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, intialState);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { data, success } = await playlistVideosFetchApi();\r\n      console.log(data);\r\n      if (success) {\r\n        dispatch({\r\n          type: \"GET_VIDEOS\",\r\n          payload: {\r\n            watchLater: data.watchLater,\r\n            history: data.history,\r\n            likes: data.likes,\r\n            playlists: data.playlists\r\n          },\r\n        });\r\n      }\r\n    })();\r\n  }, []);\r\n  const handleOnPlay = async (playlistId, video) => {\r\n    const { data, success } = await addToHistoryApi(video);\r\n   \r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId, videos: data.history },\r\n      });\r\n\r\n    }\r\n  };\r\n\r\n  const deleteAllVideosFromHistory = () => {\r\n    const { data, success } = deleteAllVideosFromHistoryApi();\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId: \"history\", videos: data.history },\r\n      });\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const isVideoPresent = (playlistId, _id) => {\r\n    return state[playlistId]?.some((vid) => vid._id === _id);\r\n  };\r\n\r\n  const updatePlaylistVideos = async (playlistId, video) => {\r\n    const date = new Date().toUTCString().slice(0, 16);\r\n\r\n    const isVideoAlreadyPresent = isVideoPresent(playlistId, video._id);\r\n    let videos = [],\r\n      success = false;\r\n     \r\n    switch (playlistId) {\r\n\r\n      case \"watchLater\":\r\n        const { data: data1, success: videoSuccess } = !isVideoAlreadyPresent\r\n          ? await addToWatchLaterApi({ ...video, addedAt: date })\r\n          : await deleteFromWatchLaterApi(video._id);\r\n        videos = data1.watchlater;\r\n        success = videoSuccess;\r\n        break;\r\n\r\n      case \"history\":\r\n        const { data: data2, success: success2 } = !isVideoAlreadyPresent\r\n          ? await addToHistoryApi({ ...video, addedAt: date })\r\n          : await deleteFromHistoryApi(video._id);\r\n        videos = data2.history;\r\n        success = success2;\r\n        break;\r\n\r\n      case \"likes\":\r\n        const { data: data3, success: success3 } = !isVideoAlreadyPresent\r\n          ? await addToLikesApi({ ...video, addedAt: date })\r\n          : await deleteFromLikesApi(video._id);\r\n        videos = data3.likes;\r\n        success = success3;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId, videos },\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PlaylistVideosContext.Provider\r\n      value={{\r\n        updatePlaylistVideos,\r\n        state,\r\n        isVideoPresent,\r\n        dispatch,\r\n        deleteAllVideosFromHistory,\r\n        handleOnPlay\r\n      }}\r\n    >\r\n      {children}\r\n    </PlaylistVideosContext.Provider>\r\n  );\r\n};\r\nexport const usePlaylistVideos = () => {\r\n  return useContext(PlaylistVideosContext);\r\n};\r\nexport { PlaylistVideosContextProvider };\r\n","import React from \"react\";\r\nimport \"./videoCard.css\";\r\nimport {\r\n  BsThreeDotsVertical,\r\n  MdWatchLater,\r\n  BsCollectionPlayFill,AiFillLike\r\n} from \"../../../assets/icons\";\r\nimport { useExplore } from \"../../../context/explore/ExploreContext\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { DropDown } from \"../dropDown/Dropdown\";\r\nimport { usePlaylistVideos } from \"../../../context/playlistVideos/PlaylistVideosContext\";\r\n\r\nexport const VideoCard = (video) => {\r\n  const { _id, title, description, creator, views, releaseDate } = video;\r\n  const { updatePlaylistVideos, isVideoPresent,handleOnPlay } = usePlaylistVideos();\r\n\r\n  const options = [\r\n    {\r\n      item: (\r\n        <div>\r\n          <BsCollectionPlayFill className=\"mr-1\" /> Add to playlists\r\n        </div>\r\n      ),\r\n      value: \"playlist\",\r\n    },\r\n    {\r\n      item: (\r\n        <div>\r\n          <MdWatchLater className=\"mr-1\" />{\" \"}\r\n          {!isVideoPresent(\"watchLater\", _id)\r\n            ? \"Add to watch later\"\r\n            : \"Remove from watch later\"}\r\n        </div>\r\n      ),\r\n      value: \"watchLater\",\r\n    },\r\n\r\n    {\r\n      item: (\r\n        <div>\r\n          <AiFillLike className=\"mr-1\" />{\" \"}\r\n          {!isVideoPresent(\"likes\", _id)\r\n            ? \"Add to liked videos\"\r\n            : \"Remove from liked videos\"}\r\n        </div>\r\n      ),\r\n      value: \"likes\",\r\n    },\r\n  ];\r\n\r\n  const addToPlaylist = () => {};\r\n  const handleDropDown = async (value) => {\r\n    value === \"playlist\"\r\n      ? await addToPlaylist(video)\r\n      : await updatePlaylistVideos(value, video);\r\n    dispatch({ type: \"UPDATE_DROPDOWN\", payload: { id: null } });\r\n  };\r\n\r\n  const { selectedDropdownId, dispatch } = useExplore();\r\n  return (\r\n    <div className=\"video-card-container flex-col\" >\r\n      <div className=\"video-wrapper\">\r\n        <ReactPlayer\r\n          className=\"react-player\"\r\n          url={`https://www.youtube.com/watch?v=${_id}`}\r\n          width=\"100%\"\r\n          height=\"100%\" onPlay={()=>handleOnPlay(\"history\",video)}\r\n        />\r\n\r\n        <div className=\"video-badge\">{views}M views</div>\r\n      </div>\r\n      <div className=\"p-2 content-container\">\r\n        <div className=\"flex-row justify-between\">\r\n          <h2 className=\"video-card-title font-semibold\">{title}</h2>\r\n          <BsThreeDotsVertical\r\n            className=\"three-dots-icon\"\r\n            onClick={() => {\r\n              dispatch({\r\n                type: \"UPDATE_DROPDOWN\",\r\n                payload: { id: _id === selectedDropdownId ? null : _id },\r\n              });\r\n            }}\r\n          />\r\n          {selectedDropdownId === _id && (\r\n            <DropDown options={options} onClick={handleDropDown} />\r\n          )}\r\n        </div>\r\n        <div className=\"flex-col\">\r\n          <p className=\"video-card-subtitle my-1 font-medium text-grey\">\r\n            {description}\r\n          </p>\r\n          <ul className=\"flex-row\">\r\n            <li className=\"video-creator list-style-none font-medium text-grey\">\r\n              {creator}\r\n            </li>\r\n            <li className=\"release-date font-medium text-grey\">\r\n              {releaseDate}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./filter.css\";\r\nimport { useExplore } from \"../../../../context/explore/ExploreContext\";\r\n\r\nexport const Filter = () => {\r\n  const { categories, dispatch, selectedCategory } = useExplore();\r\n\r\n  return (\r\n    <div className=\"flex-row explore-list-items list-style-none\">\r\n      <button\r\n        className={`explore-list-item ${\r\n          selectedCategory.toLowerCase() === \"All\".toLowerCase() ? \"active\" : \"\"\r\n        }`}\r\n        onClick={() => {\r\n          dispatch({\r\n            type: \"UPDATE_CATEGORY\",\r\n            payload: { categoryName: \"All\" },\r\n          });\r\n        }}\r\n      >\r\n        All\r\n      </button>\r\n      {categories.map((category) => (\r\n        <button\r\n          className={`explore-list-item ${\r\n            selectedCategory.toLowerCase() ===\r\n            category.categoryName.toLowerCase()\r\n              ? \"active\"\r\n              : \"\"\r\n          }`}\r\n          key={category?._id}\r\n          onClick={() => {\r\n            dispatch({\r\n              type: \"UPDATE_CATEGORY\",\r\n              payload: { categoryName: category.categoryName },\r\n            });\r\n          }}\r\n        >\r\n          {category?.categoryName}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport \"./explore.css\";\r\nimport { VideoCard } from \"../../shared/components/videoCard/VideoCard\";\r\nimport { Filter } from \"./components/filter/Filter\";\r\nimport { useExplore } from \"../../context/explore/ExploreContext\";\r\n\r\nexport const Explore = () => {\r\n  const { filteredVideos, dispatch } = useExplore();\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({\r\n        type: \"UPDATE_DROPDOWN\",\r\n        payload: { selectedDropdownId: null },\r\n      });\r\n    };\r\n  }, [dispatch]);\r\n  return (\r\n    <div className=\"explore-container\">\r\n      <div className=\"flex-col\">\r\n        <Filter />\r\n      </div>\r\n      <div className=\"flex-row flex-wrap gap-1 justify-center p-2\">\r\n        {filteredVideos.map((video) => (\r\n          <VideoCard {...video} key={video._id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import \"./header.css\";\r\nimport { BsSearch } from \"../../../assets/icons\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const Header = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <nav className=\"header-container\">\r\n    \r\n      <div className=\"logo\">\r\n        <span className=\"logo-text1\">HOT</span>\r\n        <span className=\"logo-text2\">STREAM</span>\r\n      </div>\r\n      <form className=\"searchBar-container\">\r\n        <BsSearch className=\"search-icon\" />\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Search Videos\"\r\n          className=\"search-input\"\r\n        />\r\n      </form>\r\n      <button className=\"login-button\" onClick={()=>{navigate(\"/login\")}}>Login</button>\r\n    </nav>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport {Header} from \"../header/Header\";\r\n\r\nexport const WithHeader = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Mockman from \"mockman-js\";\r\nfunction MockAPI() {\r\n  return (\r\n    <div className=\"MockAPI\">\r\n      <Mockman />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MockAPI;","export default __webpack_public_path__ + \"static/media/watchlater-image.764148ea.jpg\";","export default __webpack_public_path__ + \"static/media/playlists.5b28ea77.jpg\";","export default __webpack_public_path__ + \"static/media/signup-vlib.a27cfa2e.svg\";","export default __webpack_public_path__ + \"static/media/signin-vlib.73e46337.svg\";","import { WatchLaterImage } from \"../../assets/images\";\r\nimport { MdDelete, AiOutlineClockCircle } from \"../../assets/icons\";\r\nimport ReactPlayer from \"react-player\";\r\nimport \"./playlistVideos.css\";\r\nimport { usePlaylistVideos } from \"../../context/playlistVideos/PlaylistVideosContext\";\r\n\r\nexport const PlaylistVideos = ({\r\n  playlistId,\r\n  playlistTitle,\r\n  playlistVideos\r\n}) => {\r\n  const {updatePlaylistVideos} = usePlaylistVideos();\r\n  return (\r\n    <div className=\"playlist-videos-container\">\r\n      <div className=\"playlist-videos-content-container\">\r\n        <img\r\n          src={WatchLaterImage}\r\n          alt=\"playlist-videos\"\r\n          className=\"playlist-videos-image\"\r\n        />\r\n        <div className=\"text-white text-sm my-2\">{playlistTitle}</div>\r\n        <p className=\"text-white\">{playlistVideos?.length} videos</p>\r\n      </div>\r\n      <div className=\"playlist-videos-list-container my-2\">\r\n        <ul className=\"mb-2 ml-2\">\r\n          {playlistVideos?.length === 0 && (\r\n            <div className=\"text-white no-videos\">\r\n              No videos in this playlist yet\r\n            </div>\r\n          )}\r\n          {playlistVideos.map((video) => {\r\n            return (\r\n              <li key={video._id} className=\"stacked-list-item\">\r\n                <div className=\"flex-row justify-between\">\r\n                  <div className=\"flex-row justify-between\">\r\n                    <div className=\"playlist-videos-video-card\">\r\n                      <ReactPlayer\r\n                        url={`https://www.youtube.com/watch?v=${video?._id}`}\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ml-2 flex-col flex-wrap\">\r\n                      <h3 className=\"playlist-videos-title text-white\">\r\n                        {video?.title}\r\n                      </h3>\r\n                      <p className=\"playlist-videos-creator text-white my-1\">\r\n                        {video?.creator}\r\n                      </p>\r\n                      <div className=\"clock-icon-container text-white flex-row align-center\">\r\n                        <AiOutlineClockCircle className=\"clock-icon mr-1\" />\r\n                        <p className=\"text-white inline playlist-videos-timestamp\">\r\n                          {video?.addedAt}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <MdDelete\r\n                      className=\"delete-icon text-white\"\r\n                      onClick={() => {\r\n                        updatePlaylistVideos(playlistId,video);\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PlaylistVideos } from \"../playlistVideos/PlaylistVideos\";\r\nimport { usePlaylistVideos } from \"../../context/playlistVideos/PlaylistVideosContext\";\r\n\r\nexport const WatchLater = () => {\r\n  const {state, deleteVideo } = usePlaylistVideos();\r\n  return (\r\n    <div>\r\n      <PlaylistVideos\r\n        playlistId={\"watchLater\"}\r\n        playlistTitle={\"Saved to Watch Later\"}\r\n        playlistVideos={state.watchLater}\r\n        deleteVideo={deleteVideo}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { PlaylistVideos } from \"../playlistVideos/PlaylistVideos\";\r\nimport { usePlaylistVideos } from \"../../context/playlistVideos/PlaylistVideosContext\";\r\n\r\nexport const History = () => {\r\n  const { state, deleteVideo, deleteAllVideosFromHistory } =\r\n    usePlaylistVideos();\r\n  return (\r\n    <div>\r\n      <PlaylistVideos\r\n        playlistId={\"history\"}\r\n        playlistTitle={\"History\"}\r\n        playlistVideos={state.history}\r\n        deleteVideo={deleteVideo}\r\n        deleteAllVideosFromHistory={deleteAllVideosFromHistory}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { Playlist } from \"../../assets/images\";\r\nimport \"./playlists.css\";\r\n\r\nexport const Playlists = () => {\r\n  return (\r\n    <div className=\"playlists-outer-container\">\r\n      <div className=\"playlists-inner-container flex-col align-center\">\r\n        <h2 className=\"text-center my-2 text-lg text-white\">All Playlists </h2>\r\n        <div className=\"playlists-wrapper\">\r\n          <div className=\"playlist-container\">\r\n            <img src={Playlist} alt=\"playlist\" className=\"playlist-image\"  />\r\n            <div className=\"text-white text-center like\">Liked Videos</div>\r\n          </div>\r\n          <div className=\"playlist-container\">\r\n            <img src={Playlist} alt=\"playlist\" className=\"playlist-image\"  />\r\n            <div className=\"text-white text-center like\">Liked Videos</div>\r\n          </div>\r\n          <div className=\"playlist-container\">\r\n            <img src={Playlist} alt=\"playlist\" className=\"playlist-image\"  />\r\n            <div className=\"text-white text-center like\">Liked Videos</div>\r\n          </div>\r\n          <div className=\"playlist-container\">\r\n            <img src={Playlist} alt=\"playlist\" className=\"playlist-image\"  />\r\n            <div className=\"text-white text-center like\">Liked Videos</div>\r\n          </div>\r\n         \r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react'\r\nimport { usePlaylistVideos } from '../../context/playlistVideos/PlaylistVideosContext'\r\nimport { PlaylistVideos } from '../playlistVideos/PlaylistVideos'\r\n\r\nexport const Likes = () => {\r\n    const {state,deleteVideo} = usePlaylistVideos();\r\n  return (\r\n    <div>\r\n        <PlaylistVideos\r\n         playlistId={\"likes\"}\r\n         playlistTitle={\"Likes\"}\r\n         playlistVideos={state.likes}\r\n         deleteVideo={deleteVideo}\r\n        />\r\n\r\n       \r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nconst AuthContainer = ({ children,title,imageUrl }) => {\r\n  return (\r\n    <div className=\"authentication-details-container flex-row mx-2\">\r\n      <div className=\"authentication-image-container\">\r\n        <img src={imageUrl} alt={title} />\r\n      </div>\r\n      <div className=\"form-components-container flex-col\">\r\n        <div className=\"wrapper p-2 my-2 flex-col\">\r\n          <h2 className=\"my-2 form-heading text-sm\">{title}</h2>\r\n         {children}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { AuthContainer };\r\n","import React, { useState } from \"react\";\r\nimport { Link,useNavigate} from \"react-router-dom\";\r\nimport { AuthContainer } from \"./component/AuthContainer\";\r\nimport { SigninImage } from \"../../assets/images\";\r\nimport {\r\n  BsFillEyeFill,\r\n  FaEnvelope,\r\n  AiOutlineArrowRight,\r\n} from \"../../assets/icons\";\r\nimport \"./auth.css\"\r\n\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState();\r\n\r\n  const [password, setPassword] = useState();\r\n  return (\r\n    <AuthContainer title=\"Login\" imageUrl={SigninImage}>\r\n      <form className=\"signup-form-container flex-col\">\r\n        <ul>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"email\">\r\n                Email address\r\n              </label>\r\n\r\n              <input\r\n                id=\"email\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"email\"\r\n                placeholder=\"priya@gmail.com\"\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n                required\r\n              />\r\n              <FaEnvelope className=\"email-icon text-xs text-white\"></FaEnvelope>\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"password-field-container text-white\">\r\n              <label className=\"text-xs\" htmlFor=\"password\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n                required\r\n              />\r\n              <BsFillEyeFill className=\"password-eye-icon text-xs text-white\"></BsFillEyeFill>\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"flex-row align-center justify-between mt-1\">\r\n              <div className=\"flex-row align-center my-2 text-white\">\r\n                <input  type=\"checkbox\" id=\"terms\" />\r\n                <label className=\"text-xs ml-1\" htmlFor=\"terms\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"flex-row  align-center\">\r\n                <Link to=\"/forgotPassword\" className=\"text-xs text-white forget-password\">\r\n                  Forget Password\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          className=\"button primary-button-pink my-2 text-xs\"\r\n          onClick={async(e) => {\r\n        \r\n          }}\r\n        >\r\n          Login\r\n        </button>\r\n        <div>\r\n          <Link to=\"/signup\" className=\"text-xs text-white\">\r\n            Create New Account\r\n            <span>\r\n              <AiOutlineArrowRight className=\"ml-2 text-white\"></AiOutlineArrowRight>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport { Login };\r\n","import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { SignupImage } from \"../../assets/images\";\r\nimport { AuthContainer } from \"./component/AuthContainer\";\r\nimport \"./auth.css\"\r\nimport {\r\n  BsFillEyeFill,\r\n  FaEnvelope,\r\n  AiOutlineArrowRight,\r\n} from \"../../assets/icons\";\r\n\r\n\r\nconst Signup = () => {\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n \r\n  return (\r\n    <AuthContainer title=\"Signup\" imageUrl={SignupImage}>\r\n      <form className=\"signup-form-container flex-col\">\r\n        <ul>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"firstName\">\r\n                First name\r\n              </label>\r\n              <input\r\n                id=\"firstName\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"text\"\r\n                placeholder=\"priya\"\r\n                value={formData.firstName}\r\n                onChange={{}}\r\n                required\r\n              />\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"lastName\">\r\n                Last name\r\n              </label>\r\n              <input\r\n                id=\"lastName\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"text\"\r\n                placeholder=\"patel\"\r\n                value={formData.lastName}\r\n                onChange={{}}\r\n                required\r\n              />\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"email\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"email\"\r\n                placeholder=\"priya@gmail.com\"\r\n                value={formData.email}\r\n                onChange={{}}\r\n                required\r\n              />\r\n              <FaEnvelope className=\"email-icon text-xs text-white\"></FaEnvelope>\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"password-field-container text-white\">\r\n              <label className=\"text-xs\" htmlFor=\"password\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                className=\"input-field form-control text-xs text-white\"\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                value={formData.password}\r\n                onChange={{}}\r\n                required\r\n              />\r\n              <BsFillEyeFill className=\"password-eye-icon text-xs text-white\"></BsFillEyeFill>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          className=\"button primary-button-pink my-2 text-xs\"\r\n          onClick={{}}\r\n        >\r\n          Create New Account\r\n        </button>\r\n        <div>\r\n          <Link to=\"/login\" className=\"text-xs text-white\">\r\n            Already have an account\r\n            <span>\r\n              <AiOutlineArrowRight className=\"ml-2\"></AiOutlineArrowRight>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport { Signup };\r\n","import \"./App.css\";\r\nimport { Home } from \"./pages/home/Home\";\r\nimport { HeroSection } from \"./pages/home/components/heroSection/HeroSection\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport { Explore } from \"./pages/explore/explore\";\r\nimport { WithHeader } from \"./shared/components/withHeader/WithHeader\";\r\nimport Mockman from \"./mockMan\";\r\nimport { WatchLater } from \"./pages/watchLater/WatchLater\";\r\nimport { History } from \"./pages/history/History\";\r\nimport { Playlists } from \"./pages/playlists/Playlists\";\r\nimport { Likes } from \"./pages/likes/Likes\";\r\nimport {Login} from \"./pages/auth/Login\"\r\nimport {Signup} from \"./pages/auth/Signup\"\r\n\r\nfunction App() { \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Routes>\r\n        <Route path=\"/\" element={<WithHeader />}>\r\n          <Route path=\"mockApi\" element={<Mockman />}></Route>\r\n          <Route path=\"/\" element={<Home />}>\r\n            <Route index element={<HeroSection />} />\r\n            <Route path=\"explore\" element={<Explore />} />\r\n            <Route path=\"watchlater\" element={<WatchLater />} />\r\n            <Route path=\"playlists\" element={<Playlists />} />\r\n            <Route path=\"likes\" element={<Likes />} />\r\n            <Route path=\"history\" element={<History />} />\r\n          </Route>\r\n        </Route>\r\n        {/* {!isUserLoggedIn && ( */}\r\n        \r\n            <Route path=\"login\" element={<Login />} />\r\n            <Route path=\"signup\" element={<Signup />} />\r\n       \r\n        {/* )} */}\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { Response } from \"miragejs\";\r\nimport dayjs from \"dayjs\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const requiresAuth = function (request) {\r\n  const encodedToken = request.requestHeaders.authorization;\r\n  const decodedToken = jwt_decode(\r\n    encodedToken,\r\n    process.env.REACT_APP_JWT_SECRET\r\n  );\r\n  if (decodedToken) {\r\n    const user = this.db.users.findBy({ email: decodedToken.email });\r\n    return user;\r\n  }\r\n  return new Response(\r\n    401,\r\n    {},\r\n    { errors: [\"The token is invalid. Unauthorized access error.\"] }\r\n  );\r\n};\r\n\r\nexport const formatDate = () => dayjs().format(\"YYYY-MM-DDTHH:mm:ssZ\");\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { Response } from \"miragejs\";\r\nimport { formatDate } from \"../utils/authUtils\";\r\nconst sign = require(\"jwt-encode\");\r\n/**\r\n * All the routes related to Auth are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles user signups.\r\n * send POST Request at /api/auth/signup\r\n * body contains {firstName, lastName, email, password}\r\n * */\r\n\r\nexport const signupHandler = function (schema, request) {\r\n  const { email, password, ...rest } = JSON.parse(request.requestBody);\r\n  try {\r\n    // check if email already exists\r\n    const foundUser = schema.users.findBy({ email });\r\n    if (foundUser) {\r\n      return new Response(\r\n        422,\r\n        {},\r\n        {\r\n          errors: [\"Unprocessable Entity. Email Already Exists.\"],\r\n        }\r\n      );\r\n    }\r\n    const _id = uuid();\r\n    const newUser = {\r\n      _id,\r\n      email,\r\n      password,\r\n      createdAt: formatDate(),\r\n      updatedAt: formatDate(),\r\n      ...rest,\r\n      likes: [],\r\n      history: [],\r\n      playlists: [],\r\n    };\r\n    const createdUser = schema.users.create(newUser);\r\n    const encodedToken = sign({ _id, email }, process.env.REACT_APP_JWT_SECRET);\r\n    return new Response(201, {}, { createdUser, encodedToken });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles user login.\r\n * send POST Request at /api/auth/login\r\n * body contains {email, password}\r\n * */\r\n\r\nexport const loginHandler = function (schema, request) {\r\n  const { email, password } = JSON.parse(request.requestBody);\r\n  try {\r\n    const foundUser = schema.users.findBy({ email });\r\n    if (!foundUser) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        { errors: [\"The email you entered is not Registered. Not Found error\"] }\r\n      );\r\n    }\r\n    if (password === foundUser.password) {\r\n      const encodedToken = sign(\r\n        { _id: foundUser._id, email },\r\n        process.env.REACT_APP_JWT_SECRET\r\n      );\r\n      foundUser.password = undefined;\r\n      return new Response(200, {}, { foundUser, encodedToken });\r\n    }\r\n    new Response(\r\n      401,\r\n      {},\r\n      {\r\n        errors: [\r\n          \"The credentials you entered are invalid. Unauthorized access error.\",\r\n        ],\r\n      }\r\n    );\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to User History are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's history.\r\n * send GET Request at /api/user/history\r\n * */\r\nexport const getHistoryVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { history: user.history });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's history.\r\n * send POST Request at /api/user/history\r\n * body contains {video}\r\n * */\r\n\r\nexport const addVideoToHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.history.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your history\"],\r\n        }\r\n      );\r\n    }\r\n    user.history.push(video);\r\n    return new Response(201, {}, { history: user.history });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's history.\r\n * send DELETE Request at /api/user/history/:videoId\r\n * */\r\n\r\nexport const removeVideoFromHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    const videoId = request.params.videoId;\r\n    const filteredHistory = user.history.filter((item) => item._id !== videoId);\r\n    this.db.users.update({ history: filteredHistory });\r\n    return new Response(200, {}, { history: filteredHistory });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's history.\r\n * send DELETE Request at /api/user/history/all\r\n * */\r\n\r\nexport const clearHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    this.db.users.update({ history: [] });\r\n    return new Response(200, {}, { history: [] });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\n\r\n/**\r\n * All the routes related to Videos are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles gets all videos in the db.\r\n * send GET Request at /api/videos\r\n * */\r\n\r\nexport const getAllVideosHandler = function () {\r\n  try {\r\n    return new Response(200, {}, { videos: this.db.videos });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles uploads a new video to the db.\r\n * send POST Request at /api/user/videos/\r\n * */\r\n\r\n// TODO: postVideoHandler\r\n\r\n/**\r\n * This handler handles gets all videos in the db.\r\n * send GET Request at /api/user/videos/:videoId\r\n * */\r\n\r\nexport const getVideoHandler = function (schema, request) {\r\n  const { videoId } = request.params;\r\n  try {\r\n    const video = schema.videos.findBy({ _id: videoId }).attrs;\r\n    return new Response(200, {}, { video });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","/**\r\n * Videos Database can be added here.\r\n * You can add videos of your wish with different attributes\r\n * */\r\n\r\nexport const videos = [\r\n  {\r\n    _id: \"A30IuIjQYYg\",\r\n    title: \"Thailand - Cinematic Travel\",\r\n    description: \"Land of incredible stories.\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"country\",\r\n    views: \"290\",\r\n    releaseDate: \"Aug 28 2018\",\r\n  },\r\n  {\r\n    _id: \"DIgv-e18OzA\",\r\n    title: \"Vietnam - Cinematic Travel\",\r\n    description: \"Land of ancient secrets\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"city\",\r\n    views: \"110\",\r\n    releaseDate: \"Sept 12 2021\",\r\n  },\r\n  {\r\n    _id: \"oM_9lF4u4_o\",\r\n    title: \"Kedarnath Yatra 2020\",\r\n    description: \"Sonprayag to Kedarnath Temple, 16km Trekking\",\r\n    creator: \"Naveen Rawat\",\r\n    categoryName: \"state\",\r\n    views: \"1\",\r\n    releaseDate: \"Nov 10 2011\",\r\n  },\r\n  {\r\n    _id: \"ssYuPTdMt8A\",\r\n    title: \"Visit in Gibhi\",\r\n    description: \"10 Beautiful Tourist categoryNames to Visit in Jibhi\",\r\n    creator: \"Walking wanderer\",\r\n    categoryName: \"village\",\r\n    views: \"2\",\r\n    releaseDate: \"Dec 19 2013\",\r\n  },\r\n  {\r\n    _id: \"2YlOJiEUVOY&t=5s\",\r\n    title: \"Tirthan Valley\",\r\n    description: \"Travel Guide 2020 | Trek\",\r\n    creator: \"Abhimanyu Dalal\",\r\n    categoryName: \"town\",\r\n    views: \"210\",\r\n    releaseDate: \"Dec 9 2017\",\r\n  },\r\n  {\r\n    _id: \"AotsXapzQyU\",\r\n    title: \"Shimla Kufri\",\r\n    description: \"Travel to Kufri\",\r\n    creator: \"Modern banjare\",\r\n    categoryName: \"city\",\r\n    views: \"230\",\r\n    releaseDate: \"Apr 13 2012\",\r\n  },\r\n  {\r\n    _id: \"hn6-k3bLcaE\",\r\n    title: \"KOLKATA - FROM THE SKY\",\r\n    description: \"DRONE FOOTAGE || DJI MAVIC MINI\",\r\n    creator: \"Take a tour\",\r\n    categoryName: \"city\",\r\n    views: \"4\",\r\n    releaseDate: \"Jan 28 2017\",\r\n  },\r\n  {\r\n    _id: \"vydEu1I9r5c\",\r\n    title: \"Ladakh\",\r\n    description: \"Pangong Lake | Nubra Valley\",\r\n    creator: \"Garima's good life\",\r\n    categoryName: \"union territory\",\r\n    views: \"4\",\r\n    releaseDate: \"Jan 14 2010\",\r\n  },\r\n  {\r\n    _id: \"qi52KQs67MY\",\r\n    title: \"Philippines\",\r\n    description: \"Land of enchanted Islands | Epic Travel Cinematic\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"country\",\r\n    views: \"10\",\r\n    releaseDate: \"Mar 24 2015\",\r\n  },];\r\n","import { v4 as uuid } from \"uuid\";\r\n\r\n/**\r\n * Category Database can be added here.\r\n * You can add category of your wish with different attributes\r\n * */\r\n\r\nexport const categories = [\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"State\",\r\n    },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Country\",\r\n    },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Town\",\r\n  },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Union Territory\",\r\n  },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"City\",\r\n  },\r\n];\r\n","import { Response } from \"miragejs\";\r\n/**\r\n * All the routes related to Category are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles gets all categories in the db.\r\n * send GET Request at /api/categories\r\n * */\r\n\r\nexport const getAllCategoriesHandler = function () {\r\n  try {\r\n    return new Response(200, {}, { categories: this.db.categories });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles gets all categories in the db.\r\n * send GET Request at /api/user/category/:categoryId\r\n * */\r\n\r\nexport const getCategoryHandler = function (schema, request) {\r\n  const { categoryId } = request.params;\r\n  try {\r\n    const category = schema.categories.findBy({ _id: categoryId }).attrs;\r\n    return new Response(200, {}, { category });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to Liked Videos are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's likes.\r\n * send GET Request at /api/user/likes\r\n * */\r\nexport const getLikedVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { likes: user.likes });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's likes.\r\n * send POST Request at /api/user/likes\r\n * body contains {video}\r\n * */\r\n\r\nexport const addItemToLikedVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.likes.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your liked videos\"],\r\n        }\r\n      );\r\n    }\r\n    user.likes.push(video);\r\n    return new Response(201, {}, { likes: user.likes });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's likes.\r\n * send DELETE Request at /api/user/likes/:videoId\r\n * */\r\n\r\nexport const removeItemFromLikedVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const videoId = request.params.videoId;\r\n    const filteredLikes = user.likes.filter((item) => item._id !== videoId);\r\n    this.db.users.update({ likes: filteredLikes });\r\n    return new Response(200, {}, { likes: filteredLikes });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\n/**\r\n * All the routes related to User Playlists are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting all user's playlists.\r\n * send GET Request at /api/user/playlist\r\n * */\r\nexport const getAllPlaylistsHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { playlists: user.playlists });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding playlist to user's playlists.\r\n * send POST Request at /api/user/playlists\r\n * body contains {playlist: {title: \"foo\", description:\"bar bar bar\" }}\r\n * */\r\n\r\nexport const addNewPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { playlist } = JSON.parse(request.requestBody);\r\n    user.playlists.push({ ...playlist, videos: [], _id: uuid() });\r\n    return new Response(201, {}, { playlists: user.playlists });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's playlists.\r\n * send DELETE Request at /api/user/playlists/:playlistId\r\n * */\r\n\r\nexport const removePlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const filteredPlaylists = user.playlists.filter(\r\n      (item) => item._id !== playlistId\r\n    );\r\n    this.db.users.update({ playlists: filteredPlaylists });\r\n    return new Response(200, {}, { playlists: filteredPlaylists });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles getting videos from user's playlist.\r\n * send GET Request at /api/user/playlists/:playlistId\r\n * */\r\n\r\nexport const getVideosFromPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const playlist = user.playlists.find((item) => item._id !== playlistId);\r\n    return new Response(200, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles adding videos from user's playlist.\r\n * send POST Request at /api/user/playlists/:playlistId\r\n * body contains {video}\r\n * */\r\n\r\nexport const addVideoToPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const { video } = JSON.parse(request.requestBody);\r\n    const playlist = user.playlists.find((item) => item._id === playlistId);\r\n    if (playlist.videos.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your playlist\"],\r\n        }\r\n      );\r\n    }\r\n    playlist.videos.push(video);\r\n    return new Response(201, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's playlist.\r\n * send DELETE Request at /api/user/playlists/:playlistId/:videoId\r\n * */\r\n\r\nexport const removeVideoFromPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const videoId = request.params.videoId;\r\n    let playlist = user.playlists.find((item) => item._id === playlistId);\r\n    const filteredVideos = playlist.videos.filter(\r\n      (item) => item._id !== videoId\r\n    );\r\n    playlist.videos = filteredVideos;\r\n    return new Response(200, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { formatDate } from \"../utils/authUtils\";\r\n/**\r\n * User Database can be added here.\r\n * You can add default users of your wish with different attributes\r\n * Every user will have likes (Likes are set to 0 by default), History Array, Playlists Array (added Watch Later Playlist in it by default) by default\r\n * */\r\n\r\nexport const users = [\r\n  {\r\n    _id: uuid(),\r\n    firstName: \"Adarsh\",\r\n    lastName: \"Balika\",\r\n    email: \"adarshbalika@gmail.com\",\r\n    password: \"adarshBalika123\",\r\n    createdAt: formatDate(),\r\n    updatedAt: formatDate(),\r\n  },\r\n];\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to Watch Later Videos are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's watchlater playlist.\r\n * send GET Request at /api/user/watchlater\r\n * */\r\n\r\nexport const getWatchLaterVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { watchlater: user.watchlater });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's watchlater playlist.\r\n * send POST Request at /api/user/watchlater\r\n * body contains {video}\r\n * */\r\n\r\nexport const addItemToWatchLaterVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.watchlater.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your watch later videos\"],\r\n        }\r\n      );\r\n    }\r\n    user.watchlater.push(video);\r\n    return new Response(201, {}, { watchlater: user.watchlater });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's watchlater playlist.\r\n * send DELETE Request at /api/user/watchlater/:videoId\r\n * */\r\n\r\nexport const removeItemFromWatchLaterVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const videoId = request.params.videoId;\r\n    const filteredVideos = user.watchlater.filter(\r\n      (item) => item._id !== videoId\r\n    );\r\n    this.db.users.update({ watchlater: filteredVideos });\r\n    return new Response(200, {}, { watchlater: filteredVideos });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { Server, Model, RestSerializer } from \"miragejs\";\r\nimport {\r\n  loginHandler,\r\n  signupHandler,\r\n} from \"./backend/controllers/AuthController\";\r\nimport {\r\n  getHistoryVideosHandler,\r\n  addVideoToHistoryHandler,\r\n  removeVideoFromHistoryHandler,\r\n  clearHistoryHandler,\r\n} from \"./backend/controllers/HistoryController\";\r\nimport {\r\n  getAllVideosHandler,\r\n  getVideoHandler,\r\n} from \"./backend/controllers/VideoController\";\r\nimport { videos } from \"./backend/db/videos\";\r\nimport { categories } from \"./backend/db/categories\";\r\nimport {\r\n  getAllCategoriesHandler,\r\n  getCategoryHandler,\r\n} from \"./backend/controllers/CategoryController\";\r\nimport {\r\n  getLikedVideosHandler,\r\n  addItemToLikedVideos,\r\n  removeItemFromLikedVideos,\r\n} from \"./backend/controllers/LikeController\";\r\nimport {\r\n  getAllPlaylistsHandler,\r\n  addNewPlaylistHandler,\r\n  removePlaylistHandler,\r\n  getVideosFromPlaylistHandler,\r\n  addVideoToPlaylistHandler,\r\n  removeVideoFromPlaylistHandler,\r\n} from \"./backend/controllers/PlaylistController\";\r\nimport { users } from \"./backend/db/users\";\r\nimport {\r\n  addItemToWatchLaterVideos,\r\n  getWatchLaterVideosHandler,\r\n  removeItemFromWatchLaterVideos,\r\n} from \"./backend/controllers/WatchLaterController\";\r\nexport function makeServer({ environment = \"development\" } = {}) {\r\n  return new Server({\r\n    serializers: {\r\n      application: RestSerializer,\r\n    },\r\n    environment,\r\n    // TODO: Use Relationships to have named relational Data\r\n    models: {\r\n      video: Model,\r\n      category: Model,\r\n      user: Model,\r\n      like: Model,\r\n      history: Model,\r\n      playlist: Model,\r\n      watchlater: Model,\r\n    },\r\n\r\n    // Runs on the start of the server\r\n    seeds(server) {\r\n      server.logging = false;\r\n      videos.forEach((item) => {\r\n        server.create(\"video\", { ...item });\r\n      });\r\n      categories.forEach((item) => server.create(\"category\", { ...item }));\r\n      users.forEach((item) =>\r\n        server.create(\"user\", {\r\n          ...item,\r\n          likes: [],\r\n          watchlater: [],\r\n          history: [],\r\n          playlists: [],\r\n        })\r\n      );\r\n    },\r\n\r\n    routes() {\r\n      this.namespace = \"api\";\r\n      // auth routes (public)\r\n      this.post(\"/auth/signup\", signupHandler.bind(this));\r\n      this.post(\"/auth/login\", loginHandler.bind(this));\r\n\r\n      // video routes (public)\r\n      this.get(\"/videos\", getAllVideosHandler.bind(this));\r\n      this.get(\"video/:videoId\", getVideoHandler.bind(this));\r\n\r\n      // TODO: POST VIDEO TO DB\r\n\r\n      // categories routes (public)\r\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\r\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this));\r\n\r\n      // likes routes (private)\r\n      this.get(\"/user/likes\", getLikedVideosHandler.bind(this));\r\n      this.post(\"/user/likes\", addItemToLikedVideos.bind(this));\r\n      this.delete(\"/user/likes/:videoId\", removeItemFromLikedVideos.bind(this));\r\n\r\n      // watch later routes (private)\r\n      this.get(\"/user/watchlater\", getWatchLaterVideosHandler.bind(this));\r\n      this.post(\"/user/watchlater\", addItemToWatchLaterVideos.bind(this));\r\n      this.delete(\r\n        \"/user/watchlater/:videoId\",\r\n        removeItemFromWatchLaterVideos.bind(this)\r\n      );\r\n\r\n      // playlist routes (private)\r\n      this.get(\"/user/playlists\", getAllPlaylistsHandler.bind(this));\r\n      this.post(\"/user/playlists\", addNewPlaylistHandler.bind(this));\r\n      this.delete(\r\n        \"/user/playlists/:playlistId\",\r\n        removePlaylistHandler.bind(this)\r\n      );\r\n\r\n      this.get(\r\n        \"/user/playlists/:playlistId\",\r\n        getVideosFromPlaylistHandler.bind(this)\r\n      );\r\n      this.post(\r\n        \"/user/playlists/:playlistId\",\r\n        addVideoToPlaylistHandler.bind(this)\r\n      );\r\n      this.delete(\r\n        \"/user/playlists/:playlistId/:videoId\",\r\n        removeVideoFromPlaylistHandler.bind(this)\r\n      );\r\n\r\n      // history routes (private)\r\n      this.get(\"/user/history\", getHistoryVideosHandler.bind(this));\r\n      this.post(\"/user/history\", addVideoToHistoryHandler.bind(this));\r\n      this.delete(\r\n        \"/user/history/:videoId\",\r\n        removeVideoFromHistoryHandler.bind(this)\r\n      );\r\n      this.delete(\"/user/history/all\", clearHistoryHandler.bind(this));\r\n    },\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { ExploreContextProvider } from \"./context/explore/ExploreContext\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { makeServer } from \"./server\";\r\nimport { PlaylistVideosContextProvider } from \"./context/playlistVideos/PlaylistVideosContext\";\r\nmakeServer();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <PlaylistVideosContextProvider>\r\n      <ExploreContextProvider>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </ExploreContextProvider>\r\n    </PlaylistVideosContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}