(this.webpackJsonphotstream=this.webpackJsonphotstream||[]).push([[0],{123:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},130:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),i=r(54),n=r.n(i),o=(r(75),r(76),r(77),r(13)),c=r(24),l=r(36),d=r(25),u=r(37),b=(r(78),r(2)),h=function(){var e=function(e){return e.isActive?"sidebar-item active":"sidebar-item"};return Object(b.jsxs)("ul",{className:"sidebar-items  list-style-none",children:[Object(b.jsxs)(o.b,{to:"/",className:e,children:[Object(b.jsx)(l.a,{className:"mr-1 sidebar-item-icon"}),Object(b.jsx)("span",{className:"sidebar-content",children:"Home"})]}),Object(b.jsxs)(o.b,{to:"/explore",className:e,children:[Object(b.jsx)(d.a,{className:"mr-1 sidebar-item-icon"}),Object(b.jsx)("span",{className:"sidebar-content",children:"Explore"})]}),Object(b.jsxs)(o.b,{to:"/playlists",className:e,children:[Object(b.jsx)(c.a,{className:"mr-1 sidebar-item-icon"}),Object(b.jsx)("span",{className:"sidebar-content",children:"Playlists"})]}),Object(b.jsxs)(o.b,{to:"/like",className:e,children:[Object(b.jsx)(u.a,{className:"mr-1 sidebar-item-icon"}),Object(b.jsx)("span",{className:"sidebar-content",children:"Like"})]}),Object(b.jsxs)(o.b,{to:"/history",className:e,children:[Object(b.jsx)(u.b,{className:"mr-1 sidebar-item-icon"}),Object(b.jsx)("span",{className:"sidebar-content",children:"History"})]})]})},p=r(4),j=function(){return Object(b.jsxs)("div",{className:"home-container",children:[Object(b.jsx)(h,{}),Object(b.jsx)(p.a,{})]})},m=(r(80),function(){var e=Object(p.g)();return Object(b.jsxs)("div",{className:"hero-section-container",children:[Object(b.jsx)("img",{src:"https://miro.medium.com/max/1400/1*5lyavS59mazOFnb55Z6znQ.png",alt:"hero-img",className:"hero-image"}),Object(b.jsxs)("div",{className:"text-overlay-container",children:[Object(b.jsxs)("h1",{className:"overlay-text",children:["IT'S TIME TO ",Object(b.jsx)("span",{className:"explore-text",children:"EXPLORE"})," ",Object(b.jsx)("br",{})," THE WORLD"]}),Object(b.jsx)("button",{className:"button explore-btn",onClick:function(){e("/explore")},children:"Explore Now "})]})]})}),y=r(6),v=(r(81),r(82),r(12)),f=r(14),O=r(9),x=r.n(O),g=function(e,t){switch(t.type){case"FETCH_DATA":return Object(y.a)(Object(y.a)({},e),{},{videos:t.payload.videos,categories:t.payload.categories});case"UPDATE_CATEGORY":return Object(y.a)(Object(y.a)({},e),{},{selectedCategory:t.payload.categoryName});case"UPDATE_DROPDOWN":return Object(y.a)(Object(y.a)({},e),{},{selectedDropdownId:t.payload.id});default:return e}},N=r(55),w=r.n(N);function k(e){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(x.a.mark((function e(t){var r,s,a,i,n,o,c,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,s=t.method,a=t.body,i=t.propertyName,n=JSON.parse(localStorage.getItem("user")),e.prev=2,e.next=5,w()({method:s,url:r,data:a,headers:{authorization:null!==n?n.token:""}});case 5:if(o=e.sent,c=o.data,200!==(l=o.status)&&201!==l){e.next=10;break}return e.abrupt("return",{data:c,success:!0,message:"".concat(i," fetched successfully!!")});case 10:throw console.log(c),Error("API request failed");case 14:return e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",{data:null,success:!1,message:"".concat(i," failed to fetch")});case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}var A=function(){var e=Object(f.a)(x.a.mark((function e(){var t,r,s,a,i,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({url:"/api/videos",method:"get",propertyName:"videos"});case 3:return t=e.sent,r=t.data,s=t.success,e.next=8,k({url:"/api/categories",method:"get",propertyName:"categories"});case 8:if(a=e.sent,i=a.data,n=a.success,!s||!n){e.next=13;break}return e.abrupt("return",{data:{videos:r.videos,categories:i.categories},success:!0,message:"Data fetched successfully"});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,suceess:!1,message:"Data failed to fetch"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),_=Object(s.createContext)(),D=function(e){var t=e.children;Object(s.useEffect)((function(){Object(f.a)(x.a.mark((function e(){var t,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,r=t.data,t.success&&d({type:"FETCH_DATA",payload:{videos:r.videos,categories:r.categories}});case 6:case"end":return e.stop()}}),e)})))()}),[]);var r=Object(s.useReducer)(g,{videos:[],categories:[],selectedCategory:"All",selectedDropdownId:null}),a=Object(v.a)(r,2),i=a[0],n=i.videos,o=i.categories,c=i.selectedCategory,l=i.selectedDropdownId,d=a[1],u=function(e){return"All"===c?e:e.filter((function(e){return e.categoryName.toLowerCase()===c.toLowerCase()}))}(n);return Object(b.jsx)(_.Provider,{value:{videos:n,categories:o,selectedCategory:c,dispatch:d,filteredVideos:u,selectedDropdownId:l},children:t})},I=function(){return Object(s.useContext)(_)},E=r(56),C=r.n(E),R=(r(123),function(e){var t=e.options,r=e.onClick;return Object(b.jsx)("ul",{className:"dropdown-container",children:t.map((function(e){return Object(b.jsx)("li",{className:"list-style-none dropdown-option",onClick:function(){r(e.value)},children:e.item},e.value)}))})}),F=function(e){var t=e._id,r=e.title,s=e.description,a=e.creator,i=e.views,n=e.releaseDate,o=[{item:Object(b.jsxs)("div",{children:[Object(b.jsx)(c.a,{className:"mr-1"})," Add to playlists"]}),value:"playlist"},{item:Object(b.jsxs)("div",{children:[Object(b.jsx)(d.b,{className:"mr-1"})," Add to watch later"]}),value:"watchLater"}],l=I(),u=l.selectedDropdownId,h=l.dispatch;return Object(b.jsxs)("div",{className:"video-card-container flex-col",children:[Object(b.jsxs)("div",{className:"video-wrapper",children:[Object(b.jsx)(C.a,{className:"react-player",url:"https://www.youtube.com/watch?v=".concat(t),width:"100%",height:"100%",light:!1}),Object(b.jsxs)("div",{className:"video-badge",children:[i,"M views"]})]}),Object(b.jsxs)("div",{className:"p-2 content-container",children:[Object(b.jsxs)("div",{className:"flex-row justify-between",children:[Object(b.jsx)("h2",{className:"video-card-title font-semibold",children:r}),Object(b.jsx)(c.c,{className:"three-dots-icon",onClick:function(){h({type:"UPDATE_DROPDOWN",payload:{id:t===u?null:t}})}}),u===t&&Object(b.jsx)(R,{options:o,onClick:function(e){console.log(e),h({type:"UPDATE_DROPDOWN",payload:{id:null}})}})]}),Object(b.jsxs)("div",{className:"flex-col",children:[Object(b.jsx)("p",{className:"video-card-subtitle my-1 font-medium text-grey",children:s}),Object(b.jsxs)("ul",{className:"flex-row",children:[Object(b.jsx)("li",{className:"video-creator list-style-none font-medium text-grey",children:a}),Object(b.jsx)("li",{className:"release-date font-medium text-grey",children:n})]})]})]})]})},B=(r(124),function(){var e=I(),t=e.categories,r=e.dispatch,s=e.selectedCategory;return Object(b.jsxs)("div",{className:"flex-row explore-list-items list-style-none",children:[Object(b.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()==="All".toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:"All"}})},children:"All"}),t.map((function(e){return Object(b.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()===e.categoryName.toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:e.categoryName}})},children:null===e||void 0===e?void 0:e.categoryName},null===e||void 0===e?void 0:e._id)}))]})}),L=function(){var e=I().filteredVideos;return Object(b.jsxs)("div",{className:"explore-container",children:[Object(b.jsx)("div",{className:"flex-col",children:Object(b.jsx)(B,{})}),Object(b.jsx)("div",{className:"flex-row flex-wrap gap-1 justify-center p-2",children:e.map((function(e){return Object(s.createElement)(F,Object(y.a)(Object(y.a)({},e),{},{key:e._id}))}))})]})},S=(r(125),function(){return Object(b.jsxs)("nav",{className:"header-container",children:[Object(b.jsxs)("div",{className:"logo",children:[Object(b.jsx)("span",{className:"logo-text1",children:"HOT"}),Object(b.jsx)("span",{className:"logo-text2",children:"STREAM"})]}),Object(b.jsxs)("form",{className:"searchBar-container",children:[Object(b.jsx)(c.b,{className:"search-icon"}),Object(b.jsx)("input",{type:"search",placeholder:"Search Videos",className:"search-input"})]}),Object(b.jsx)("button",{className:"login-button",children:"Login"})]})}),P=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S,{}),Object(b.jsx)(p.a,{})]})},M=r(57);var Y=function(){return Object(b.jsx)("div",{className:"MockAPI",children:Object(b.jsx)(M.a,{})})};var q=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(p.d,{children:Object(b.jsxs)(p.b,{path:"/",element:Object(b.jsx)(P,{}),children:[Object(b.jsx)(p.b,{path:"mockApi",element:Object(b.jsx)(Y,{})}),Object(b.jsxs)(p.b,{path:"/",element:Object(b.jsx)(j,{}),children:[Object(b.jsx)(p.b,{index:!0,element:Object(b.jsx)(m,{})}),Object(b.jsx)(p.b,{path:"explore",element:Object(b.jsx)(L,{})})]})]})})})},J=r(3),U=r(70),K=r(131),H=r(58),V=r.n(H),z=r(59),G=function(e){var t=e.requestHeaders.authorization,r=Object(z.a)(t,'"kkhekke";');return r?this.db.users.findBy({email:r.email}):new J.b(401,{},{errors:["The token is invalid. Unauthorized access error."]})},W=function(){return V()().format("YYYY-MM-DDTHH:mm:ssZ")},Q=["email","password"],X=r(128),Z=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password,i=Object(U.a)(r,Q);try{if(e.users.findBy({email:s}))return new J.b(422,{},{errors:["Unprocessable Entity. Email Already Exists."]});var n=Object(K.a)(),o=Object(y.a)(Object(y.a)({_id:n,email:s,password:a,createdAt:W(),updatedAt:W()},i),{},{likes:[],history:[],playlists:[]}),c=e.users.create(o),l=X({_id:n,email:s},'"kkhekke";');return new J.b(201,{},{createdUser:c,encodedToken:l})}catch(d){return new J.b(500,{},{error:d})}},$=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password;try{var i=e.users.findBy({email:s});if(!i)return new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});if(a===i.password){var n=X({_id:i._id,email:s},'"kkhekke";');return i.password=void 0,new J.b(200,{},{foundUser:i,encodedToken:n})}new J.b(401,{},{errors:["The credentials you entered are invalid. Unauthorized access error."]})}catch(o){return new J.b(500,{},{error:o})}},ee=function(e,t){var r=G.call(this,t);try{return r||new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]}),new J.b(200,{},{history:r.history})}catch(s){return new J.b(500,{},{error:s})}},te=function(e,t){var r=G.call(this,t);try{if(!r)return new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=JSON.parse(t.requestBody).video;return r.history.some((function(e){return e.id===s.id}))?new J.b(409,{},{errors:["The video is already in your history"]}):(r.history.push(s),new J.b(201,{},{history:r.history}))}catch(a){return new J.b(500,{},{error:a})}},re=function(e,t){var r=G.call(this,t);try{if(!r)return new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=t.params.videoId,a=r.history.filter((function(e){return e._id!==s}));return this.db.users.update({history:a}),new J.b(200,{},{history:a})}catch(i){return new J.b(500,{},{error:i})}},se=function(e,t){var r=G.call(this,t);try{return r?(this.db.users.update({history:[]}),new J.b(200,{},{history:[]})):new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new J.b(500,{},{error:s})}},ae=function(){try{return new J.b(200,{},{videos:this.db.videos})}catch(e){return new J.b(500,{},{error:e})}},ie=function(e,t){var r=t.params.videoId;try{var s=e.videos.findBy({_id:r}).attrs;return new J.b(200,{},{video:s})}catch(a){return new J.b(500,{},{error:a})}},ne=[{_id:"A30IuIjQYYg",title:"Thailand - Cinematic Travel",description:"Land of incredible stories.",creator:"Benn TK",categoryName:"country",views:"290",releaseDate:"Aug 28 2018"},{_id:"DIgv-e18OzA",title:"Vietnam - Cinematic Travel",description:"Land of ancient secrets",creator:"Benn TK",categoryName:"city",views:"110",releaseDate:"Sept 12 2021"},{_id:"oM_9lF4u4_o",title:"Kedarnath Yatra 2020",description:"Sonprayag to Kedarnath Temple, 16km Trekking",creator:"Naveen Rawat",categoryName:"state",views:"1",releaseDate:"Nov 10 2011"},{_id:"ssYuPTdMt8A",title:"Visit in Gibhi",description:"10 Beautiful Tourist categoryNames to Visit in Jibhi",creator:"Walking wanderer",categoryName:"village",views:"2",releaseDate:"Dec 19 2013"},{_id:"2YlOJiEUVOY&t=5s",title:"Tirthan Valley",description:"Travel Guide 2020 | Trek",creator:"Abhimanyu Dalal",categoryName:"town",views:"210",releaseDate:"Dec 9 2017"},{_id:"AotsXapzQyU",title:"Shimla Kufri",description:"Travel to Kufri",creator:"Modern banjare",categoryName:"city",views:"230",releaseDate:"Apr 13 2012"},{_id:"hn6-k3bLcaE",title:"KOLKATA - FROM THE SKY",description:"DRONE FOOTAGE || DJI MAVIC MINI",creator:"Take a tour",categoryName:"city",views:"4",releaseDate:"Jan 28 2017"},{_id:"vydEu1I9r5c",title:"Ladakh",description:"Pangong Lake | Nubra Valley",creator:"Garima's good life",categoryName:"union territory",views:"4",releaseDate:"Jan 14 2010"},{_id:"qi52KQs67MY",title:"Philippines",description:"Land of enchanted Islands | Epic Travel Cinematic",creator:"Benn TK",categoryName:"country",views:"10",releaseDate:"Mar 24 2015"}],oe=[{_id:Object(K.a)(),categoryName:"State"},{_id:Object(K.a)(),categoryName:"Country"},{_id:Object(K.a)(),categoryName:"Town"},{_id:Object(K.a)(),categoryName:"Union Territory"},{_id:Object(K.a)(),categoryName:"City"}],ce=function(){try{return new J.b(200,{},{categories:this.db.categories})}catch(e){return new J.b(500,{},{error:e})}},le=function(e,t){var r=t.params.categoryId;try{var s=e.categories.findBy({_id:r}).attrs;return new J.b(200,{},{category:s})}catch(a){return new J.b(500,{},{error:a})}},de=function(e,t){var r=G.call(this,t);try{return r?new J.b(200,{},{likes:r.likes}):new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new J.b(500,{},{error:s})}},ue=function(e,t){var r=G.call(this,t);if(r){var s=JSON.parse(t.requestBody).video;return r.likes.some((function(e){return e.id===s.id}))?new J.b(409,{},{errors:["The video is already in your liked videos"]}):(r.likes.push(s),new J.b(201,{},{likes:r.likes}))}return new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},be=function(e,t){var r=G.call(this,t);if(r){var s=t.params.videoId,a=r.likes.filter((function(e){return e._id!==s}));return this.db.users.update({likes:a}),new J.b(200,{},{likes:a})}return new J.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},he=function(e,t){var r=G.call(this,t);try{return r?new J.b(200,{},{playlists:r.playlists}):new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new J.b(500,{},{error:s})}},pe=function(e,t){var r=G.call(this,t);if(r){var s=JSON.parse(t.requestBody).playlist;return r.playlists.push(Object(y.a)(Object(y.a)({},s),{},{videos:[],_id:Object(K.a)()})),new J.b(201,{},{playlists:r.playlists})}return new J.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},je=function(e,t){var r=G.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.filter((function(e){return e._id!==s}));return this.db.users.update({playlists:a}),new J.b(200,{},{playlists:a})}return new J.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},me=function(e,t){var r=G.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.find((function(e){return e._id!==s}));return new J.b(200,{},{playlist:a})}return new J.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},ye=function(e,t){var r=G.call(this,t);if(r){var s=t.params.playlistId,a=JSON.parse(t.requestBody).video,i=r.playlists.find((function(e){return e._id===s}));return i.videos.some((function(e){return e.id===a.id}))?new J.b(409,{},{errors:["The video is already in your playlist"]}):(i.videos.push(a),new J.b(201,{},{playlist:i}))}return new J.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},ve=function(e,t){var r=G.call(this,t);if(r){var s=t.params.playlistId,a=t.params.videoId,i=r.playlists.find((function(e){return e._id===s})),n=i.videos.filter((function(e){return e._id!==a}));return i.videos=n,new J.b(200,{},{playlist:i})}return new J.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},fe=[{_id:Object(K.a)(),firstName:"Adarsh",lastName:"Balika",email:"adarshbalika@gmail.com",password:"adarshBalika123",createdAt:W(),updatedAt:W()}];!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.environment,r=void 0===t?"development":t;new J.d({serializers:{application:J.c},environment:r,models:{video:J.a,category:J.a,user:J.a,like:J.a,history:J.a,playlist:J.a},seeds:function(e){e.logging=!1,ne.forEach((function(t){e.create("video",Object(y.a)({},t))})),oe.forEach((function(t){return e.create("category",Object(y.a)({},t))})),fe.forEach((function(t){return e.create("user",Object(y.a)(Object(y.a)({},t),{},{likes:[],history:[],playlists:[]}))}))},routes:function(){this.namespace="api",this.post("/auth/signup",Z.bind(this)),this.post("/auth/login",$.bind(this)),this.get("/videos",ae.bind(this)),this.get("video/:videoId",ie.bind(this)),this.get("/categories",ce.bind(this)),this.get("/categories/:categoryId",le.bind(this)),this.get("/user/likes",de.bind(this)),this.post("/user/likes",ue.bind(this)),this.delete("/user/likes/:videoId",be.bind(this)),this.get("/user/playlists",he.bind(this)),this.post("/user/playlists",pe.bind(this)),this.delete("/user/playlists/:playlistId",je.bind(this)),this.get("/user/playlists/:playlistId",me.bind(this)),this.post("/user/playlists/:playlistId",ye.bind(this)),this.delete("/user/playlists/:playlistId/:videoId",ve.bind(this)),this.get("/user/history",ee.bind(this)),this.post("/user/history",te.bind(this)),this.delete("/user/history/:videoId",re.bind(this)),this.delete("/user/history/all",se.bind(this))}})}(),n.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(D,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(q,{})})})}),document.getElementById("root"))},75:function(e,t,r){},76:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},82:function(e,t,r){}},[[130,1,2]]]);
//# sourceMappingURL=main.2af96ed4.chunk.js.map