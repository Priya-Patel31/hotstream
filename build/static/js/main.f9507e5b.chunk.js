(this.webpackJsonphotstream=this.webpackJsonphotstream||[]).push([[0],{123:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},126:function(e,t,r){},127:function(e,t,r){},128:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){},136:function(e,t,r){"use strict";r.r(t);var s=r(2),a=r.n(s),n=r(56),i=r.n(n),c=(r(75),r(76),r(77),r(9)),o=r(18),l=r(27),u=r(23),d=r(20),p=(r(78),r(1)),b=function(){var e=function(e){return e.isActive?"sidebar-item active":"sidebar-item"};return Object(p.jsxs)("ul",{className:"sidebar-items  list-style-none",children:[Object(p.jsxs)(c.c,{to:"/",className:e,children:[Object(p.jsx)(l.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Home"})]}),Object(p.jsxs)(c.c,{to:"/explore",className:e,children:[Object(p.jsx)(u.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Explore"})]}),Object(p.jsxs)(c.c,{to:"/playlists",className:e,children:[Object(p.jsx)(o.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Playlists"})]}),Object(p.jsxs)(c.c,{to:"/likes",className:e,children:[Object(p.jsx)(d.a,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Likes"})]}),Object(p.jsxs)(c.c,{to:"/watchlater",className:e,children:[Object(p.jsx)(o.a,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Watch Later"})]}),Object(p.jsxs)(c.c,{to:"/history",className:e,children:[Object(p.jsx)(d.e,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"History"})]})]})},j=r(6),h=function(){return Object(p.jsxs)("div",{className:"home-container",children:[Object(p.jsx)(b,{}),Object(p.jsx)(j.a,{})]})},m=(r(80),function(){var e=Object(j.g)();return Object(p.jsxs)("div",{className:"hero-section-container",children:[Object(p.jsx)("img",{src:"https://miro.medium.com/max/1400/1*5lyavS59mazOFnb55Z6znQ.png",alt:"hero-img",className:"hero-image"}),Object(p.jsxs)("div",{className:"text-overlay-container",children:[Object(p.jsxs)("h1",{className:"overlay-text",children:["IT'S TIME TO ",Object(p.jsx)("span",{className:"explore-text",children:"EXPLORE"})," ",Object(p.jsx)("br",{})," THE WORLD"]}),Object(p.jsx)("button",{className:"button explore-btn",onClick:function(){e("/explore")},children:"Explore Now "})]})]})}),x=r(7),f=(r(81),r(5)),y=r(3),O=r.n(y),v=(r(83),r(8)),w=function(e,t){switch(t.type){case"FETCH_DATA":return Object(x.a)(Object(x.a)({},e),{},{videos:t.payload.videos,categories:t.payload.categories});case"UPDATE_CATEGORY":return Object(x.a)(Object(x.a)({},e),{},{selectedCategory:t.payload.categoryName});case"UPDATE_DROPDOWN":return Object(x.a)(Object(x.a)({},e),{},{selectedDropdownId:t.payload.id});default:return e}},N=r(57),g=r.n(N);function k(e){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(O.a.mark((function e(t){var r,s,a,n,i,c,o,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,s=t.method,a=t.body,n=t.propertyName,i=JSON.parse(localStorage.getItem("user")),e.prev=2,e.next=5,g()({method:s,url:r,data:a,headers:{authorization:null!==i?i.token:""}});case 5:if(c=e.sent,o=c.data,l=c.status,console.log(o),200!==l&&201!==l){e.next=11;break}return e.abrupt("return",{data:o,success:!0,message:"".concat(n," fetched successfully!!")});case 11:throw console.log(o),Error("API request failed");case 15:return e.prev=15,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",{data:null,success:!1,message:"".concat(n," failed to fetch")});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})))).apply(this,arguments)}var I=function(){var e=Object(f.a)(O.a.mark((function e(){var t,r,s,a,n,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({url:"/api/videos",method:"get",propertyName:"videos"});case 3:return t=e.sent,r=t.data,s=t.success,e.next=8,k({url:"/api/categories",method:"get",propertyName:"categories"});case 8:if(a=e.sent,n=a.data,i=a.success,!s||!i){e.next=13;break}return e.abrupt("return",{data:{videos:r.videos,categories:n.categories},success:!0,message:"Data fetched successfully"});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,suceess:!1,message:"Data failed to fetch"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),_=Object(s.createContext)(),A=function(e){var t=e.children;Object(s.useEffect)((function(){Object(f.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:t=e.sent,r=t.data,t.success&&u({type:"FETCH_DATA",payload:{videos:r.videos,categories:r.categories}});case 6:case"end":return e.stop()}}),e)})))()}),[]);var r=Object(s.useReducer)(w,{videos:[],categories:[],selectedCategory:"All",selectedDropdownId:null}),a=Object(v.a)(r,2),n=a[0],i=n.videos,c=n.categories,o=n.selectedCategory,l=n.selectedDropdownId,u=a[1],d=function(e){return"All"===o?e:e.filter((function(e){return e.categoryName.toLowerCase()===o.toLowerCase()}))}(i);return Object(p.jsx)(_.Provider,{value:{videos:i,categories:c,selectedCategory:o,dispatch:u,filteredVideos:d,selectedDropdownId:l},children:t})},C=function(){return Object(s.useContext)(_)},D=r(29),P=r.n(D),E=(r(123),function(e){var t=e.options,r=e.onClick;return Object(p.jsx)("ul",{className:"dropdown-container",children:t.map((function(e){return Object(p.jsx)("li",{className:"list-style-none dropdown-option",onClick:function(){r(e.value)},children:e.item},e.value)}))})}),S=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/watchlater",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/watchlater/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(f.a)(O.a.mark((function e(){var t,r,s,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({url:"/api/user/watchlater",method:"get"});case 3:return t=e.sent,e.next=6,k({url:"/api/user/likes",method:"get"});case 6:return r=e.sent,e.next=9,k({url:"/api/user/history",method:"get"});case 9:return s=e.sent,e.next=12,Promise.all([t,r,s]);case 12:return a=e.sent,e.abrupt("return",{data:{watchLater:a[0].data.watchlater,likes:a[1].data.likes,history:a[2].data.history},success:!0,message:"Fetched successfully"});case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{data:null,success:!1,message:"API failed"});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/likes",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/likes/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/history",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/history/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/history/all",method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=r(15),B=function(e,t){switch(t.type){case"GET_VIDEOS":var r=t.payload,s=r.watchLater,a=r.history,n=r.likes;return Object(x.a)(Object(x.a)({},e),{},{watchLater:s,history:a,likes:n});case"UPDATE_PLAYLIST_VIDEOS":return Object(x.a)(Object(x.a)({},e),{},Object(M.a)({},t.payload.playlistId,t.payload.videos));default:return e}},J=Object(s.createContext)(),H={status:"IDLE",watchLater:[],history:[],likes:[]},G=function(e){var t=e.children,r=Object(s.useReducer)(B,H),a=Object(v.a)(r,2),n=a[0],i=a[1];Object(s.useEffect)((function(){Object(f.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,r=t.data,t.success&&i({type:"GET_VIDEOS",payload:{watchLater:r.watchLater,history:r.history,likes:r.likes}});case 6:case"end":return e.stop()}}),e)})))()}),[]);var c=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var s,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(r);case 2:s=e.sent,a=s.data,s.success&&i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:t,videos:a.history}});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(f.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:if(t=e.sent,r=t.data,!t.success){e.next=8;break}return i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:"history",videos:r.history}}),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t){var r;return null===(r=n[e])||void 0===r?void 0:r.some((function(e){return e._id===t}))},u=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var s,a,n,c,o,u,d,p,b,j,h,m,f;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(new Date).toUTCString().slice(0,16),a=l(t,r._id),n=[],c=!1,e.t0=t,e.next="watchLater"===e.t0?6:"history"===e.t0?21:"likes"===e.t0?36:51;break;case 6:if(a){e.next=12;break}return e.next=9,S(Object(x.a)(Object(x.a)({},r),{},{addedAt:s}));case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,L(r._id);case 14:e.t1=e.sent;case 15:return o=e.t1,u=o.data,d=o.success,n=u.watchlater,c=d,e.abrupt("break",52);case 21:if(a){e.next=27;break}return e.next=24,R(Object(x.a)(Object(x.a)({},r),{},{addedAt:s}));case 24:e.t2=e.sent,e.next=30;break;case 27:return e.next=29,Y(r._id);case 29:e.t2=e.sent;case 30:return p=e.t2,b=p.data,j=p.success,n=b.history,c=j,e.abrupt("break",52);case 36:if(a){e.next=42;break}return e.next=39,V(Object(x.a)(Object(x.a)({},r),{},{addedAt:s}));case 39:e.t3=e.sent,e.next=45;break;case 42:return e.next=44,F(r._id);case 44:e.t3=e.sent;case 45:return h=e.t3,m=h.data,f=h.success,n=m.likes,c=f,e.abrupt("break",52);case 51:return e.abrupt("break",52);case 52:c&&i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:t,videos:n}});case 53:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(p.jsx)(J.Provider,{value:{updatePlaylistVideos:u,state:n,isVideoPresent:l,dispatch:i,deleteAllVideosFromHistory:o,handleOnPlay:c},children:t})},K=function(){return Object(s.useContext)(J)},z=Object(s.createContext)(),W=function(e){var t=e.children,r=Object(s.useState)(!1),a=Object(v.a)(r,2),n=a[0],i=a[1],c=Object(s.useState)({}),o=Object(v.a)(c,2),l=o[0],u=o[1],d=Object(s.useState)(null),b=Object(v.a)(d,2),j=b[0],h=b[1];return Object(p.jsx)(z.Provider,{value:{showModal:n,setShowModal:i,clickedVideos:l,setClickedVideos:u,selectedVideoId:j,setSelectedVideoId:h},children:t})},Q=function(){return Object(s.useContext)(z)},X=r(30),Z=function(e,t){switch(t.type){case"UPDATE_PLAYLIST":return Object(x.a)(Object(x.a)({},e),{},{playlists:t.payload.playlists});case"UPDATE_PLAYLIST_VIDEOS":var r=e.playlists.findIndex((function(e){return e._id===t.payload.playlist._id})),s=Object(X.a)(e.playlists);return s[r]=t.payload.playlist,Object(x.a)(Object(x.a)({},e),{},{playlists:s});case"ADD_VIDEOS":return Object(x.a)(Object(x.a)({},e),{},{playlists:e.playlists.map((function(e){return e._id===t.payload.playlist._id?t.payload.playlist:e}))});default:return e}},$=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,s=t.description,e.next=3,k({url:"/api/user/playlists",method:"post",body:{playlist:{title:r,description:s}},propertyName:"playlist"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/playlists",method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(f.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/playlists/".concat(t),method:"post",body:{video:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),re=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/playlists/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(f.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({url:"/api/user/playlists/".concat(t,"/").concat(r),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ae=Object(s.createContext)(),ne=function(e){var t=e.children,r=Object(s.useReducer)(Z,{playlists:[]}),a=Object(v.a)(r,2),n=a[0],i=a[1];Object(s.useEffect)((function(){Object(f.a)(O.a.mark((function e(){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ee(),r=t.data,t.success&&i({type:"UPDATE_PLAYLIST",payload:{playlists:r.playlists}});case 2:case"end":return e.stop()}}),e)})))()}),[i]);var c=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var s,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t,r);case 2:if(s=e.sent,a=s.data,!s.success){e.next=8;break}return i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlist:a.playlist}}),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(r=e.sent,s=r.data,!r.success){e.next=8;break}return i({type:"UPDATE_PLAYLIST",payload:{playlists:s.playlists}}),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(ae.Provider,{value:{state:n,dispatch:i,deleteVideosFromPlaylist:c,deletePlaylist:o},children:t})},ie=function(){return Object(s.useContext)(ae)},ce=(r(124),function(){var e,t=Q(),r=t.showModal,a=t.setShowModal,n=t.clickedVideos,i=t.selectedVideoId,c=Object(s.useState)(!1),l=Object(v.a)(c,2),u=l[0],b=l[1],j=Object(s.useState)(""),h=Object(v.a)(j,2),m=h[0],x=h[1],y=ie(),w=y.state,N=y.dispatch,g=y.deleteVideosFromPlaylist,k=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var s,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$({title:t,description:r});case 4:s=e.sent,a=s.data,n=s.success,console.log(a),n&&(N({type:"UPDATE_PLAYLIST",payload:{playlists:a.playlists}}),b(!u));case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(O.a.mark((function e(t,r){var s,a,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=12;break}return e.next=3,te(r._id,n);case 3:if(s=e.sent,a=s.data,!s.success){e.next=9;break}return N({type:"ADD_VIDEOS",payload:{playlist:a.playlist}}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 12:i=g(r._id,n._id),i.success;case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return r&&Object(p.jsx)("div",{className:"modal-wrapper",children:Object(p.jsxs)("div",{className:"hotstream-modal-container",children:[Object(p.jsxs)("div",{className:"flex-row justify-between playlist-modal-container p-2",children:[Object(p.jsx)("p",{className:"font-semibold hotstream-modal-heading text-white",children:"Save to..."}),Object(p.jsx)(d.d,{className:"hotstream-cross-icon text-white cursor-pointer",onClick:function(){a(!r)}})]}),Object(p.jsx)("div",{className:"flex-row pt-2 pb-1 px-1 playlists-content-container",children:u?Object(p.jsxs)("div",{className:"flex-col playlist-content",children:[Object(p.jsx)("p",{className:"text-white mb-1",children:"Playlist Name"}),Object(p.jsx)("input",{type:"text",placeholder:"Name",className:"mb-2 playlist-input",value:m,onChange:function(e){x(e.target.value)}}),Object(p.jsx)("button",{className:"button playlist-button font-semibold",onClick:function(){k(m,""),x("")},children:"Create Playlist"})]}):Object(p.jsxs)("div",{className:"w-100 mb-2",children:[Object(p.jsx)("div",{className:0===w.playlists.length?"":"playlists-container mb-1",children:null===(e=w.playlists)||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)("div",{className:" flex-row  align-center text-white mb-1",children:[Object(p.jsx)("input",{type:"checkbox",className:"mr-1",checked:e.videos.some((function(e){return e._id===i})),onChange:function(t){T(t,e)}}),Object(p.jsx)("p",{children:null===e||void 0===e?void 0:e.title})]})}))}),Object(p.jsxs)("div",{className:"flex-row",children:[Object(p.jsx)(o.b,{className:"text-white"}),Object(p.jsx)("p",{className:"ml-1 text-white cursor-pointer",onClick:function(){b(!u)},children:"Create New Playlist"})]})]})})]})})}),oe=function(e){var t=e._id,r=e.title,s=e.description,a=e.creator,n=e.views,i=e.releaseDate,c=K(),l=c.isVideoPresent,b=c.handleOnPlay,j=c.updatePlaylistVideos,h=Q(),m=h.showModal,x=h.setShowModal,y=h.setClickedVideos,v=[{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(o.b,{className:"mr-1"})," Add to playlists"]}),value:"playlist"},{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(u.c,{className:"mr-1"})," ",l("watchLater",t)?"Remove from watch later":"Add to watch later"]}),value:"watchLater"},{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{className:"mr-1"})," ",l("likes",t)?"Remove from liked videos":"Add to liked videos"]}),value:"likes"}],w=function(){var t=Object(f.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("playlist"!==r){t.next=5;break}x(!m),y(e),t.next=8;break;case 5:return t.next=7,j(r,e);case 7:k({type:"UPDATE_DROPDOWN",payload:{id:null}});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=C(),g=N.selectedDropdownId,k=N.dispatch,T=Q().setSelectedVideoId;return Object(p.jsxs)("div",{className:"video-card-container flex-col",children:[Object(p.jsx)(ce,{videoId:t}),Object(p.jsxs)("div",{className:"video-wrapper",children:[Object(p.jsx)(P.a,{className:"react-player",url:"https://www.youtube.com/watch?v=".concat(t),width:"100%",height:"100%",onPlay:function(){return b("history",e)}}),Object(p.jsxs)("div",{className:"video-badge",children:[n,"M views"]})]}),Object(p.jsxs)("div",{className:"p-2 content-container",children:[Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsx)("h2",{className:"video-card-title font-semibold",children:r}),Object(p.jsx)(o.f,{className:"three-dots-icon",onClick:function(){T(t),k({type:"UPDATE_DROPDOWN",payload:{id:t===g?null:t}})}}),g===t&&Object(p.jsx)(E,{options:v,onClick:w})]}),Object(p.jsxs)("div",{className:"flex-col",children:[Object(p.jsx)("p",{className:"video-card-subtitle my-1 font-medium text-grey",children:s}),Object(p.jsxs)("ul",{className:"flex-row",children:[Object(p.jsx)("li",{className:"video-creator list-style-none font-medium text-grey",children:a}),Object(p.jsx)("li",{className:"release-date font-medium text-grey",children:i})]})]})]})]})},le=(r(125),function(){var e=C(),t=e.categories,r=e.dispatch,s=e.selectedCategory;return Object(p.jsxs)("div",{className:"flex-row explore-list-items list-style-none",children:[Object(p.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()==="All".toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:"All"}})},children:"All"}),t.map((function(e){return Object(p.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()===e.categoryName.toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:e.categoryName}})},children:null===e||void 0===e?void 0:e.categoryName},null===e||void 0===e?void 0:e._id)}))]})}),ue=function(){var e=C(),t=e.filteredVideos,r=e.dispatch;return Object(s.useEffect)((function(){return function(){r({type:"UPDATE_DROPDOWN",payload:{selectedDropdownId:null}})}}),[r]),Object(p.jsxs)("div",{className:"explore-container",children:[Object(p.jsx)("div",{className:"flex-col",children:Object(p.jsx)(le,{})}),Object(p.jsx)("div",{className:"flex-row flex-wrap gap-1 justify-center p-2",children:t.map((function(e){return Object(s.createElement)(oe,Object(x.a)(Object(x.a)({},e),{},{key:e._id}))}))})]})},de=(r(126),function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.firstName,s=t.lastName,a=t.email,n=t.password,e.next=3,k({url:"/api/auth/signup",method:"post",body:{email:a,password:n,firstName:r,lastName:s},propertyName:"signup"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),pe=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,e.next=3,k({url:"/api/auth/login",method:"post",body:{email:r,password:s},propertyName:"login"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e,t){switch(t.type){case"UPDATE_USER":var r=t.payload,s=r.isUserloggedIn,a=r.token,n=r.user;return console.log(a),localStorage.setItem("user",JSON.stringify(t.payload)),{isUserloggedIn:s,token:a,user:n};case"LOGOUT_USER":return localStorage.removeItem("user"),{isUserloggedIn:!1,token:null,user:null};default:return e}},je=Object(s.createContext)(),he=function(e){var t=e.children,r=JSON.parse(localStorage.getItem("user")),a=null!==r&&void 0!==r?r:{isUserloggedIn:!1,token:"",user:null};console.log(r);var n=Object(s.useReducer)(be,a),i=Object(v.a)(n,2),c=i[0],o=c.isUserloggedIn,l=c.token,u=i[1],d=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s,a,n,i,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,a=t.firstName,n=t.lastName,e.next=3,de({firstName:a,lastName:n,email:r,password:s});case 3:if(i=e.sent,c=i.data,o=i.success,console.log(c),!o){e.next=11;break}return u({type:"UPDATE_USER",payload:{isUserloggedIn:!0,token:c.encodedToken,user:c.createdUser}}),console.log(c),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(O.a.mark((function e(t){var r,s,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,e.next=3,pe({email:r,password:s});case 3:if(a=e.sent,n=a.data,!a.success){e.next=10;break}return u({type:"UPDATE_USER",payload:{isUserloggedIn:!0,token:n.encodedToken,user:n.foundUser}}),console.log(n),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(je.Provider,{value:{isUserloggedIn:o,token:l,signup:d,login:b,logout:function(){u({type:"LOGOUT_USER"})}},children:t})},me=function(){return Object(s.useContext)(je)},xe=function(){var e=Object(j.g)(),t=me(),r=t.isUserloggedIn,s=t.logout;return Object(p.jsxs)("nav",{className:"header-container",children:[Object(p.jsxs)("div",{className:"logo",children:[Object(p.jsx)("span",{className:"logo-text1",children:"HOT"}),Object(p.jsx)("span",{className:"logo-text2",children:"STREAM"})]}),Object(p.jsxs)("form",{className:"searchBar-container",children:[Object(p.jsx)(o.e,{className:"search-icon"}),Object(p.jsx)("input",{type:"search",placeholder:"Search Videos",className:"search-input"})]}),r?Object(p.jsx)(c.b,{to:"/",className:"login-button",onClick:function(){s()},children:"Logout"}):Object(p.jsx)(c.b,{to:"/login",className:"login-button",onClick:function(){e("/login")},children:"Login"})]})},fe=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(xe,{}),Object(p.jsx)(j.a,{})]})},ye=r(58);var Oe=function(){return Object(p.jsx)("div",{className:"MockAPI",children:Object(p.jsx)(ye.a,{})})},ve=r.p+"static/media/watchlater-image.764148ea.jpg",we=r.p+"static/media/playlists.5b28ea77.jpg",Ne=r.p+"static/media/signup-vlib.a27cfa2e.svg",ge=r.p+"static/media/signin-vlib.73e46337.svg",ke=r.p+"static/media/emptyCart.6f26dbdd.svg",Te=r.p+"static/media/404PageNotFound.8a9c882f.svg",Ie=(r(127),function(e){var t,r,s,a=e.playlistId,n=void 0===a?null:a,i=e.playlistTitle,c=e.playlistVideos,o=e.isFromPlaylist,l=void 0!==o&&o,b=K(),h=b.updatePlaylistVideos,m=b.deleteAllVideosFromHistory,x=ie(),y=x.state,v=x.deleteVideosFromPlaylist,w=x.deletePlaylist,N=Object(j.h)(),g=Object(j.g)();if(null===n){var k;l=!0;var T=null===(k=y.playlists)||void 0===k?void 0:k.find((function(e){return e._id===N.playlistId}));T&&(n=T._id,i=T.title,c=T.videos)}return Object(p.jsxs)("div",{className:"playlist-videos-container",children:[Object(p.jsxs)("div",{className:"playlist-videos-content-container",children:[Object(p.jsx)("img",{src:ve,alt:"playlist-videos",className:"playlist-videos-image"}),Object(p.jsx)("div",{className:"text-white text-sm my-2",children:i}),Object(p.jsxs)("div",{className:"flex-row justify-between align-center",children:[Object(p.jsxs)("p",{className:"text-white flex-row",children:[null===(t=c)||void 0===t?void 0:t.length," videos"]}),l&&Object(p.jsx)(u.a,{className:"text-white text-sm",onClick:function(){w(n),g(-1)}}),"history"===n&&Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){m()},children:"Clear All"})]})]}),Object(p.jsx)("div",{className:"playlist-videos-list-container my-2",children:Object(p.jsxs)("ul",{className:"mb-2 ml-2",children:[0===(null===(r=c)||void 0===r?void 0:r.length)&&Object(p.jsx)("div",{className:"text-white no-videos",children:"No videos in this playlist yet\ud83d\ude05"}),null===(s=c)||void 0===s?void 0:s.map((function(e){return Object(p.jsx)("li",{className:"stacked-list-item",children:Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsx)("div",{className:"playlist-videos-video-card",children:Object(p.jsx)(P.a,{url:"https://www.youtube.com/watch?v=".concat(null===e||void 0===e?void 0:e._id),width:"100%",height:"100%"})}),Object(p.jsxs)("div",{className:"ml-2 flex-col flex-wrap",children:[Object(p.jsx)("h3",{className:"playlist-videos-title text-white",children:null===e||void 0===e?void 0:e.title}),Object(p.jsx)("p",{className:"playlist-videos-creator text-white my-1",children:null===e||void 0===e?void 0:e.creator}),Object(p.jsxs)("div",{className:"clock-icon-container text-white flex-row align-center",children:[Object(p.jsx)(d.c,{className:"clock-icon mr-1"}),Object(p.jsx)("p",{className:"text-white inline playlist-videos-timestamp",children:null===e||void 0===e?void 0:e.addedAt})]})]})]}),Object(p.jsx)("div",{children:Object(p.jsx)(u.a,{className:"delete-icon text-white",onClick:Object(f.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l){t.next=5;break}return t.next=3,v(n,e._id);case 3:t.next=6;break;case 5:h(n,e);case 6:case"end":return t.stop()}}),t)})))})})]})},null===e||void 0===e?void 0:e._id)}))]})})]})}),_e=function(){var e=K(),t=e.state,r=e.deleteVideo;return Object(p.jsx)("div",{children:Object(p.jsx)(Ie,{playlistId:"watchLater",playlistTitle:"Saved to Watch Later",playlistVideos:t.watchLater,deleteVideo:r})})},Ae=function(){var e=K(),t=e.state,r=e.deleteVideo,s=e.deleteAllVideosFromHistory;return Object(p.jsx)("div",{children:Object(p.jsx)(Ie,{playlistId:"history",playlistTitle:"History",playlistVideos:t.history,deleteVideo:r,deleteAllVideosFromHistory:s})})},Ce=(r(128),r(129),function(){return Object(p.jsxs)("div",{className:"emptyCart-container flex-col",children:[Object(p.jsx)("p",{className:"text-pink",children:"Ohh no !! It's empty ..."}),Object(p.jsx)("img",{src:ke,className:"empty-cart-image",alt:"empty"})]})}),De=function(){var e=ie().state.playlists;return Object(p.jsx)("div",{className:"playlists-outer-container",children:Object(p.jsxs)("div",{className:"playlists-inner-container flex-col align-center",children:[Object(p.jsx)("h2",{className:"text-center my-2 text-lg text-white",children:"All Playlists "}),Object(p.jsx)("div",{className:e<1?"flex-row":"playlists-wrapper",children:e.length<1?Object(p.jsx)(Ce,{}):null===e||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)(c.b,{to:"/playlists/".concat(e._id),className:"playlist-container",children:[Object(p.jsx)("img",{src:we,alt:"playlist",className:"playlist-image"}),Object(p.jsx)("div",{className:"text-white text-center playlist-title-container",children:null===e||void 0===e?void 0:e.title})]})}))})]})})},Pe=function(){var e=K(),t=e.state,r=e.deleteVideo;return Object(p.jsx)("div",{children:Object(p.jsx)(Ie,{playlistId:"likes",playlistTitle:"Likes",playlistVideos:t.likes,deleteVideo:r})})},Ee=function(e){var t=e.children,r=e.title,s=e.imageUrl;return Object(p.jsxs)("div",{className:"authentication-details-container flex-row mx-2",children:[Object(p.jsx)("div",{className:"authentication-image-container",children:Object(p.jsx)("img",{src:s,alt:r})}),Object(p.jsx)("div",{className:"form-components-container flex-col",children:Object(p.jsxs)("div",{className:"wrapper p-2 my-2 flex-col",children:[Object(p.jsx)("h2",{className:"my-2 form-heading text-sm",children:r}),t]})})]})},Se=function(){var e=Object(s.useState)(!1),t=Object(v.a)(e,2),r=t[0],a=t[1],n=Object(j.f)().pathname,i=Object(j.g)(),u=me().login,b=Object(s.useState)({email:"",password:"",rememberMe:!1}),h=Object(v.a)(b,2),m=h[0],y=h[1],w=function(e){y(Object(x.a)(Object(x.a)({},m),{},Object(M.a)({},e.target.id,e.target.value)))},N=function(){var e=Object(f.a)(O.a.mark((function e(t,r,s){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({email:r,password:s});case 3:e.sent&&i("/signup"===n?"/":-1);case 5:case"end":return e.stop()}}),e)})));return function(t,r,s){return e.apply(this,arguments)}}();return Object(p.jsx)(Ee,{title:"Login",imageUrl:ge,children:Object(p.jsxs)("form",{className:"signup-form-container flex-col",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{id:"email",className:"input-field form-control text-xs",type:"email",placeholder:"priya@gmail.com",value:m.email,onChange:w,required:!0}),Object(p.jsx)(l.a,{className:"email-icon text-xs"})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"password-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{id:"password",className:"input-field form-control text-xs",type:r?"text":"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:m.password,onChange:w,required:!0}),r?Object(p.jsx)(o.c,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}}):Object(p.jsx)(o.d,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"flex-row align-center justify-between mt-1",children:[Object(p.jsxs)("div",{className:"flex-row align-center my-2",children:[Object(p.jsx)("input",{type:"checkbox",id:"terms",onChange:w}),Object(p.jsx)("label",{className:"text-xs ml-1 text-white",htmlFor:"terms",children:"Remember me"})]}),Object(p.jsx)("div",{className:"flex-row forget-password align-center",children:Object(p.jsx)(c.b,{to:"/forgotPassword",className:"text-xs text-white",children:"Forget Password"})})]})})]}),Object(p.jsx)("button",{className:"button primary-button-pink my-2 text-xs",onClick:function(e){return N(e,m.email,m.password)},children:"Login"}),Object(p.jsx)("button",{className:"button primary-button-pink mb-2 text-xs",onClick:function(e){return N(e,"priya@gmail.com","priya123")},children:"Login As Guest"}),Object(p.jsx)("div",{children:Object(p.jsxs)(c.b,{to:"/signup",className:"text-xs text-white",children:["Create New Account",Object(p.jsx)("span",{children:Object(p.jsx)(d.b,{className:"ml-2 text-white"})})]})})]})})},Le=(r(130),function(){var e=Object(s.useState)(!1),t=Object(v.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)({firstName:"",lastName:"",email:"",password:""}),i=Object(v.a)(n,2),u=i[0],b=i[1],h=Object(j.g)(),m=function(e){b(Object(x.a)(Object(x.a)({},u),{},Object(M.a)({},e.target.id,e.target.value)))},y=me().signup,w=function(){var e=Object(f.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y(u);case 3:e.sent&&h("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(Ee,{title:"Signup",imageUrl:Ne,children:Object(p.jsxs)("form",{className:"signup-form-container flex-col",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"firstName",children:"First name"}),Object(p.jsx)("input",{id:"firstName",className:"input-field form-control text-xs",type:"text",placeholder:"priya",value:u.firstName,onChange:m,required:!0})]})}),Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"lastName",children:"Last name"}),Object(p.jsx)("input",{id:"lastName",className:"input-field form-control text-xs",type:"text",placeholder:"patel",value:u.lastName,onChange:m,required:!0})]})}),Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{id:"email",className:"input-field form-control text-xs",type:"email",placeholder:"priya@gmail.com",value:u.email,onChange:m,required:!0}),Object(p.jsx)(l.a,{className:"email-icon text-xs"})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"password-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{id:"password",className:"input-field form-control text-xs",type:r?"text":"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:u.password,onChange:m,required:!0}),r?Object(p.jsx)(o.c,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}}):Object(p.jsx)(o.d,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}})]})})]}),Object(p.jsx)("button",{className:"button primary-button-pink my-2 text-xs",onClick:w,children:"Create New Account"}),Object(p.jsx)("div",{children:Object(p.jsxs)(c.b,{to:"/login",className:"text-xs text-white",children:["Already have an account",Object(p.jsx)("span",{children:Object(p.jsx)(d.b,{className:"ml-2"})})]})})]})})}),Ue=(r(131),function(){var e=Object(j.g)();return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:Te,className:"page-not-found-image",alt:"page-not-found"}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){return e(-1)},children:"Previous"}),Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){return e("/")},children:"Home"})]})]})});var Ve=function(){var e=me().isUserLoggedIn;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(ce,{}),Object(p.jsxs)(j.d,{children:[Object(p.jsx)(j.b,{path:"mockApi",element:Object(p.jsx)(Oe,{})}),Object(p.jsx)(j.b,{path:"/",element:Object(p.jsx)(fe,{}),children:Object(p.jsxs)(j.b,{path:"/",element:Object(p.jsx)(h,{}),children:[Object(p.jsx)(j.b,{path:"*",element:Object(p.jsx)(Ue,{})}),Object(p.jsx)(j.b,{index:!0,element:Object(p.jsx)(m,{})}),Object(p.jsx)(j.b,{path:"explore",element:Object(p.jsx)(ue,{})}),Object(p.jsx)(j.b,{path:"watchlater",element:Object(p.jsx)(_e,{})}),Object(p.jsx)(j.b,{path:"playlists",element:Object(p.jsx)(De,{})}),Object(p.jsx)(j.b,{path:"likes",element:Object(p.jsx)(Pe,{})}),Object(p.jsx)(j.b,{path:"history",element:Object(p.jsx)(Ae,{})}),Object(p.jsx)(j.b,{path:"playlists/:playlistId",element:Object(p.jsx)(Ie,{})})]})}),!e&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.b,{path:"login",element:Object(p.jsx)(Se,{})}),Object(p.jsx)(j.b,{path:"signup",element:Object(p.jsx)(Le,{})})]})]})]})},Fe=r(4),Re=r(70),Ye=r(137),qe=r(59),Me=r.n(qe),Be=r(60),Je=function(e){var t=e.requestHeaders.authorization,r=Object(Be.a)(t,"kkhekke;");return r?this.db.users.findBy({email:r.email}):new Fe.b(401,{},{errors:["The token is invalid. Unauthorized access error."]})},He=function(){return Me()().format("YYYY-MM-DDTHH:mm:ssZ")},Ge=["email","password"],Ke=r(134),ze=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password,n=Object(Re.a)(r,Ge);try{if(e.users.findBy({email:s}))return new Fe.b(422,{},{errors:["Unprocessable Entity. Email Already Exists."]});var i=Object(Ye.a)(),c=Object(x.a)(Object(x.a)({_id:i,email:s,password:a,createdAt:He(),updatedAt:He()},n),{},{likes:[],history:[],playlists:[]}),o=e.users.create(c),l=Ke({_id:i,email:s},"kkhekke;");return new Fe.b(201,{},{createdUser:o,encodedToken:l})}catch(u){return new Fe.b(500,{},{error:u})}},We=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password;try{var n=e.users.findBy({email:s});if(!n)return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});if(a===n.password){var i=Ke({_id:n._id,email:s},"kkhekke;");return n.password=void 0,new Fe.b(200,{},{foundUser:n,encodedToken:i})}new Fe.b(401,{},{errors:["The credentials you entered are invalid. Unauthorized access error."]})}catch(c){return new Fe.b(500,{},{error:c})}},Qe=function(e,t){var r=Je.call(this,t);try{return r||new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]}),new Fe.b(200,{},{history:r.history})}catch(s){return new Fe.b(500,{},{error:s})}},Xe=function(e,t){var r=Je.call(this,t);try{if(!r)return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=JSON.parse(t.requestBody).video;return r.history.some((function(e){return e.id===s.id}))?new Fe.b(409,{},{errors:["The video is already in your history"]}):(r.history.push(s),new Fe.b(201,{},{history:r.history}))}catch(a){return new Fe.b(500,{},{error:a})}},Ze=function(e,t){var r=Je.call(this,t);try{if(!r)return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=t.params.videoId,a=r.history.filter((function(e){return e._id!==s}));return this.db.users.update({history:a}),new Fe.b(200,{},{history:a})}catch(n){return new Fe.b(500,{},{error:n})}},$e=function(e,t){var r=Je.call(this,t);try{return r?(this.db.users.update({history:[]}),new Fe.b(200,{},{history:[]})):new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Fe.b(500,{},{error:s})}},et=function(){try{return new Fe.b(200,{},{videos:this.db.videos})}catch(e){return new Fe.b(500,{},{error:e})}},tt=function(e,t){var r=t.params.videoId;try{var s=e.videos.findBy({_id:r}).attrs;return new Fe.b(200,{},{video:s})}catch(a){return new Fe.b(500,{},{error:a})}},rt=[{_id:"A30IuIjQYYg",title:"Thailand - Cinematic Travel",description:"Land of incredible stories.",creator:"Benn TK",categoryName:"country",views:"290",releaseDate:"Aug 28 2018"},{_id:"DIgv-e18OzA",title:"Vietnam - Cinematic Travel",description:"Land of ancient secrets",creator:"Benn TK",categoryName:"city",views:"110",releaseDate:"Sept 12 2021"},{_id:"oM_9lF4u4_o",title:"Kedarnath Yatra 2020",description:"Sonprayag to Kedarnath Temple, 16km Trekking",creator:"Naveen Rawat",categoryName:"state",views:"1",releaseDate:"Nov 10 2011"},{_id:"ssYuPTdMt8A",title:"Visit in Gibhi",description:"10 Beautiful Tourist categoryNames to Visit in Jibhi",creator:"Walking wanderer",categoryName:"village",views:"2",releaseDate:"Dec 19 2013"},{_id:"2YlOJiEUVOY&t=5s",title:"Tirthan Valley",description:"Travel Guide 2020 | Trek",creator:"Abhimanyu Dalal",categoryName:"town",views:"210",releaseDate:"Dec 9 2017"},{_id:"AotsXapzQyU",title:"Shimla Kufri",description:"Travel to Kufri",creator:"Modern banjare",categoryName:"city",views:"230",releaseDate:"Apr 13 2012"},{_id:"hn6-k3bLcaE",title:"KOLKATA - FROM THE SKY",description:"DRONE FOOTAGE || DJI MAVIC MINI",creator:"Take a tour",categoryName:"city",views:"4",releaseDate:"Jan 28 2017"},{_id:"vydEu1I9r5c",title:"Ladakh",description:"Pangong Lake | Nubra Valley",creator:"Garima's good life",categoryName:"union territory",views:"4",releaseDate:"Jan 14 2010"},{_id:"qi52KQs67MY",title:"Philippines",description:"Land of enchanted Islands | Epic Travel Cinematic",creator:"Benn TK",categoryName:"country",views:"10",releaseDate:"Mar 24 2015"}],st=[{_id:Object(Ye.a)(),categoryName:"State"},{_id:Object(Ye.a)(),categoryName:"Country"},{_id:Object(Ye.a)(),categoryName:"Town"},{_id:Object(Ye.a)(),categoryName:"Union Territory"},{_id:Object(Ye.a)(),categoryName:"City"}],at=function(){try{return new Fe.b(200,{},{categories:this.db.categories})}catch(e){return new Fe.b(500,{},{error:e})}},nt=function(e,t){var r=t.params.categoryId;try{var s=e.categories.findBy({_id:r}).attrs;return new Fe.b(200,{},{category:s})}catch(a){return new Fe.b(500,{},{error:a})}},it=function(e,t){var r=Je.call(this,t);try{return r?new Fe.b(200,{},{likes:r.likes}):new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Fe.b(500,{},{error:s})}},ct=function(e,t){var r=Je.call(this,t);if(r){var s=JSON.parse(t.requestBody).video;return r.likes.some((function(e){return e.id===s.id}))?new Fe.b(409,{},{errors:["The video is already in your liked videos"]}):(r.likes.push(s),new Fe.b(201,{},{likes:r.likes}))}return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},ot=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.videoId,a=r.likes.filter((function(e){return e._id!==s}));return this.db.users.update({likes:a}),new Fe.b(200,{},{likes:a})}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},lt=function(e,t){var r=Je.call(this,t);try{return r?new Fe.b(200,{},{playlists:r.playlists}):new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Fe.b(500,{},{error:s})}},ut=function(e,t){var r=Je.call(this,t);if(r){var s=JSON.parse(t.requestBody).playlist;return r.playlists.push(Object(x.a)(Object(x.a)({},s),{},{videos:[],_id:Object(Ye.a)()})),new Fe.b(201,{},{playlists:r.playlists})}return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},dt=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.filter((function(e){return e._id!==s}));return this.db.users.update({playlists:a}),new Fe.b(200,{},{playlists:a})}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},pt=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.find((function(e){return e._id!==s}));return new Fe.b(200,{},{playlist:a})}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},bt=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.playlistId,a=JSON.parse(t.requestBody).video,n=r.playlists.find((function(e){return e._id===s}));return n.videos.some((function(e){return e.id===a.id}))?new Fe.b(409,{},{errors:["The video is already in your playlist"]}):(n.videos.push(a),new Fe.b(201,{},{playlist:n}))}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},jt=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.playlistId,a=t.params.videoId,n=r.playlists.find((function(e){return e._id===s})),i=n.videos.filter((function(e){return e._id!==a}));return n.videos=i,new Fe.b(200,{},{playlist:n})}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},ht=[{_id:Object(Ye.a)(),firstName:"Adarsh",lastName:"Balika",email:"adarshbalika@gmail.com",password:"adarshBalika123",createdAt:He(),updatedAt:He()},{_id:Object(Ye.a)(),firstName:"Priya",lastName:"Patel",email:"priya@gmail.com",password:"priya123",createdAt:He(),updatedAt:He()}],mt=function(e,t){var r=Je.call(this,t);try{return r?new Fe.b(200,{},{watchlater:r.watchlater}):new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Fe.b(500,{},{error:s})}},xt=function(e,t){var r=Je.call(this,t);if(r){var s=JSON.parse(t.requestBody).video;return r.watchlater.some((function(e){return e.id===s.id}))?new Fe.b(409,{},{errors:["The video is already in your watch later videos"]}):(r.watchlater.push(s),new Fe.b(201,{},{watchlater:r.watchlater}))}return new Fe.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},ft=function(e,t){var r=Je.call(this,t);if(r){var s=t.params.videoId,a=r.watchlater.filter((function(e){return e._id!==s}));return this.db.users.update({watchlater:a}),new Fe.b(200,{},{watchlater:a})}return new Fe.b(404,{},{errors:["The user you request does not exist. Not Found error."]})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.environment,r=void 0===t?"development":t;new Fe.d({serializers:{application:Fe.c},environment:r,models:{video:Fe.a,category:Fe.a,user:Fe.a,like:Fe.a,history:Fe.a,playlist:Fe.a,watchlater:Fe.a},seeds:function(e){e.logging=!1,rt.forEach((function(t){e.create("video",Object(x.a)({},t))})),st.forEach((function(t){return e.create("category",Object(x.a)({},t))})),ht.forEach((function(t){return e.create("user",Object(x.a)(Object(x.a)({},t),{},{likes:[],watchlater:[],history:[],playlists:[]}))}))},routes:function(){this.namespace="api",this.post("/auth/signup",ze.bind(this)),this.post("/auth/login",We.bind(this)),this.get("/videos",et.bind(this)),this.get("video/:videoId",tt.bind(this)),this.get("/categories",at.bind(this)),this.get("/categories/:categoryId",nt.bind(this)),this.get("/user/likes",it.bind(this)),this.post("/user/likes",ct.bind(this)),this.delete("/user/likes/:videoId",ot.bind(this)),this.get("/user/watchlater",mt.bind(this)),this.post("/user/watchlater",xt.bind(this)),this.delete("/user/watchlater/:videoId",ft.bind(this)),this.get("/user/playlists",lt.bind(this)),this.post("/user/playlists",ut.bind(this)),this.delete("/user/playlists/:playlistId",dt.bind(this)),this.get("/user/playlists/:playlistId",pt.bind(this)),this.post("/user/playlists/:playlistId",bt.bind(this)),this.delete("/user/playlists/:playlistId/:videoId",jt.bind(this)),this.get("/user/history",Qe.bind(this)),this.post("/user/history",Xe.bind(this)),this.delete("/user/history/:videoId",Ze.bind(this)),this.delete("/user/history/all",$e.bind(this))}})}(),i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(he,{children:Object(p.jsx)(ne,{children:Object(p.jsx)(W,{children:Object(p.jsx)(G,{children:Object(p.jsx)(A,{children:Object(p.jsx)(c.a,{children:Object(p.jsx)(Ve,{})})})})})})})}),document.getElementById("root"))},75:function(e,t,r){},76:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){},80:function(e,t,r){},81:function(e,t,r){},83:function(e,t,r){}},[[136,1,2]]]);
//# sourceMappingURL=main.f9507e5b.chunk.js.map