{"version":3,"sources":["pages/home/components/sidebar/Sidebar.js","shared/utils/changeDocumentTitle.js","pages/home/Home.js","pages/home/components/heroSection/HeroSection.js","context/explore/exploreReducer.js","shared/utils/fetchApi.js","services/explore_services.js","context/explore/ExploreContext.js","shared/components/dropDown/Dropdown.js","services/playlistVideos_services.js","context/playlistVideos/playlistVideosReducer.js","context/playlistVideos/PlaylistVideosContext.js","context/modal/modalContext.js","context/playlist/playlistReducer.js","services/playlist_services.js","context/playlist/playlistContext.js","shared/components/modal/Modal.js","shared/components/videoCard/VideoCard.js","pages/explore/components/filter/Filter.js","pages/explore/explore.js","services/auth_services.js","context/auth/authReducer.js","context/auth/authContext.js","shared/components/header/Header.js","shared/components/withHeader/WithHeader.js","mockMan.js","assets/images/watchlater-image.jpg","assets/images/playlists.jpg","assets/images/signup-vlib.svg","assets/images/signin-vlib.svg","assets/images/emptyCart.svg","assets/images/404PageNotFound.svg","pages/playlistVideos/PlaylistVideos.js","pages/watchLater/WatchLater.js","pages/history/History.js","shared/components/emptyList/EmptyList.js","pages/playlists/Playlists.js","pages/likes/Likes.js","pages/auth/component/AuthContainer.js","pages/auth/Login.js","pages/auth/Signup.js","shared/components/404NotFound/pageNotFound.js","shared/components/privateRoute/privateRoute.js","App.js","backend/utils/authUtils.js","backend/controllers/AuthController.js","backend/controllers/HistoryController.js","backend/controllers/VideoController.js","backend/db/videos.js","backend/db/categories.js","backend/controllers/CategoryController.js","backend/controllers/LikeController.js","backend/controllers/PlaylistController.js","backend/db/users.js","backend/controllers/WatchLaterController.js","server.js","index.js"],"names":["Sidebar","getClassName","state","isActive","className","to","changeDocumentTitle","title","document","Home","useEffect","HeroSection","navigate","useNavigate","src","alt","onClick","reducer","action","type","videos","payload","categories","selectedCategory","categoryName","selectedDropdownId","id","fetchApi","a","url","method","body","propertyName","user","JSON","parse","localStorage","getItem","axios","data","headers","authorization","token","status","success","message","Error","console","log","fetchDataApi","success1","data2","success2","error","suceess","ExploreContext","createContext","ExploreContextProvider","children","dispatch","useReducer","filteredVideos","filter","video","toLowerCase","getFilteredVideos","Provider","value","useExplore","useContext","DropDown","options","map","option","item","addToWatchLaterApi","deleteFromWatchLaterApi","videoId","playlistVideosFetchApi","promise1","promise2","promise3","Promise","all","response","watchLater","watchlater","likes","history","addToLikesApi","deleteFromLikesApi","addToHistoryApi","deleteFromHistoryApi","deleteAllVideosFromHistoryApi","playlistId","PlaylistVideosContext","intialState","PlaylistVideosContextProvider","toast","handleOnPlay","deleteAllVideosFromHistory","isVideoPresent","_id","some","vid","updatePlaylistVideos","date","Date","toUTCString","slice","isVideoAlreadyPresent","addedAt","dataWatchlater","watchLaterSuccess","dataHistory","historySuccess","dataLikes","likesSuccess","toastMessage","usePlaylistVideos","ModalContext","ModalContextProvider","useState","showModal","setShowModal","clickedVideos","setClickedVideos","selectedVideoId","setSelectedVideoId","useModal","playlists","findPlaylistIndex","findIndex","playlist","updatedPlaylists","createPlaylistApi","description","getAllPlaylistsApi","addVideoToPlaylistApi","deletePlaylistFromApi","deleteVideosFromPlaylistApi","PlaylistContext","PlaylistContextProvider","deleteVideosFromPlaylist","deletePlaylist","usePlaylist","Modal","createNewPlaylist","setCreateNewPlaylist","setTitle","handleCreatePlaylist","handlePlaylistItemClicked","e","target","checked","placeholder","onChange","length","VideoCard","creator","views","releaseDate","handleDropDown","width","height","onPlay","Filter","category","Explore","key","signupApi","firstName","lastName","email","password","loginApi","isUserloggedIn","setItem","stringify","removeItem","AuthContext","AuthContextProvider","signup","encodedToken","createdUser","login","foundUser","logout","useAuth","Header","WithHeader","MockAPI","PlaylistVideos","playlistTitle","playlistVideos","isFromPlaylist","params","useParams","find","WatchLaterImage","WatchLater","deleteVideo","History","EmptyList","emptyCart","Playlists","playlistsVideo","Playlist","Likes","AuthContainer","imageUrl","Login","showPassword","setShowPassword","useLocation","pathname","rememberMe","formData","setFormData","handleOnChange","loginHandler","preventDefault","SigninImage","onSubmit","htmlFor","required","Signup","handleOnClick","SignupImage","PageNotFound","pageNotFound","PrivateRoute","App","isUserLoggedIn","theme","path","element","index","requiresAuth","request","requestHeaders","decodedToken","jwt_decode","process","this","db","users","findBy","Response","errors","formatDate","dayjs","format","sign","require","signupHandler","schema","requestBody","rest","uuid","newUser","createdAt","updatedAt","create","undefined","getHistoryVideosHandler","call","addVideoToHistoryHandler","push","removeVideoFromHistoryHandler","filteredHistory","update","clearHistoryHandler","getAllVideosHandler","getVideoHandler","attrs","getAllCategoriesHandler","getCategoryHandler","categoryId","getLikedVideosHandler","addItemToLikedVideos","removeItemFromLikedVideos","filteredLikes","getAllPlaylistsHandler","addNewPlaylistHandler","removePlaylistHandler","filteredPlaylists","getVideosFromPlaylistHandler","addVideoToPlaylistHandler","removeVideoFromPlaylistHandler","getWatchLaterVideosHandler","addItemToWatchLaterVideos","removeItemFromWatchLaterVideos","environment","Server","serializers","application","RestSerializer","models","Model","like","seeds","server","logging","forEach","routes","namespace","post","bind","get","delete","makeServer","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a073b6ed.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  FaHome,\r\n  MdExplore,\r\n  BsCollectionPlayFill,\r\n  BsBookmarkFill,\r\n  AiFillLike,\r\n  AiOutlineHistory,\r\n} from \"../../../../assets/icons\";\r\nimport \"./sidebar.css\";\r\n\r\nexport const Sidebar = () => {\r\n  const getClassName = (state) => {\r\n    return state.isActive ? \"sidebar-item active\" : \"sidebar-item\";\r\n  };\r\n  return (\r\n    <ul className=\"sidebar-items  list-style-none\">\r\n      <NavLink to=\"/\" className={getClassName}>\r\n        <FaHome className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Home</span>\r\n      </NavLink>\r\n      <NavLink to=\"/explore\" className={getClassName}>\r\n        <MdExplore className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Explore</span>\r\n      </NavLink>\r\n      <NavLink to=\"/playlists\" className={getClassName}>\r\n        <BsCollectionPlayFill className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Playlists</span>\r\n      </NavLink>\r\n      <NavLink to=\"/likes\" className={getClassName}>\r\n        <AiFillLike className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Likes</span>\r\n      </NavLink>\r\n      <NavLink to=\"/watchlater\" className={getClassName}>\r\n        <BsBookmarkFill className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">Watch Later</span>\r\n      </NavLink>\r\n      <NavLink to=\"/history\" className={getClassName}>\r\n        <AiOutlineHistory className=\"mr-1 sidebar-item-icon\" />\r\n        <span className=\"sidebar-content\">History</span>\r\n      </NavLink>\r\n    </ul>\r\n  );\r\n};\r\n"," const changeDocumentTitle = (title) => {\r\n  document.title = title;\r\n}\r\nexport {changeDocumentTitle}\r\n\r\nexport const useDocumentTitle =()=>{\r\n\r\n}","import React ,{useEffect} from \"react\";\r\nimport \"./home.css\";\r\nimport { Sidebar } from \"./components/sidebar/Sidebar\";\r\nimport { Outlet } from \"react-router\";\r\nimport { changeDocumentTitle } from \"../../shared/utils/changeDocumentTitle\";\r\n\r\nexport const Home = () => {\r\n  useEffect(()=>{\r\n    changeDocumentTitle(\"Hotstream-Home\");\r\n  },[])\r\n  \r\n  return (\r\n    <div className=\"home-container\">\r\n      <Sidebar />\r\n      <Outlet/>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./heroSection.css\";\r\nimport {useNavigate} from \"react-router-dom\"\r\nexport const HeroSection = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"hero-section-container\">\r\n      <img\r\n        src=\"https://miro.medium.com/max/1400/1*5lyavS59mazOFnb55Z6znQ.png\"\r\n        alt=\"hero-img\"\r\n        className=\"hero-image\"\r\n      />\r\n      <div className=\"overlay-text-container\">\r\n        <h1 className=\"overlay-text\">\r\n          IT'S TIME TO <span className=\"explore-text\">EXPLORE</span> <br /> THE\r\n          WORLD\r\n        </h1>\r\n        <button className=\"button explore-btn\" onClick={() =>{navigate(\"/explore\")}}>Explore Now </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_DATA\":\r\n      return {\r\n        ...state,\r\n        videos: action.payload.videos,\r\n        categories: action.payload.categories,\r\n      };\r\n    case \"UPDATE_CATEGORY\":\r\n      return {\r\n        ...state,\r\n        selectedCategory: action.payload.categoryName,\r\n      };\r\n    case \"UPDATE_DROPDOWN\":\r\n      return {\r\n        ...state,\r\n        selectedDropdownId: action.payload.id,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport async function fetchApi({ url, method, body, propertyName }) {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  \r\n  try {\r\n    const { data, status} = await axios({\r\n      method,\r\n      url,\r\n      data: body,\r\n      headers: { authorization: user!== null ?user.token:\"\" },\r\n    });\r\n\r\n    if (status === 200 || status === 201) {\r\n      return {\r\n        data: data,\r\n        success: true,\r\n        message: `${propertyName} fetched successfully!!`,\r\n      };\r\n    } \r\n    throw Error(\"API request failed\");\r\n  } catch (e) {\r\n    console.log(e);\r\n    return {\r\n      data: null,\r\n      success: false,\r\n      message: `${propertyName} failed to fetch`,\r\n    };\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import { fetchApi } from \"../shared/utils/fetchApi\";\r\n\r\nexport const fetchDataApi = async () => {\r\n  try {\r\n    const { data ,success:success1} = await fetchApi({\r\n      url: \"/api/videos\",\r\n      method: \"get\",\r\n      propertyName: \"videos\",\r\n    });\r\n\r\n   const{data:data2,success:success2} = await fetchApi({\r\n      url: \"/api/categories\",\r\n      method: \"get\",\r\n      propertyName: \"categories\",\r\n    });\r\n    if(success1 && success2){\r\n        return{\r\n            data:{\r\n                videos:data.videos,\r\n                categories:data2.categories\r\n            },success:true,\r\n            message:\"Data fetched successfully\"\r\n        }\r\n    }\r\n\r\n  } catch (e) {\r\n      console.error(e);\r\n      return{\r\n        data :null,\r\n        suceess:false,\r\n        message:\"Data failed to fetch\"\r\n      }\r\n  }\r\n \r\n\r\n};\r\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { reducer } from \"./exploreReducer\";\r\nimport { fetchDataApi } from \"../../services/explore_services\";\r\n\r\nconst ExploreContext = createContext();\r\nconst ExploreContextProvider = ({ children }) => {\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { data, success } = await fetchDataApi();\r\n      if (success) {\r\n        dispatch({\r\n          type: \"FETCH_DATA\",\r\n          payload: { videos: data.videos, categories: data.categories },\r\n        });\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const intialState = {\r\n    videos: [],\r\n    categories: [],\r\n    selectedCategory: \"All\",\r\n    selectedDropdownId: null,\r\n  };\r\n  const [\r\n    { videos, categories, selectedCategory, selectedDropdownId },\r\n    dispatch,\r\n  ] = useReducer(reducer, intialState);\r\n\r\n  const getFilteredVideos = (videos) => {\r\n    if (selectedCategory === \"All\") return videos;\r\n    return videos.filter((video) => {\r\n      return (\r\n        video.categoryName.toLowerCase() === selectedCategory.toLowerCase()\r\n      );\r\n    });\r\n  };\r\n  const filteredVideos = getFilteredVideos(videos);\r\n\r\n  return (\r\n    <ExploreContext.Provider\r\n      value={{\r\n        videos,\r\n        categories,\r\n        selectedCategory,\r\n        dispatch,\r\n        filteredVideos,\r\n        selectedDropdownId,\r\n      }}\r\n    >\r\n      {children}\r\n    </ExploreContext.Provider>\r\n  );\r\n};\r\nconst useExplore = () => {\r\n  return useContext(ExploreContext);\r\n};\r\nexport { ExploreContextProvider, useExplore };\r\n","import \"./dropDown.css\";\r\n\r\nexport const DropDown = ({ options, onClick }) => {\r\n  return (\r\n    <ul className=\"dropdown-container\">\r\n      {options.map((option) => (\r\n        <li\r\n          className=\"list-style-none dropdown-option\"\r\n          key={option.value}\r\n          onClick={() => {\r\n            onClick(option.value);\r\n          }}\r\n        >\r\n          {option.item}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import { fetchApi } from \"../shared/utils/fetchApi\";\r\n\r\nexport const watchLaterFetchApi = async () => {\r\n  return await fetchApi({\r\n    url: \"/api/user/watchlater\",\r\n    method: \"get\",\r\n  });\r\n};\r\n\r\nexport const addToWatchLaterApi = async (video) => {\r\n  return await fetchApi({\r\n    url: \"/api/user/watchlater\",\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromWatchLaterApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/watchlater/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const playlistVideosFetchApi = async () => {\r\n  try {\r\n    const promise1 = await fetchApi({\r\n      url: \"/api/user/watchlater\",\r\n      method: \"get\",\r\n    });\r\n    const promise2 = await fetchApi({\r\n      url: \"/api/user/likes\",\r\n      method: \"get\",\r\n    });\r\n    const promise3 = await fetchApi({\r\n      url: \"/api/user/history\",\r\n      method: \"get\",\r\n    });\r\n\r\n    const response = await Promise.all([promise1, promise2, promise3]);\r\n    return {\r\n      data: {\r\n        watchLater: response[0].data.watchlater,\r\n        likes: response[1].data.likes,\r\n        history: response[2].data.history,\r\n\r\n      },\r\n      success: true,\r\n      message: \"Fetched successfully\",\r\n    };\r\n  } catch (e) {\r\n    console.log(e);\r\n    return {\r\n      data: null,\r\n      success: false,\r\n      message: \"API failed\",\r\n    };\r\n  }\r\n};\r\nexport const addToLikesApi = async (video) => {\r\n  return await fetchApi({\r\n    url: \"/api/user/likes\",\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromLikesApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/likes/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const addToHistoryApi = async (video) => {\r\n  return await fetchApi({\r\n    url: `/api/user/history`,\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\n\r\nexport const deleteFromHistoryApi = async (videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/history/${videoId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const deleteAllVideosFromHistoryApi = async () => {\r\n  return await fetchApi({\r\n    url: `/api/user/history/all`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"GET_VIDEOS\": {\r\n      const {watchLater,history,likes} = action.payload;\r\n      return { ...state, watchLater,history,likes };\r\n    }\r\n    case \"UPDATE_PLAYLIST_VIDEOS\": {\r\n      return { ...state, [action.payload.playlistId]: action.payload.videos};\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createContext, useContext, useReducer, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  playlistVideosFetchApi,\r\n  addToWatchLaterApi,\r\n  deleteFromWatchLaterApi,\r\n  addToHistoryApi,\r\n  deleteFromHistoryApi,\r\n  addToLikesApi,\r\n  deleteFromLikesApi,\r\n  deleteAllVideosFromHistoryApi,\r\n} from \"../../services/playlistVideos_services\";\r\nimport { reducer } from \"./playlistVideosReducer\";\r\n\r\nconst PlaylistVideosContext = createContext();\r\n\r\nconst intialState = {\r\n  status: \"IDLE\",\r\n  watchLater: [],\r\n  history: [],\r\n  likes: [],\r\n};\r\nconst PlaylistVideosContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, intialState);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { data, success } = await playlistVideosFetchApi();\r\n      if (success) {\r\n        dispatch({\r\n          type: \"GET_VIDEOS\",\r\n          payload: {\r\n            watchLater: data.watchLater,\r\n            history: data.history,\r\n            likes: data.likes,\r\n          },\r\n        });\r\n        toast.success(\"Videos fetched successfully\");\r\n      } \r\n    })();\r\n  }, []);\r\n  const handleOnPlay = async (playlistId, video) => {\r\n    const { data, success } = await addToHistoryApi(video);\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId, videos: data.history },\r\n      });\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const deleteAllVideosFromHistory = async () => {\r\n    const { data, success } = await deleteAllVideosFromHistoryApi();\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId: \"history\", videos: data.history },\r\n      });\r\n      toast.success(\"All videos deleted from history\");\r\n    } else {\r\n      toast.error(\"Something went wrong\");\r\n    }\r\n  };\r\n\r\n  const isVideoPresent = (playlistId, _id) => {\r\n    return state[playlistId]?.some((vid) => vid._id === _id);\r\n  };\r\n\r\n  const updatePlaylistVideos = async (playlistId, video) => {\r\n    const date = new Date().toUTCString().slice(0, 16);\r\n\r\n    const isVideoAlreadyPresent = isVideoPresent(playlistId, video._id);\r\n    let videos = [],\r\n      success = false;\r\n\r\n    switch (playlistId) {\r\n      case \"watchLater\":\r\n        const { data: dataWatchlater, success: watchLaterSuccess } =\r\n          !isVideoAlreadyPresent\r\n            ? await addToWatchLaterApi({ ...video, addedAt: date })\r\n            : await deleteFromWatchLaterApi(video._id);\r\n        videos = dataWatchlater.watchlater;\r\n        success = watchLaterSuccess;\r\n        break;\r\n\r\n      case \"history\":\r\n        const { data: dataHistory, success: historySuccess } =\r\n          !isVideoAlreadyPresent\r\n            ? await addToHistoryApi({ ...video, addedAt: date })\r\n            : await deleteFromHistoryApi(video._id);\r\n        videos = dataHistory.history;\r\n        success = historySuccess;\r\n        break;\r\n\r\n      case \"likes\":\r\n        const { data: dataLikes, success: likesSuccess } =\r\n          !isVideoAlreadyPresent\r\n            ? await addToLikesApi({ ...video, addedAt: date })\r\n            : await deleteFromLikesApi(video._id);\r\n        videos = dataLikes.likes;\r\n        success = likesSuccess;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlistId, videos },\r\n      });\r\n      const toastMessage = `Video ${\r\n        isVideoAlreadyPresent ? \"deleted from\" : \"added to\"\r\n      } ${playlistId}`;\r\n      toast.success(toastMessage);\r\n    } else {\r\n      toast.error(\"Something went wrong\");\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <PlaylistVideosContext.Provider\r\n      value={{\r\n        updatePlaylistVideos,\r\n        state,\r\n        isVideoPresent,\r\n        dispatch,\r\n        deleteAllVideosFromHistory,\r\n        handleOnPlay,\r\n      }}\r\n    >\r\n      {children}\r\n    </PlaylistVideosContext.Provider>\r\n  );\r\n};\r\nexport const usePlaylistVideos = () => {\r\n  return useContext(PlaylistVideosContext);\r\n};\r\nexport { PlaylistVideosContextProvider };\r\n","\r\nimport { createContext, useContext, useState } from \"react\";\r\n\r\nconst ModalContext = createContext();\r\n\r\nconst ModalContextProvider = ({ children }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [clickedVideos, setClickedVideos] = useState({});\r\n  const [selectedVideoId, setSelectedVideoId] = useState(null);\r\n  return (\r\n    <ModalContext.Provider\r\n      value={{\r\n        showModal,\r\n        setShowModal,\r\n        clickedVideos,\r\n        setClickedVideos,\r\n        selectedVideoId,\r\n        setSelectedVideoId,\r\n      }}\r\n    >\r\n      {children}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\nexport const useModal = () => {\r\n  return useContext(ModalContext);\r\n};\r\nexport { ModalContextProvider };\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"UPDATE_PLAYLIST\":\r\n      return { ...state, playlists: action.payload.playlists };\r\n\r\n    case \"UPDATE_PLAYLIST_VIDEOS\": {\r\n      const findPlaylistIndex = state.playlists.findIndex((playlist) => {\r\n        return playlist._id === action.payload.playlist._id;\r\n      });\r\n      let updatedPlaylists = [...state.playlists];\r\n      updatedPlaylists[findPlaylistIndex] = action.payload.playlist;\r\n      return { ...state, playlists: updatedPlaylists };\r\n    }\r\n\r\n    case \"ADD_VIDEOS\":\r\n      return {\r\n        ...state,\r\n        playlists: state.playlists.map((playlist) => {\r\n          return playlist._id === action.payload.playlist._id\r\n            ? action.payload.playlist\r\n            : playlist;\r\n        }),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { fetchApi } from \"../shared/utils/fetchApi\";\r\n\r\nexport const createPlaylistApi = async ({ title, description }) => {\r\n  return await fetchApi({\r\n    url: \"/api/user/playlists\",\r\n    method: \"post\",\r\n    body: {\r\n      playlist: { title, description },\r\n    },\r\n    propertyName: \"playlist\",\r\n  });\r\n};\r\nexport const getAllPlaylistsApi = async () => {\r\n  return await fetchApi({\r\n    url: \"/api/user/playlists\",\r\n    method: \"get\",\r\n  });\r\n};\r\nexport const getPlaylistApi = async (playlistId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/playlists/${playlistId}`,\r\n    method: \"get\",\r\n  });\r\n};\r\nexport const addVideoToPlaylistApi = async (playlistId, video) => {\r\n  return await fetchApi({\r\n    url: `/api/user/playlists/${playlistId}`,\r\n    method: \"post\",\r\n    body: { video },\r\n  });\r\n};\r\nexport const deletePlaylistFromApi = async (playlistId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/playlists/${playlistId}`,\r\n    method: \"delete\",\r\n  });\r\n};\r\n\r\nexport const deleteVideosFromPlaylistApi = async (playlistId, videoId) => {\r\n  return await fetchApi({\r\n    url: `/api/user/playlists/${playlistId}/${videoId}`,\r\n    method: \"delete\"\r\n  });\r\n};\r\n\r\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { reducer } from \"../../context/playlist/playlistReducer\";\r\nimport {\r\n  getAllPlaylistsApi,\r\n  deleteVideosFromPlaylistApi,\r\n  deletePlaylistFromApi,\r\n} from \"../../services/playlist_services\";\r\n\r\nconst PlaylistContext = createContext();\r\n\r\nconst PlaylistContextProvider = ({ children }) => {\r\n  const intialState = {\r\n    playlists: [],\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(reducer, intialState);\r\n\r\n  useEffect(() => {\r\n    (async function () {\r\n      const { data, success } = getAllPlaylistsApi();\r\n      if (success) {\r\n        dispatch({\r\n          type: \"UPDATE_PLAYLIST\",\r\n          payload: { playlists: data.playlists },\r\n        });\r\n      }\r\n    })();\r\n  }, [dispatch]);\r\n\r\n  const deleteVideosFromPlaylist = async (playlistId, videoId) => {\r\n    const { data, success } = await deleteVideosFromPlaylistApi(\r\n      playlistId,\r\n      videoId\r\n    );\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST_VIDEOS\",\r\n        payload: { playlist: data.playlist },\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const deletePlaylist = async (playlistId) => {\r\n    const { data, success } = await deletePlaylistFromApi(playlistId);\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST\",\r\n        payload: { playlists: data.playlists },\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  return (\r\n    <PlaylistContext.Provider\r\n      value={{ state, dispatch, deleteVideosFromPlaylist, deletePlaylist }}\r\n    >\r\n      {children}\r\n    </PlaylistContext.Provider>\r\n  );\r\n};\r\nexport const usePlaylist = () => {\r\n  return useContext(PlaylistContext);\r\n};\r\nexport { PlaylistContextProvider };\r\n","import React, { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { AiOutlineClose, BsCollectionPlayFill } from \"../../../assets/icons\";\r\nimport { useModal } from \"../../../context/modal/modalContext\";\r\nimport { usePlaylist } from \"../../../context/playlist/playlistContext\";\r\nimport {\r\n  addVideoToPlaylistApi,\r\n  createPlaylistApi,\r\n} from \"../../../services/playlist_services\";\r\nimport \"./modal.css\";\r\n\r\nexport const Modal = () => {\r\n  const { showModal, setShowModal, clickedVideos, selectedVideoId } =\r\n    useModal();\r\n  const [createNewPlaylist, setCreateNewPlaylist] = useState(false);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  const { state, dispatch, deleteVideosFromPlaylist } = usePlaylist();\r\n\r\n  const handleCreatePlaylist = async (title, description) => {\r\n    if (title === \"\") {\r\n\r\n      toast.error(\"title cannot be empty\");\r\n\r\n      return;\r\n    }\r\n\r\n    const { data, success } = await createPlaylistApi({ title, description });\r\n\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_PLAYLIST\",\r\n        payload: { playlists: data.playlists },\r\n      });\r\n      setCreateNewPlaylist(!createNewPlaylist);\r\n      toast.success(`${title} playlist created`);\r\n    } else {\r\n      toast.error(\"Something went wrong\");\r\n\r\n    }\r\n  };\r\n\r\n  const handlePlaylistItemClicked = async (e, playlist) => {\r\n    if (e.target.checked) {\r\n      const { data, success } = await addVideoToPlaylistApi(\r\n        playlist._id,\r\n        clickedVideos\r\n      );\r\n      if (success) {\r\n        dispatch({ type: \"ADD_VIDEOS\", payload: { playlist: data.playlist } });\r\n        toast.success(`Video added to ${playlist.title}`);\r\n      }else{\r\n        toast.error(\"Something went wrong\");\r\n      }\r\n  \r\n\r\n    } else {\r\n      const { success } = deleteVideosFromPlaylist(\r\n        playlist._id,\r\n        clickedVideos._id\r\n      );\r\n      if (success) {\r\n        toast.success(`Video deleted from ${playlist.title}`);\r\n      } else {\r\n        toast.error(\"Something went wrong\");\r\n      }\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    showModal && (\r\n      <div className=\"modal-wrapper\">\r\n        <div className=\"hotstream-modal-container\">\r\n          <div className=\"flex-row justify-between playlist-modal-container p-2\">\r\n            <p className=\"font-semibold hotstream-modal-heading text-white\">\r\n              Save to...\r\n            </p>\r\n            <AiOutlineClose\r\n              className=\"hotstream-cross-icon text-white cursor-pointer\"\r\n              onClick={() => {\r\n                setShowModal(!showModal);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"flex-row pt-2 pb-1 px-1 playlists-content-container\">\r\n            {createNewPlaylist ? (\r\n              <div className=\"flex-col playlist-content\">\r\n                <p className=\"text-white mb-1\">Playlist Name</p>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Name\"\r\n                  className=\"mb-2 playlist-input\"\r\n                  value={title}\r\n                  onChange={(e) => {\r\n                    setTitle(e.target.value);\r\n                  }}\r\n                />\r\n                <button\r\n                  className=\"button playlist-button font-semibold\"\r\n                  onClick={() => {\r\n                    handleCreatePlaylist(title, \"\");\r\n                    setTitle(\"\");\r\n                  }}\r\n                >\r\n                  Create Playlist\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <div className=\"w-100 mb-2\">\r\n                <div\r\n                  className={\r\n                    state.playlists.length === 0\r\n                      ? \"\"\r\n                      : \"playlists-container mb-1\"\r\n                  }\r\n                >\r\n                  {state.playlists?.map((playlist) => {\r\n                    return (\r\n                      <div className=\" flex-row  align-center text-white mb-1\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"mr-1\"\r\n                          checked={playlist.videos.some((video) => {\r\n                            return video._id === selectedVideoId;\r\n                          })}\r\n                          onChange={(e) => {\r\n                            handlePlaylistItemClicked(e, playlist);\r\n                          }}\r\n                        />\r\n                        <p>{playlist?.title}</p>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n                <div className=\"flex-row\">\r\n                  <BsCollectionPlayFill className=\"text-white\" />\r\n                  <p\r\n                    className=\"ml-1 text-white cursor-pointer\"\r\n                    onClick={() => {\r\n                      setCreateNewPlaylist(!createNewPlaylist);\r\n                    }}\r\n                  >\r\n                    Create New Playlist\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./videoCard.css\";\r\nimport {\r\n  BsThreeDotsVertical,\r\n  MdWatchLater,\r\n  BsCollectionPlayFill,\r\n  AiFillLike,\r\n} from \"../../../assets/icons\";\r\nimport { useExplore } from \"../../../context/explore/ExploreContext\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { DropDown } from \"../dropDown/Dropdown\";\r\nimport { usePlaylistVideos } from \"../../../context/playlistVideos/PlaylistVideosContext\";\r\nimport { Modal } from \"../../../shared/components/modal/Modal\";\r\n\r\nimport { useModal } from \"../../../context/modal/modalContext\";\r\n\r\nexport const VideoCard = (video) => {\r\n  const { _id, title, description, creator, views, releaseDate } = video;\r\n  const { isVideoPresent, handleOnPlay, updatePlaylistVideos } =\r\n    usePlaylistVideos();\r\n  const { showModal, setShowModal, setClickedVideos } = useModal();\r\n\r\n  const options = [\r\n    {\r\n      item: (\r\n        <div>\r\n          <BsCollectionPlayFill className=\"mr-1\" /> Add to playlists\r\n        </div>\r\n      ),\r\n      value: \"playlist\",\r\n    },\r\n    {\r\n      item: (\r\n        <div>\r\n          <MdWatchLater className=\"mr-1\" />{\" \"}\r\n          {!isVideoPresent(\"watchLater\", _id)\r\n            ? \"Add to watch later\"\r\n            : \"Remove from watch later\"}\r\n        </div>\r\n      ),\r\n      value: \"watchLater\",\r\n    },\r\n\r\n    {\r\n      item: (\r\n        <div>\r\n          <AiFillLike className=\"mr-1\" />{\" \"}\r\n          {!isVideoPresent(\"likes\", _id)\r\n            ? \"Add to liked videos\"\r\n            : \"Remove from liked videos\"}\r\n        </div>\r\n      ),\r\n      value: \"likes\",\r\n    },\r\n  ];\r\n\r\n  const handleDropDown = async (value) => {\r\n   \r\n      if (value === \"playlist\") {\r\n        setShowModal(!showModal);\r\n        setClickedVideos(video);\r\n      } else {\r\n        const  success  = await updatePlaylistVideos(value, video);\r\n        if (success) {\r\n          dispatch({ type: \"UPDATE_DROPDOWN\", payload: { id: null } });\r\n        }\r\n      }\r\n  };\r\n\r\n  const { selectedDropdownId, dispatch } = useExplore();\r\n  const { setSelectedVideoId } = useModal();\r\n\r\n  return (\r\n\r\n\r\n    <div className=\"video-card-container flex-col\">\r\n      <Modal videoId={_id} />\r\n\r\n      <div className=\"video-wrapper\">\r\n        <ReactPlayer\r\n          className=\"react-player\"\r\n          url={`https://www.youtube.com/watch?v=${_id}`}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          onPlay={() => handleOnPlay(\"history\", video)}\r\n\r\n        />\r\n\r\n        <div className=\"video-badge\">{views}M views</div>\r\n      </div>\r\n      <div className=\"p-2 content-container\">\r\n        <div className=\"flex-row justify-between\">\r\n          <h2 className=\"video-card-title font-semibold\">{title}</h2>\r\n          <BsThreeDotsVertical\r\n            className=\"three-dots-icon\"\r\n            onClick={() => {\r\n              setSelectedVideoId(_id);\r\n              dispatch({\r\n                type: \"UPDATE_DROPDOWN\",\r\n                payload: { id: _id === selectedDropdownId ? null : _id },\r\n              });\r\n            }}\r\n          />\r\n          {selectedDropdownId === _id && (\r\n            <DropDown options={options} onClick={handleDropDown} />\r\n          )}\r\n        </div>\r\n        <div className=\"flex-col\">\r\n          <p className=\"video-card-subtitle my-1 font-medium text-grey\">\r\n            {description}\r\n          </p>\r\n          <ul className=\"flex-row\">\r\n            <li className=\"video-creator list-style-none font-medium text-grey\">\r\n              {creator}\r\n            </li>\r\n            <li className=\"release-date font-medium text-grey\">\r\n              {releaseDate}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./filter.css\";\r\nimport { useExplore } from \"../../../../context/explore/ExploreContext\";\r\n\r\nexport const Filter = () => {\r\n  const { categories, dispatch, selectedCategory } = useExplore();\r\n\r\n  return (\r\n    <div className=\"flex-row explore-list-items list-style-none\">\r\n      <button\r\n        className={`explore-list-item ${\r\n          selectedCategory.toLowerCase() === \"All\".toLowerCase() ? \"active\" : \"\"\r\n        }`}\r\n        onClick={() => {\r\n          dispatch({\r\n            type: \"UPDATE_CATEGORY\",\r\n            payload: { categoryName: \"All\" },\r\n          });\r\n        }}\r\n      >\r\n        All\r\n      </button>\r\n      {categories.map((category) => (\r\n        <button\r\n          className={`explore-list-item ${\r\n            selectedCategory.toLowerCase() ===\r\n            category.categoryName.toLowerCase()\r\n              ? \"active\"\r\n              : \"\"\r\n          }`}\r\n          key={category?._id}\r\n          onClick={() => {\r\n            dispatch({\r\n              type: \"UPDATE_CATEGORY\",\r\n              payload: { categoryName: category.categoryName },\r\n            });\r\n          }}\r\n        >\r\n          {category?.categoryName}\r\n        </button>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  React,\r\n  useEffect,\r\n  VideoCard,\r\n  Filter,\r\n  useExplore,\r\n  changeDocumentTitle,\r\n} from \"./index\";\r\nimport \"./explore.css\";\r\n\r\nexport const Explore = () => {\r\n  const { filteredVideos, dispatch } = useExplore();\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch({\r\n        type: \"UPDATE_DROPDOWN\",\r\n        payload: { selectedDropdownId: null },\r\n      });\r\n    };\r\n  }, [dispatch]);\r\n  useEffect(() => {\r\n    changeDocumentTitle(\"Hotstream-Explore\");\r\n  });\r\n  return (\r\n    <div className=\"explore-container\">\r\n      <div className=\"flex-col\">\r\n        <Filter />\r\n      </div>\r\n      <div className=\"flex-row flex-wrap gap-1 justify-center p-2\">\r\n        {filteredVideos.map((video) => (\r\n          <VideoCard {...video} key={video._id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {fetchApi} from \"../shared/utils/fetchApi\";\r\n\r\nexport const signupApi = async({ firstName,lastName,email, password }) => {\r\n  return await fetchApi({\r\n    url: \"/api/auth/signup\",\r\n    method: \"post\",\r\n    body: { email, password,firstName,lastName },\r\n    propertyName: \"signup\",\r\n  });\r\n};\r\n\r\nexport const loginApi = async({ email, password }) => {\r\n  return await fetchApi({\r\n    url: \"/api/auth/login\",\r\n    method: \"post\",\r\n    body: { email, password },\r\n    propertyName: \"login\",\r\n  });\r\n};\r\n","export const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"UPDATE_USER\": {\r\n      const { isUserloggedIn, token, user } = action.payload;\r\n      localStorage.setItem(\"user\", JSON.stringify(action.payload));\r\n      return { isUserloggedIn, token, user };\r\n    }\r\n    case \"LOGOUT_USER\": {\r\n      localStorage.removeItem(\"user\");\r\n      return {\r\n        isUserloggedIn: false,\r\n        token: null,\r\n        user: null,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createContext, useContext, useReducer } from \"react\";\r\nimport { loginApi, signupApi } from \"../../services/auth_services\";\r\nimport { reducer } from \"./authReducer\";\r\n\r\nconst AuthContext = createContext();\r\nconst AuthContextProvider = ({ children }) => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const intialState = user ?? {\r\n    isUserloggedIn: false,\r\n    token: \"\",\r\n    user: null,\r\n  };\r\n  const [{ isUserloggedIn, token }, dispatch] = useReducer(\r\n    reducer,\r\n    intialState\r\n  );\r\n  const signup = async ({ email, password, firstName, lastName }) => {\r\n    const { data, success } = await signupApi({\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password\r\n    }); \r\n\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_USER\",\r\n        payload: {\r\n          isUserloggedIn: true,\r\n          token: data.encodedToken,\r\n          user: data.createdUser,\r\n        },\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const login = async ({ email, password }) => {\r\n    const { data, success } = await loginApi({ email, password });\r\n    if (success) {\r\n      dispatch({\r\n        type: \"UPDATE_USER\",\r\n        payload: {\r\n          isUserloggedIn: true,\r\n          token: data.encodedToken,\r\n          user: data.foundUser,\r\n        },\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const logout = () =>{\r\n    dispatch({\r\n      type:\"LOGOUT_USER\"\r\n    })\r\n  }\r\n  return (\r\n    <AuthContext.Provider value={{ isUserloggedIn, token, signup, login,logout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\nconst useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\nexport { useAuth, AuthContextProvider };\r\n","import \"./header.css\";\r\nimport { BsSearch } from \"../../../assets/icons\";\r\nimport { useNavigate,Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../../context/auth/authContext\";\r\n\r\nexport const Header = () => {\r\n  const navigate = useNavigate();\r\n  const { isUserloggedIn,logout } = useAuth();\r\n  return (\r\n    <nav className=\"header-container\">\r\n      <div className=\"logo\">\r\n        <span className=\"logo-text1\">HOT</span>\r\n        <span className=\"logo-text2\">STREAM</span>\r\n      </div>\r\n      <form className=\"searchBar-container\">\r\n        <BsSearch className=\"search-icon\" />\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"Search Videos\"\r\n          className=\"search-input\"\r\n        />\r\n      </form>\r\n      {isUserloggedIn ? (\r\n        <Link to=\"/\"\r\n          className=\"login-button\"\r\n          onClick={() => {\r\n          logout();\r\n          }}\r\n        >\r\n          Logout\r\n        </Link>\r\n      ) : (\r\n        <Link to=\"/login\"\r\n          className=\"login-button\"\r\n          onClick={() => {\r\n            navigate(\"/login\");\r\n          }}\r\n        >\r\n          Login\r\n        </Link>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport {Header} from \"../header/Header\";\r\n\r\nexport const WithHeader = () => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Outlet />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Mockman from \"mockman-js\";\r\nfunction MockAPI() {\r\n  return (\r\n    <div className=\"MockAPI\">\r\n      <Mockman />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MockAPI;","export default __webpack_public_path__ + \"static/media/watchlater-image.764148ea.jpg\";","export default __webpack_public_path__ + \"static/media/playlists.5b28ea77.jpg\";","export default __webpack_public_path__ + \"static/media/signup-vlib.a27cfa2e.svg\";","export default __webpack_public_path__ + \"static/media/signin-vlib.73e46337.svg\";","export default __webpack_public_path__ + \"static/media/emptyCart.6f26dbdd.svg\";","export default __webpack_public_path__ + \"static/media/404PageNotFound.8a9c882f.svg\";","\r\nimport {\r\n  WatchLaterImage,\r\n  MdDelete,\r\n  AiOutlineClockCircle,\r\n  ReactPlayer,\r\n  useNavigate,\r\n  useParams,\r\n  usePlaylistVideos,\r\n  usePlaylist,\r\n  changeDocumentTitle,\r\n  useEffect,\r\n  toast,\r\n} from \"./index\";\r\nimport \"./playlistVideos.css\";\r\n\r\n\r\nexport const PlaylistVideos = ({\r\n  playlistId = null,\r\n  playlistTitle,\r\n  playlistVideos,\r\n  isFromPlaylist = false,\r\n}) => {\r\n\r\n  useEffect(() => {\r\n    changeDocumentTitle(\"Hotstream-playlist\");\r\n  }, []);\r\n\r\n  const { updatePlaylistVideos, deleteAllVideosFromHistory } =\r\n    usePlaylistVideos();\r\n\r\n\r\n  const { state, deleteVideosFromPlaylist, deletePlaylist } = usePlaylist();\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  if (playlistId === null) {\r\n    isFromPlaylist = true;\r\n    const playlist = state.playlists?.find((playlist) => {\r\n      return playlist._id === params.playlistId;\r\n    });\r\n    if (playlist) {\r\n      playlistId = playlist._id;\r\n      playlistTitle = playlist.title;\r\n      playlistVideos = playlist.videos;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"playlist-videos-container\">\r\n      <div className=\"playlist-videos-content-container\">\r\n        <img\r\n          src={WatchLaterImage}\r\n          alt=\"playlist-videos\"\r\n          className=\"playlist-videos-image\"\r\n        />\r\n        <div className=\"text-white text-sm my-2\">{playlistTitle}</div>\r\n        <div className=\"flex-row justify-between align-center\">\r\n          <p className=\"text-white flex-row\">{playlistVideos?.length} videos</p>\r\n          {isFromPlaylist && (\r\n            <MdDelete\r\n              className=\"text-white text-sm\"\r\n              onClick={async() => {\r\n                const  success  = await deletePlaylist(playlistId);\r\n                if (success) {\r\n                  toast.success(`${playlistTitle} deleted`);\r\n                  navigate(-1);\r\n                } else {\r\n                  toast.error(\"Something went wrong\");\r\n                }\r\n\r\n              }}\r\n            />\r\n          )}\r\n          {playlistId === \"history\" && (\r\n\r\n            <button\r\n              className=\"button primary-button-pink\"\r\n              onClick={() => {\r\n                deleteAllVideosFromHistory();\r\n              }}\r\n            >\r\n              Clear All\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"playlist-videos-list-container my-2\">\r\n        <ul className=\"mb-2 ml-2\">\r\n          {playlistVideos?.length === 0 && (\r\n            <div className=\"text-white no-videos\">\r\n              No videos in this playlist yet\r\n            </div>\r\n          )}\r\n\r\n          {playlistVideos?.map((video) => {\r\n            return (\r\n              <li key={video?._id} className=\"stacked-list-item\">\r\n                <div className=\"flex-row justify-between\">\r\n                  <div className=\"flex-row justify-between\">\r\n                    <div className=\"playlist-videos-video-card\">\r\n                      <ReactPlayer\r\n                        url={`https://www.youtube.com/watch?v=${video?._id}`}\r\n                        width=\"100%\"\r\n                        height=\"100%\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"ml-2 flex-col flex-wrap\">\r\n                      <h3 className=\"playlist-videos-title text-white\">\r\n                        {video?.title}\r\n                      </h3>\r\n                      <p className=\"playlist-videos-creator text-white my-1\">\r\n                        {video?.creator}\r\n                      </p>\r\n                      <div className=\"clock-icon-container text-white flex-row align-center\">\r\n                        <AiOutlineClockCircle className=\"clock-icon mr-1\" />\r\n                        <p className=\"text-white inline playlist-videos-timestamp\">\r\n                          {video?.addedAt}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <MdDelete\r\n                      className=\"delete-icon text-white\"\r\n                      onClick={async () => {\r\n                        if (isFromPlaylist) {\r\n                          const  success  = await deleteVideosFromPlaylist(\r\n                            playlistId,\r\n                            video._id\r\n                          );\r\n                          if (success) {\r\n                            toast.success(`Videos deleted from playlist`);\r\n                          } else {\r\n                            toast.error(\"Something went wrong\");\r\n                          }\r\n\r\n                        } else {\r\n                          updatePlaylistVideos(playlistId, video);\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport React,{useEffect} from \"react\";\r\nimport { PlaylistVideos } from \"../playlistVideos/PlaylistVideos\";\r\nimport { usePlaylistVideos } from \"../../context/playlistVideos/PlaylistVideosContext\";\r\nimport { changeDocumentTitle } from \"../../shared/utils/changeDocumentTitle\";\r\n\r\nexport const WatchLater = () => {\r\n  useEffect(()=>{\r\n   changeDocumentTitle(\"Hotstream-Watchlater\");\r\n  },[])\r\n \r\n  const {state, deleteVideo } = usePlaylistVideos();\r\n  return (\r\n    <div>\r\n      <PlaylistVideos\r\n        playlistId={\"watchLater\"}\r\n        playlistTitle={\"Saved to Watch Later\"}\r\n        playlistVideos={state.watchLater}\r\n        deleteVideo={deleteVideo}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React,{useEffect} from \"react\";\r\nimport { PlaylistVideos } from \"../playlistVideos/PlaylistVideos\";\r\nimport { usePlaylistVideos } from \"../../context/playlistVideos/PlaylistVideosContext\";\r\nimport { changeDocumentTitle } from \"../../shared/utils/changeDocumentTitle\";\r\n\r\nexport const History = () => {\r\n  useEffect(()=>{\r\n    changeDocumentTitle(\"Hotstream-history\")\r\n  },[])\r\n\r\n  const { state, deleteVideo, deleteAllVideosFromHistory } =\r\n    usePlaylistVideos();\r\n  return (\r\n    <div>\r\n      <PlaylistVideos\r\n        playlistId={\"history\"}\r\n        playlistTitle={\"History\"}\r\n        playlistVideos={state.history}\r\n        deleteVideo={deleteVideo}\r\n        deleteAllVideosFromHistory={deleteAllVideosFromHistory}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { emptyCart } from \"../../../assets/images\";\r\nimport \"./emptyList.css\";\r\nexport const EmptyList = () => {\r\n  return (\r\n    <div className=\"emptyCart-container flex-col\">\r\n      <p className=\"text-pink\">Ohh no !! It's empty ...</p>\r\n      <img src={emptyCart} className=\"empty-cart-image\" alt=\"empty\" />\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport {\r\n  useEffect,\r\n  Playlist,\r\n  Link,\r\n  usePlaylist,\r\n  EmptyList,\r\n  changeDocumentTitle,\r\n} from \"./index\";\r\nimport \"./playlists.css\";\r\n\r\nexport const Playlists = () => {\r\n  useEffect(() => {\r\n    changeDocumentTitle(\"Hotstream-playlists\");\r\n  }, []);\r\n\r\n\r\n  const { state } = usePlaylist();\r\n  const playlistsVideo = state.playlists;\r\n  return (\r\n    <div className=\"playlists-outer-container\">\r\n      <div className=\"playlists-inner-container flex-col align-center\">\r\n        <h2 className=\"text-center my-2 text-lg text-white\">All Playlists </h2>\r\n        <div className={playlistsVideo < 1 ? \"flex-row\" : \"playlists-wrapper\"}>\r\n          {playlistsVideo.length < 1 ? (\r\n            <EmptyList />\r\n          ) : (\r\n            playlistsVideo?.map((playlist) => {\r\n              return (\r\n                <Link\r\n                  to={`/playlists/${playlist._id}`}\r\n                  className=\"playlist-container\"\r\n                >\r\n                  <img\r\n                    src={Playlist}\r\n                    alt=\"playlist\"\r\n                    className=\"playlist-image\"\r\n                  />\r\n                  <div className=\"text-white text-center playlist-title-container\">\r\n                    {playlist?.title}\r\n                  </div>\r\n                </Link>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React,{useEffect} from 'react'\r\nimport { usePlaylistVideos } from '../../context/playlistVideos/PlaylistVideosContext'\r\nimport { changeDocumentTitle } from '../../shared/utils/changeDocumentTitle'\r\nimport { PlaylistVideos } from '../playlistVideos/PlaylistVideos'\r\n\r\nexport const Likes = () => {\r\n  useEffect(()=>{\r\n    changeDocumentTitle(\"Hotstream-Likes\")\r\n  },[])\r\n  \r\n\r\n    const {state,deleteVideo} = usePlaylistVideos();\r\n  return (\r\n    <div>\r\n        <PlaylistVideos\r\n         playlistId={\"likes\"}\r\n         playlistTitle={\"Likes\"}\r\n         playlistVideos={state.likes}\r\n         deleteVideo={deleteVideo}\r\n        />\r\n\r\n       \r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nconst AuthContainer = ({ children,title,imageUrl }) => {\r\n  return (\r\n    <div className=\"authentication-details-container flex-row mx-2\">\r\n      <div className=\"authentication-image-container\">\r\n        <img src={imageUrl} alt={title} />\r\n      </div>\r\n      <div className=\"form-components-container flex-col\">\r\n        <div className=\"wrapper p-2 my-2 flex-col\">\r\n          <h2 className=\"my-2 form-heading text-sm\">{title}</h2>\r\n         {children}\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { AuthContainer };\r\n","import {\r\n  React,\r\n  useState,\r\n  useEffect,\r\n  Link,\r\n  useLocation,\r\n  useNavigate,\r\n  AuthContainer,\r\n  SigninImage,\r\n  BsFillEyeFill,\r\n  FaEnvelope,\r\n  AiOutlineArrowRight,\r\n  BsFillEyeSlashFill,\r\n  useAuth,\r\n  changeDocumentTitle,\r\n  toast,\r\n} from \"./index\";\r\nimport \"./auth.css\"\r\n\r\nexport const Login = () => {\r\n  useEffect(() => {\r\n    changeDocumentTitle(\"Hotstream-login\");\r\n  }, []);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const { pathname } = useLocation();\r\n\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    rememberMe: false,\r\n  });\r\n  const handleOnChange = (e) => {\r\n    setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  };\r\n \r\n  const loginHandler = async (e, email, password) => {\r\n    e.preventDefault();\r\n    const success = await login({ email, password });\r\n    if (success) {\r\n      navigate(\"/\");\r\n      toast.success(\"Login successful\");\r\n    } else {\r\n      toast.error(\"Wrong credentials\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AuthContainer title=\"Login\" imageUrl={SigninImage}>\r\n      <form\r\n        className=\"signup-form-container flex-col\"\r\n        onSubmit={(e) => loginHandler(e, formData.email, formData.password)}\r\n      >\r\n        <ul>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"email\">\r\n                Email address\r\n              </label>\r\n\r\n              <input\r\n                id=\"email\"\r\n                className=\"input-field form-control text-xs\"\r\n                type=\"email\"\r\n                placeholder=\"priya@gmail.com\"\r\n                value={formData.email}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n              <FaEnvelope className=\"email-icon text-xs\"></FaEnvelope>\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"password-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"password\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                className=\"input-field form-control text-xs\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"\"\r\n                value={formData.password}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n              {showPassword ? (\r\n                <BsFillEyeFill\r\n                  className=\"password-eye-icon text-xs\"\r\n                  onClick={() => {\r\n                    setShowPassword(!showPassword);\r\n                  }}\r\n                ></BsFillEyeFill>\r\n              ) : (\r\n                <BsFillEyeSlashFill\r\n                  className=\"password-eye-icon text-xs\"\r\n                  onClick={() => {\r\n                    setShowPassword(!showPassword);\r\n                  }}\r\n                ></BsFillEyeSlashFill>\r\n              )}\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"flex-row align-center justify-between mt-1\">\r\n              <div className=\"flex-row align-center my-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"terms\"\r\n                  checked={formData.rememberMe}\r\n                  onChange={handleOnChange}\r\n                />\r\n                <label className=\"text-xs ml-1 text-white\" htmlFor=\"terms\">\r\n                  Remember me\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"flex-row forget-password align-center\">\r\n                <Link to=\"/forgotPassword\" className=\"text-xs text-white\">\r\n                  Forget Password\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"button primary-button-pink my-2 text-xs\"\r\n        >\r\n          Login\r\n        </button>\r\n        <button\r\n          className=\"button primary-button-pink mb-2 text-xs\"\r\n          onClick={(e) => loginHandler(e, \"priya@gmail.com\", \"priya123\")}\r\n        >\r\n          Login As Guest\r\n        </button>\r\n        <div>\r\n          <Link to=\"/signup\" className=\"text-xs text-white\">\r\n            Create New Account\r\n            <span>\r\n              <AiOutlineArrowRight className=\"ml-2 text-white\"></AiOutlineArrowRight>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </AuthContainer>\r\n  );\r\n};\r\n","import {\r\n  React,\r\n  useState,\r\n  useEffect,\r\n  Link,\r\n  useNavigate,\r\n  SignupImage,\r\n  AuthContainer,\r\n  useAuth,\r\n  BsFillEyeFill,\r\n  BsFillEyeSlashFill,\r\n  AiOutlineArrowRight,\r\n  FaEnvelope,\r\n  changeDocumentTitle,\r\n  toast,\r\n} from \"./index\";\r\nimport \"./auth.css\";\r\n\r\nexport const Signup = () => {\r\n  useEffect(() => {\r\n    changeDocumentTitle(\"Hotstream-Signup\");\r\n  }, []);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const navigate = useNavigate();\r\n  const handleOnChange = (e) => {\r\n    setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  };\r\n  const { signup } = useAuth();\r\n  const handleOnClick = async (e) => {\r\n    e.preventDefault();\r\n    const success = await signup(formData);\r\n    if (success) {\r\n      navigate(\"/\");\r\n      toast.success(\"Signup successful\");\r\n    } else {\r\n      toast.error(\"Wrong credentials\");\r\n    }\r\n  };\r\n  return (\r\n    <AuthContainer title=\"Signup\" imageUrl={SignupImage}>\r\n      <form\r\n        className=\"signup-form-container flex-col\"\r\n        onSubmit={(e) => handleOnClick}\r\n      >\r\n        <ul>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"firstName\">\r\n                First name\r\n              </label>\r\n              <input\r\n                id=\"firstName\"\r\n                className=\"input-field form-control text-xs\"\r\n                type=\"text\"\r\n                placeholder=\"priya\"\r\n                value={formData.firstName}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"lastName\">\r\n                Last name\r\n              </label>\r\n              <input\r\n                id=\"lastName\"\r\n                className=\"input-field form-control text-xs\"\r\n                type=\"text\"\r\n                placeholder=\"patel\"\r\n                value={formData.lastName}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none text-xs\">\r\n            <div className=\"email-field-container\">\r\n              <label className=\"text-xs text-white\" htmlFor=\"email\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                className=\"input-field form-control text-xs\"\r\n                type=\"email\"\r\n                placeholder=\"priya@gmail.com\"\r\n                value={formData.email}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n              <FaEnvelope className=\"email-icon text-xs\"></FaEnvelope>\r\n            </div>\r\n          </li>\r\n          <li className=\"list-style-none\">\r\n            <div className=\"password-field-container\">\r\n              <label className=\"text-xs\" htmlFor=\"password\">\r\n                Password\r\n              </label>\r\n              <input\r\n                id=\"password\"\r\n                className=\"input-field form-control text-xs\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                placeholder=\"\"\r\n                value={formData.password}\r\n                onChange={handleOnChange}\r\n                required\r\n              />\r\n              {showPassword ? (\r\n                <BsFillEyeFill\r\n                  className=\"password-eye-icon text-xs\"\r\n                  onClick={() => {\r\n                    setShowPassword(!showPassword);\r\n                  }}\r\n                ></BsFillEyeFill>\r\n              ) : (\r\n                <BsFillEyeSlashFill\r\n                  className=\"password-eye-icon text-xs\"\r\n                  onClick={() => {\r\n                    setShowPassword(!showPassword);\r\n                  }}\r\n                ></BsFillEyeSlashFill>\r\n              )}\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"button primary-button-pink my-2 text-xs\"\r\n        >\r\n          Create New Account\r\n        </button>\r\n\r\n        <div>\r\n          <Link to=\"/login\" className=\"text-xs text-white\">\r\n            Already have an account\r\n            <span>\r\n              <AiOutlineArrowRight className=\"ml-2\"></AiOutlineArrowRight>\r\n            </span>\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </AuthContainer>\r\n  );\r\n};\r\n","import { pageNotFound } from \"../../../assets/images\";\r\nimport { useNavigate } from \"react-router\";\r\nimport \"./pageNotFound.css\";\r\nexport const PageNotFound = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div>\r\n      <img\r\n        src={pageNotFound}\r\n        className=\"page-not-found-image\"\r\n        alt=\"page-not-found\"\r\n      />\r\n      <div className=\"buttons-container\">\r\n        <button\r\n          className=\"button primary-button-pink\"\r\n          onClick={() => navigate(-1)}\r\n        >\r\n          Previous\r\n        </button>\r\n        <button\r\n          className=\"button primary-button-pink\"\r\n          onClick={() => navigate(\"/\")}\r\n        >\r\n          Home\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { useAuth } from \"../../../context/auth/authContext\"\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\n\r\nexport const PrivateRoute = ({children}) =>{\r\n    const {isUserloggedIn} = useAuth();\r\n  \r\n   return isUserloggedIn ? children : <Navigate to=\"/login\"/>\r\n}","import {\r\n  Home,\r\n  HeroSection,\r\n  Route,\r\n  Routes,\r\n  ToastContainer,\r\n  Explore,\r\n  WatchLater,\r\n  WithHeader,\r\n  Mockman,\r\n  History,\r\n  Playlists,\r\n  Likes,\r\n  Login,\r\n  Signup,\r\n  useAuth,\r\n  Modal,\r\n  PlaylistVideos,\r\n  PageNotFound,\r\n  PrivateRoute,\r\n} from \"./appImports\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const { isUserLoggedIn } = useAuth();\r\n  return (\r\n    <div className=\"App\">\r\n      <ToastContainer theme=\"colored\" />\r\n      <Modal />\r\n      <Routes>\r\n        <Route path=\"mockApi\" element={<Mockman />}></Route>\r\n        <Route path=\"*\" element={<PageNotFound />} />\r\n        <Route path=\"/\" element={<WithHeader />}>\r\n          <Route path=\"/\" element={<Home />}>\r\n            <Route path=\"*\" element={<PageNotFound />} />\r\n            <Route index element={<HeroSection />} />\r\n            <Route path=\"explore\" element={<Explore />} />\r\n            <Route\r\n              path=\"watchlater\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <WatchLater />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"playlists\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <Playlists />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"likes\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <Likes />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"history\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <History />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n            <Route\r\n              path=\"playlists/:playlistId\"\r\n              element={\r\n                <PrivateRoute>\r\n                  <PlaylistVideos />\r\n                </PrivateRoute>\r\n              }\r\n            />\r\n          </Route>\r\n        </Route>\r\n\r\n        {!isUserLoggedIn && (\r\n          <>\r\n            <Route path=\"login\" element={<Login />} />\r\n            <Route path=\"signup\" element={<Signup />} />\r\n          </>\r\n        )}\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { Response } from \"miragejs\";\r\nimport dayjs from \"dayjs\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const requiresAuth = function (request) {\r\n  const encodedToken = request.requestHeaders.authorization;\r\n  const decodedToken = jwt_decode(\r\n    encodedToken,\r\n    process.env.REACT_APP_JWT_SECRET\r\n  );\r\n  if (decodedToken) {\r\n    const user = this.db.users.findBy({ email: decodedToken.email });\r\n    return user;\r\n  }\r\n  return new Response(\r\n    401,\r\n    {},\r\n    { errors: [\"The token is invalid. Unauthorized access error.\"] }\r\n  );\r\n};\r\n\r\nexport const formatDate = () => dayjs().format(\"YYYY-MM-DDTHH:mm:ssZ\");\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { Response } from \"miragejs\";\r\nimport { formatDate } from \"../utils/authUtils\";\r\nconst sign = require(\"jwt-encode\");\r\n/**\r\n * All the routes related to Auth are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles user signups.\r\n * send POST Request at /api/auth/signup\r\n * body contains {firstName, lastName, email, password}\r\n * */\r\n\r\nexport const signupHandler = function (schema, request) {\r\n  const { email, password, ...rest } = JSON.parse(request.requestBody);\r\n  try {\r\n    // check if email already exists\r\n    const foundUser = schema.users.findBy({ email });\r\n    if (foundUser) {\r\n      return new Response(\r\n        422,\r\n        {},\r\n        {\r\n          errors: [\"Unprocessable Entity. Email Already Exists.\"],\r\n        }\r\n      );\r\n    }\r\n    const _id = uuid();\r\n    const newUser = {\r\n      _id,\r\n      email,\r\n      password,\r\n      createdAt: formatDate(),\r\n      updatedAt: formatDate(),\r\n      ...rest,\r\n      likes: [],\r\n      history: [],\r\n      playlists: [],\r\n    };\r\n    const createdUser = schema.users.create(newUser);\r\n    const encodedToken = sign({ _id, email }, process.env.REACT_APP_JWT_SECRET);\r\n    return new Response(201, {}, { createdUser, encodedToken });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles user login.\r\n * send POST Request at /api/auth/login\r\n * body contains {email, password}\r\n * */\r\n\r\nexport const loginHandler = function (schema, request) {\r\n  const { email, password } = JSON.parse(request.requestBody);\r\n  try {\r\n    const foundUser = schema.users.findBy({ email });\r\n    if (!foundUser) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        { errors: [\"The email you entered is not Registered. Not Found error\"] }\r\n      );\r\n    }\r\n    if (password === foundUser.password) {\r\n      const encodedToken = sign(\r\n        { _id: foundUser._id, email },\r\n        process.env.REACT_APP_JWT_SECRET\r\n      );\r\n      foundUser.password = undefined;\r\n      return new Response(200, {}, { foundUser, encodedToken });\r\n    }\r\n    new Response(\r\n      401,\r\n      {},\r\n      {\r\n        errors: [\r\n          \"The credentials you entered are invalid. Unauthorized access error.\",\r\n        ],\r\n      }\r\n    );\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to User History are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's history.\r\n * send GET Request at /api/user/history\r\n * */\r\nexport const getHistoryVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { history: user.history });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's history.\r\n * send POST Request at /api/user/history\r\n * body contains {video}\r\n * */\r\n\r\nexport const addVideoToHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.history.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your history\"],\r\n        }\r\n      );\r\n    }\r\n    user.history.push(video);\r\n    return new Response(201, {}, { history: user.history });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's history.\r\n * send DELETE Request at /api/user/history/:videoId\r\n * */\r\n\r\nexport const removeVideoFromHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    const videoId = request.params.videoId;\r\n    const filteredHistory = user.history.filter((item) => item._id !== videoId);\r\n    this.db.users.update({ history: filteredHistory });\r\n    return new Response(200, {}, { history: filteredHistory });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's history.\r\n * send DELETE Request at /api/user/history/all\r\n * */\r\n\r\nexport const clearHistoryHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    this.db.users.update({ history: [] });\r\n    return new Response(200, {}, { history: [] });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\n\r\n/**\r\n * All the routes related to Videos are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles gets all videos in the db.\r\n * send GET Request at /api/videos\r\n * */\r\n\r\nexport const getAllVideosHandler = function () {\r\n  try {\r\n    return new Response(200, {}, { videos: this.db.videos });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles uploads a new video to the db.\r\n * send POST Request at /api/user/videos/\r\n * */\r\n\r\n// TODO: postVideoHandler\r\n\r\n/**\r\n * This handler handles gets all videos in the db.\r\n * send GET Request at /api/user/videos/:videoId\r\n * */\r\n\r\nexport const getVideoHandler = function (schema, request) {\r\n  const { videoId } = request.params;\r\n  try {\r\n    const video = schema.videos.findBy({ _id: videoId }).attrs;\r\n    return new Response(200, {}, { video });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","/**\r\n * Videos Database can be added here.\r\n * You can add videos of your wish with different attributes\r\n * */\r\n\r\nexport const videos = [\r\n  {\r\n    _id: \"A30IuIjQYYg\",\r\n    title: \"Thailand - Cinematic Travel\",\r\n    description: \"Land of incredible stories.\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"country\",\r\n    views: \"290\",\r\n    releaseDate: \"Aug 28 2018\",\r\n  },\r\n  {\r\n    _id: \"DIgv-e18OzA\",\r\n    title: \"Vietnam - Cinematic Travel\",\r\n    description: \"Land of ancient secrets\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"city\",\r\n    views: \"110\",\r\n    releaseDate: \"Sept 12 2021\",\r\n  },\r\n  {\r\n    _id: \"oM_9lF4u4_o\",\r\n    title: \"Kedarnath Yatra 2020\",\r\n    description: \"Sonprayag to Kedarnath Temple, 16km Trekking\",\r\n    creator: \"Naveen Rawat\",\r\n    categoryName: \"state\",\r\n    views: \"1\",\r\n    releaseDate: \"Nov 10 2011\",\r\n  },\r\n  {\r\n    _id: \"ssYuPTdMt8A\",\r\n    title: \"Visit in Gibhi\",\r\n    description: \"10 Beautiful Tourist categoryNames to Visit in Jibhi\",\r\n    creator: \"Walking wanderer\",\r\n    categoryName: \"village\",\r\n    views: \"2\",\r\n    releaseDate: \"Dec 19 2013\",\r\n  },\r\n  {\r\n    _id: \"2YlOJiEUVOY&t=5s\",\r\n    title: \"Tirthan Valley\",\r\n    description: \"Travel Guide 2020 | Trek\",\r\n    creator: \"Abhimanyu Dalal\",\r\n    categoryName: \"town\",\r\n    views: \"210\",\r\n    releaseDate: \"Dec 9 2017\",\r\n  },\r\n  {\r\n    _id: \"AotsXapzQyU\",\r\n    title: \"Shimla Kufri\",\r\n    description: \"Travel to Kufri\",\r\n    creator: \"Modern banjare\",\r\n    categoryName: \"city\",\r\n    views: \"230\",\r\n    releaseDate: \"Apr 13 2012\",\r\n  },\r\n  {\r\n    _id: \"hn6-k3bLcaE\",\r\n    title: \"KOLKATA - FROM THE SKY\",\r\n    description: \"DRONE FOOTAGE || DJI MAVIC MINI\",\r\n    creator: \"Take a tour\",\r\n    categoryName: \"city\",\r\n    views: \"4\",\r\n    releaseDate: \"Jan 28 2017\",\r\n  },\r\n  {\r\n    _id: \"vydEu1I9r5c\",\r\n    title: \"Ladakh\",\r\n    description: \"Pangong Lake | Nubra Valley\",\r\n    creator: \"Garima's good life\",\r\n    categoryName: \"union territory\",\r\n    views: \"4\",\r\n    releaseDate: \"Jan 14 2010\",\r\n  },\r\n  {\r\n    _id: \"qi52KQs67MY\",\r\n    title: \"Philippines\",\r\n    description: \"Land of enchanted Islands | Epic Travel Cinematic\",\r\n    creator: \"Benn TK\",\r\n    categoryName: \"country\",\r\n    views: \"10\",\r\n    releaseDate: \"Mar 24 2015\",\r\n  },];\r\n","import { v4 as uuid } from \"uuid\";\r\n\r\n/**\r\n * Category Database can be added here.\r\n * You can add category of your wish with different attributes\r\n * */\r\n\r\nexport const categories = [\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"State\",\r\n    },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Country\",\r\n    },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Town\",\r\n  },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"Union Territory\",\r\n  },\r\n  {\r\n    _id: uuid(),\r\n    categoryName: \"City\",\r\n  },\r\n];\r\n","import { Response } from \"miragejs\";\r\n/**\r\n * All the routes related to Category are present here.\r\n * These are Publicly accessible routes.\r\n * */\r\n\r\n/**\r\n * This handler handles gets all categories in the db.\r\n * send GET Request at /api/categories\r\n * */\r\n\r\nexport const getAllCategoriesHandler = function () {\r\n  try {\r\n    return new Response(200, {}, { categories: this.db.categories });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles gets all categories in the db.\r\n * send GET Request at /api/user/category/:categoryId\r\n * */\r\n\r\nexport const getCategoryHandler = function (schema, request) {\r\n  const { categoryId } = request.params;\r\n  try {\r\n    const category = schema.categories.findBy({ _id: categoryId }).attrs;\r\n    return new Response(200, {}, { category });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to Liked Videos are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's likes.\r\n * send GET Request at /api/user/likes\r\n * */\r\nexport const getLikedVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { likes: user.likes });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's likes.\r\n * send POST Request at /api/user/likes\r\n * body contains {video}\r\n * */\r\n\r\nexport const addItemToLikedVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.likes.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your liked videos\"],\r\n        }\r\n      );\r\n    }\r\n    user.likes.push(video);\r\n    return new Response(201, {}, { likes: user.likes });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's likes.\r\n * send DELETE Request at /api/user/likes/:videoId\r\n * */\r\n\r\nexport const removeItemFromLikedVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const videoId = request.params.videoId;\r\n    const filteredLikes = user.likes.filter((item) => item._id !== videoId);\r\n    this.db.users.update({ likes: filteredLikes });\r\n    return new Response(200, {}, { likes: filteredLikes });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\n/**\r\n * All the routes related to User Playlists are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting all user's playlists.\r\n * send GET Request at /api/user/playlist\r\n * */\r\nexport const getAllPlaylistsHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { playlists: user.playlists });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding playlist to user's playlists.\r\n * send POST Request at /api/user/playlists\r\n * body contains {playlist: {title: \"foo\", description:\"bar bar bar\" }}\r\n * */\r\n\r\nexport const addNewPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { playlist } = JSON.parse(request.requestBody);\r\n    user.playlists.push({ ...playlist, videos: [], _id: uuid() });\r\n    return new Response(201, {}, { playlists: user.playlists });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's playlists.\r\n * send DELETE Request at /api/user/playlists/:playlistId\r\n * */\r\n\r\nexport const removePlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const filteredPlaylists = user.playlists.filter(\r\n      (item) => item._id !== playlistId\r\n    );\r\n    this.db.users.update({ playlists: filteredPlaylists });\r\n    return new Response(200, {}, { playlists: filteredPlaylists });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles getting videos from user's playlist.\r\n * send GET Request at /api/user/playlists/:playlistId\r\n * */\r\n\r\nexport const getVideosFromPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const playlist = user.playlists.find((item) => item._id !== playlistId);\r\n    return new Response(200, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles adding videos from user's playlist.\r\n * send POST Request at /api/user/playlists/:playlistId\r\n * body contains {video}\r\n * */\r\n\r\nexport const addVideoToPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const { video } = JSON.parse(request.requestBody);\r\n    const playlist = user.playlists.find((item) => item._id === playlistId);\r\n    if (playlist.videos.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your playlist\"],\r\n        }\r\n      );\r\n    }\r\n    playlist.videos.push(video);\r\n    return new Response(201, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's playlist.\r\n * send DELETE Request at /api/user/playlists/:playlistId/:videoId\r\n * */\r\n\r\nexport const removeVideoFromPlaylistHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const playlistId = request.params.playlistId;\r\n    const videoId = request.params.videoId;\r\n    let playlist = user.playlists.find((item) => item._id === playlistId);\r\n    const filteredVideos = playlist.videos.filter(\r\n      (item) => item._id !== videoId\r\n    );\r\n    playlist.videos = filteredVideos;\r\n    return new Response(200, {}, { playlist });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { v4 as uuid } from \"uuid\";\r\nimport { formatDate } from \"../utils/authUtils\";\r\n/**\r\n * User Database can be added here.\r\n * You can add default users of your wish with different attributes\r\n * Every user will have likes (Likes are set to 0 by default), History Array, Playlists Array (added Watch Later Playlist in it by default) by default\r\n * */\r\n\r\nexport const users = [\r\n  {\r\n    _id: uuid(),\r\n    firstName: \"Adarsh\",\r\n    lastName: \"Balika\",\r\n    email: \"adarshbalika@gmail.com\",\r\n    password: \"adarshBalika123\",\r\n    createdAt: formatDate(),\r\n    updatedAt: formatDate(),\r\n  },\r\n  {\r\n    _id: uuid(),\r\n    firstName: \"Priya\",\r\n    lastName: \"Patel\",\r\n    email: \"priya@gmail.com\",\r\n    password: \"priya123\",\r\n    createdAt: formatDate(),\r\n    updatedAt: formatDate(),\r\n  },\r\n];\r\n","import { Response } from \"miragejs\";\r\nimport { requiresAuth } from \"../utils/authUtils\";\r\n\r\n/**\r\n * All the routes related to Watch Later Videos are present here.\r\n * These are private routes.\r\n * Client needs to add \"authorization\" header with JWT token in it to access it.\r\n * */\r\n\r\n/**\r\n * This handler handles getting videos from user's watchlater playlist.\r\n * send GET Request at /api/user/watchlater\r\n * */\r\n\r\nexport const getWatchLaterVideosHandler = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  try {\r\n    if (!user) {\r\n      return new Response(\r\n        404,\r\n        {},\r\n        {\r\n          errors: [\"The email you entered is not Registered. Not Found error\"],\r\n        }\r\n      );\r\n    }\r\n    return new Response(200, {}, { watchlater: user.watchlater });\r\n  } catch (error) {\r\n    return new Response(\r\n      500,\r\n      {},\r\n      {\r\n        error,\r\n      }\r\n    );\r\n  }\r\n};\r\n\r\n/**\r\n * This handler handles adding videos to user's watchlater playlist.\r\n * send POST Request at /api/user/watchlater\r\n * body contains {video}\r\n * */\r\n\r\nexport const addItemToWatchLaterVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const { video } = JSON.parse(request.requestBody);\r\n    if (user.watchlater.some((item) => item.id === video.id)) {\r\n      return new Response(\r\n        409,\r\n        {},\r\n        {\r\n          errors: [\"The video is already in your watch later videos\"],\r\n        }\r\n      );\r\n    }\r\n    user.watchlater.push(video);\r\n    return new Response(201, {}, { watchlater: user.watchlater });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    {\r\n      errors: [\"The email you entered is not Registered. Not Found error\"],\r\n    }\r\n  );\r\n};\r\n\r\n/**\r\n * This handler handles removing videos from user's watchlater playlist.\r\n * send DELETE Request at /api/user/watchlater/:videoId\r\n * */\r\n\r\nexport const removeItemFromWatchLaterVideos = function (schema, request) {\r\n  const user = requiresAuth.call(this, request);\r\n  if (user) {\r\n    const videoId = request.params.videoId;\r\n    const filteredVideos = user.watchlater.filter(\r\n      (item) => item._id !== videoId\r\n    );\r\n    this.db.users.update({ watchlater: filteredVideos });\r\n    return new Response(200, {}, { watchlater: filteredVideos });\r\n  }\r\n  return new Response(\r\n    404,\r\n    {},\r\n    { errors: [\"The user you request does not exist. Not Found error.\"] }\r\n  );\r\n};\r\n","import { Server, Model, RestSerializer } from \"miragejs\";\r\nimport {\r\n  loginHandler,\r\n  signupHandler,\r\n} from \"./backend/controllers/AuthController\";\r\nimport {\r\n  getHistoryVideosHandler,\r\n  addVideoToHistoryHandler,\r\n  removeVideoFromHistoryHandler,\r\n  clearHistoryHandler,\r\n} from \"./backend/controllers/HistoryController\";\r\nimport {\r\n  getAllVideosHandler,\r\n  getVideoHandler,\r\n} from \"./backend/controllers/VideoController\";\r\nimport { videos } from \"./backend/db/videos\";\r\nimport { categories } from \"./backend/db/categories\";\r\nimport {\r\n  getAllCategoriesHandler,\r\n  getCategoryHandler,\r\n} from \"./backend/controllers/CategoryController\";\r\nimport {\r\n  getLikedVideosHandler,\r\n  addItemToLikedVideos,\r\n  removeItemFromLikedVideos,\r\n} from \"./backend/controllers/LikeController\";\r\nimport {\r\n  getAllPlaylistsHandler,\r\n  addNewPlaylistHandler,\r\n  removePlaylistHandler,\r\n  getVideosFromPlaylistHandler,\r\n  addVideoToPlaylistHandler,\r\n  removeVideoFromPlaylistHandler,\r\n} from \"./backend/controllers/PlaylistController\";\r\nimport { users } from \"./backend/db/users\";\r\nimport {\r\n  addItemToWatchLaterVideos,\r\n  getWatchLaterVideosHandler,\r\n  removeItemFromWatchLaterVideos,\r\n} from \"./backend/controllers/WatchLaterController\";\r\nexport function makeServer({ environment = \"development\" } = {}) {\r\n  return new Server({\r\n    serializers: {\r\n      application: RestSerializer,\r\n    },\r\n    environment,\r\n    // TODO: Use Relationships to have named relational Data\r\n    models: {\r\n      video: Model,\r\n      category: Model,\r\n      user: Model,\r\n      like: Model,\r\n      history: Model,\r\n      playlist: Model,\r\n      watchlater: Model,\r\n    },\r\n\r\n    // Runs on the start of the server\r\n    seeds(server) {\r\n      server.logging = false;\r\n      videos.forEach((item) => {\r\n        server.create(\"video\", { ...item });\r\n      });\r\n      categories.forEach((item) => server.create(\"category\", { ...item }));\r\n      users.forEach((item) =>\r\n        server.create(\"user\", {\r\n          ...item,\r\n          likes: [],\r\n          watchlater: [],\r\n          history: [],\r\n          playlists: [],\r\n        })\r\n      );\r\n    },\r\n\r\n    routes() {\r\n      this.namespace = \"api\";\r\n      // auth routes (public)\r\n      this.post(\"/auth/signup\", signupHandler.bind(this));\r\n      this.post(\"/auth/login\", loginHandler.bind(this));\r\n\r\n      // video routes (public)\r\n      this.get(\"/videos\", getAllVideosHandler.bind(this));\r\n      this.get(\"video/:videoId\", getVideoHandler.bind(this));\r\n\r\n      // TODO: POST VIDEO TO DB\r\n\r\n      // categories routes (public)\r\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\r\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this));\r\n\r\n      // likes routes (private)\r\n      this.get(\"/user/likes\", getLikedVideosHandler.bind(this));\r\n      this.post(\"/user/likes\", addItemToLikedVideos.bind(this));\r\n      this.delete(\"/user/likes/:videoId\", removeItemFromLikedVideos.bind(this));\r\n\r\n      // watch later routes (private)\r\n      this.get(\"/user/watchlater\", getWatchLaterVideosHandler.bind(this));\r\n      this.post(\"/user/watchlater\", addItemToWatchLaterVideos.bind(this));\r\n      this.delete(\r\n        \"/user/watchlater/:videoId\",\r\n        removeItemFromWatchLaterVideos.bind(this)\r\n      );\r\n\r\n      // playlist routes (private)\r\n      this.get(\"/user/playlists\", getAllPlaylistsHandler.bind(this));\r\n      this.post(\"/user/playlists\", addNewPlaylistHandler.bind(this));\r\n      this.delete(\r\n        \"/user/playlists/:playlistId\",\r\n        removePlaylistHandler.bind(this)\r\n      );\r\n\r\n      this.get(\r\n        \"/user/playlists/:playlistId\",\r\n        getVideosFromPlaylistHandler.bind(this)\r\n      );\r\n      this.post(\r\n        \"/user/playlists/:playlistId\",\r\n        addVideoToPlaylistHandler.bind(this)\r\n      );\r\n      this.delete(\r\n        \"/user/playlists/:playlistId/:videoId\",\r\n        removeVideoFromPlaylistHandler.bind(this)\r\n      );\r\n\r\n      // history routes (private)\r\n      this.get(\"/user/history\", getHistoryVideosHandler.bind(this));\r\n      this.post(\"/user/history\", addVideoToHistoryHandler.bind(this));\r\n      this.delete(\r\n        \"/user/history/:videoId\",\r\n        removeVideoFromHistoryHandler.bind(this)\r\n      );\r\n      this.delete(\"/user/history/all\", clearHistoryHandler.bind(this));\r\n    },\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { ExploreContextProvider } from \"./context/explore/ExploreContext\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { makeServer } from \"./server\";\r\nimport { AuthContextProvider } from \"./context/auth/authContext\";\r\nimport { PlaylistVideosContextProvider } from \"./context/playlistVideos/PlaylistVideosContext\";\r\nimport { ModalContextProvider } from \"./context/modal/modalContext\";\r\nimport { PlaylistContextProvider } from \"./context/playlist/playlistContext\";\r\n\r\nmakeServer();\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <PlaylistContextProvider>\r\n        <ModalContextProvider>\r\n          <PlaylistVideosContextProvider>\r\n            <ExploreContextProvider>\r\n              <BrowserRouter>\r\n                <App />\r\n              </BrowserRouter>\r\n            </ExploreContextProvider>\r\n          </PlaylistVideosContextProvider>\r\n        </ModalContextProvider>\r\n      </PlaylistContextProvider>\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}