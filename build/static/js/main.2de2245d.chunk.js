(this.webpackJsonphotstream=this.webpackJsonphotstream||[]).push([[0],{124:function(e,t,r){},125:function(e,t,r){},126:function(e,t,r){},127:function(e,t,r){},128:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){},133:function(e,t,r){},138:function(e,t,r){"use strict";r.r(t);var s=r(2),a=r.n(s),n=r(30),i=r.n(n),c=(r(78),r(79),r(12)),o=r(19),l=r(28),u=r(24),d=r(21),p=(r(80),r(1)),b=function(){var e=function(e){return e.isActive?"sidebar-item active":"sidebar-item"};return Object(p.jsxs)("ul",{className:"sidebar-items  list-style-none",children:[Object(p.jsxs)(c.c,{to:"/",className:e,children:[Object(p.jsx)(l.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Home"})]}),Object(p.jsxs)(c.c,{to:"/explore",className:e,children:[Object(p.jsx)(u.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Explore"})]}),Object(p.jsxs)(c.c,{to:"/playlists",className:e,children:[Object(p.jsx)(o.b,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Playlists"})]}),Object(p.jsxs)(c.c,{to:"/likes",className:e,children:[Object(p.jsx)(d.a,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Likes"})]}),Object(p.jsxs)(c.c,{to:"/watchlater",className:e,children:[Object(p.jsx)(o.a,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"Watch Later"})]}),Object(p.jsxs)(c.c,{to:"/history",className:e,children:[Object(p.jsx)(d.e,{className:"mr-1 sidebar-item-icon"}),Object(p.jsx)("span",{className:"sidebar-content",children:"History"})]})]})},j=r(6),h=function(e){document.title=e},m=function(){return Object(s.useEffect)((function(){h("Hotstream-Home")}),[]),Object(p.jsxs)("div",{className:"home-container",children:[Object(p.jsx)(b,{}),Object(p.jsx)(j.b,{})]})},x=(r(82),function(){var e=Object(j.h)();return Object(p.jsxs)("div",{className:"hero-section-container",children:[Object(p.jsx)("img",{src:"https://miro.medium.com/max/1400/1*5lyavS59mazOFnb55Z6znQ.png",alt:"hero-img",className:"hero-image"}),Object(p.jsxs)("div",{className:"overlay-text-container",children:[Object(p.jsxs)("h1",{className:"overlay-text",children:["IT'S TIME TO ",Object(p.jsx)("span",{className:"explore-text",children:"EXPLORE"})," ",Object(p.jsx)("br",{})," THE WORLD"]}),Object(p.jsx)("button",{className:"button explore-btn",onClick:function(){e("/explore")},children:"Explore Now "})]})]})}),f=r(10),y=r(7),O=r(5),v=r(3),w=r.n(v),g=(r(84),r(8)),N=function(e,t){switch(t.type){case"FETCH_DATA":return Object(y.a)(Object(y.a)({},e),{},{videos:t.payload.videos,categories:t.payload.categories});case"UPDATE_CATEGORY":return Object(y.a)(Object(y.a)({},e),{},{selectedCategory:t.payload.categoryName});case"UPDATE_DROPDOWN":return Object(y.a)(Object(y.a)({},e),{},{selectedDropdownId:t.payload.id});default:return e}},k=r(60),T=r.n(k);function I(e){return _.apply(this,arguments)}function _(){return(_=Object(O.a)(w.a.mark((function e(t){var r,s,a,n,i,c,o,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,s=t.method,a=t.body,n=t.propertyName,i=JSON.parse(localStorage.getItem("user")),e.prev=2,e.next=5,T()({method:s,url:r,data:a,headers:{authorization:null!==i?i.token:""}});case 5:if(c=e.sent,o=c.data,200!==(l=c.status)&&201!==l){e.next=10;break}return e.abrupt("return",{data:o,success:!0,message:"".concat(n," fetched successfully!!")});case 10:throw Error("API request failed");case 13:return e.prev=13,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",{data:null,success:!1,message:"".concat(n," failed to fetch")});case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}var A=function(){var e=Object(O.a)(w.a.mark((function e(){var t,r,s,a,n,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({url:"/api/videos",method:"get",propertyName:"videos"});case 3:return t=e.sent,r=t.data,s=t.success,e.next=8,I({url:"/api/categories",method:"get",propertyName:"categories"});case 8:if(a=e.sent,n=a.data,i=a.success,!s||!i){e.next=13;break}return e.abrupt("return",{data:{videos:r.videos,categories:n.categories},success:!0,message:"Data fetched successfully"});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",{data:null,suceess:!1,message:"Data failed to fetch"});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),E=Object(s.createContext)(),S=function(e){var t=e.children;Object(s.useEffect)((function(){Object(O.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,r=t.data,t.success&&u({type:"FETCH_DATA",payload:{videos:r.videos,categories:r.categories}});case 6:case"end":return e.stop()}}),e)})))()}),[]);var r=Object(s.useReducer)(N,{videos:[],categories:[],selectedCategory:"All",selectedDropdownId:null}),a=Object(g.a)(r,2),n=a[0],i=n.videos,c=n.categories,o=n.selectedCategory,l=n.selectedDropdownId,u=a[1],d=function(e){return"All"===o?e:e.filter((function(e){return e.categoryName.toLowerCase()===o.toLowerCase()}))}(i);return Object(p.jsx)(E.Provider,{value:{videos:i,categories:c,selectedCategory:o,dispatch:u,filteredVideos:d,selectedDropdownId:l},children:t})},D=function(){return Object(s.useContext)(E)},P=r(29),C=r.n(P),L=(r(124),function(e){var t=e.options,r=e.onClick;return Object(p.jsx)("ul",{className:"dropdown-container",children:t.map((function(e){return Object(p.jsx)("li",{className:"list-style-none dropdown-option",onClick:function(){r(e.value)},children:e.item},e.value)}))})}),V=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/watchlater",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/watchlater/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(w.a.mark((function e(){var t,r,s,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I({url:"/api/user/watchlater",method:"get"});case 3:return t=e.sent,e.next=6,I({url:"/api/user/likes",method:"get"});case 6:return r=e.sent,e.next=9,I({url:"/api/user/history",method:"get"});case 9:return s=e.sent,e.next=12,Promise.all([t,r,s]);case 12:return a=e.sent,e.abrupt("return",{data:{watchLater:a[0].data.watchlater,likes:a[1].data.likes,history:a[2].data.history},success:!0,message:"Fetched successfully"});case 16:return e.prev=16,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{data:null,success:!1,message:"API failed"});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/likes",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/likes/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/history",method:"post",body:{video:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/history/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(O.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/history/all",method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=r(16),J=function(e,t){switch(t.type){case"GET_VIDEOS":var r=t.payload,s=r.watchLater,a=r.history,n=r.likes;return Object(y.a)(Object(y.a)({},e),{},{watchLater:s,history:a,likes:n});case"UPDATE_PLAYLIST_VIDEOS":return Object(y.a)(Object(y.a)({},e),{},Object(B.a)({},t.payload.playlistId,t.payload.videos));default:return e}},G=Object(s.createContext)(),K={status:"IDLE",watchLater:[],history:[],likes:[]},W=function(e){var t=e.children,r=Object(s.useReducer)(J,K),a=Object(g.a)(r,2),n=a[0],i=a[1];Object(s.useEffect)((function(){Object(O.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,r=t.data,t.success?(i({type:"GET_VIDEOS",payload:{watchLater:r.watchLater,history:r.history,likes:r.likes}}),f.b.success("Vidos fetched successfully")):f.b.error("Something went wrong");case 6:case"end":return e.stop()}}),e)})))()}),[]);var c=function(){var e=Object(O.a)(w.a.mark((function e(t,r){var s,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(r);case 2:if(s=e.sent,a=s.data,!s.success){e.next=10;break}return i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:t,videos:a.history}}),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:t=e.sent,r=t.data,t.success?(i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:"history",videos:r.history}}),f.b.success("All videos deleted from history")):f.b.error("Something went wrong");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e,t){var r;return null===(r=n[e])||void 0===r?void 0:r.some((function(e){return e._id===t}))},u=function(){var e=Object(O.a)(w.a.mark((function e(t,r){var s,a,n,c,o,u,d,p,b,j,h,m,x,O;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(new Date).toUTCString().slice(0,16),a=l(t,r._id),n=[],c=!1,e.t0=t,e.next="watchLater"===e.t0?6:"history"===e.t0?21:"likes"===e.t0?36:51;break;case 6:if(a){e.next=12;break}return e.next=9,V(Object(y.a)(Object(y.a)({},r),{},{addedAt:s}));case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,U(r._id);case 14:e.t1=e.sent;case 15:return o=e.t1,u=o.data,d=o.success,n=u.watchlater,c=d,e.abrupt("break",52);case 21:if(a){e.next=27;break}return e.next=24,Y(Object(y.a)(Object(y.a)({},r),{},{addedAt:s}));case 24:e.t2=e.sent,e.next=30;break;case 27:return e.next=29,M(r._id);case 29:e.t2=e.sent;case 30:return p=e.t2,b=p.data,j=p.success,n=b.history,c=j,e.abrupt("break",52);case 36:if(a){e.next=42;break}return e.next=39,R(Object(y.a)(Object(y.a)({},r),{},{addedAt:s}));case 39:e.t3=e.sent,e.next=45;break;case 42:return e.next=44,H(r._id);case 44:e.t3=e.sent;case 45:return h=e.t3,m=h.data,x=h.success,n=m.likes,c=x,e.abrupt("break",52);case 51:return e.abrupt("break",52);case 52:c?(i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlistId:t,videos:n}}),O="Video ".concat(a?"deleted from":"added to"," ").concat(t),f.b.success(O)):f.b.error("Something went wrong");case 53:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(p.jsx)(G.Provider,{value:{updatePlaylistVideos:u,state:n,isVideoPresent:l,dispatch:i,deleteAllVideosFromHistory:o,handleOnPlay:c},children:t})},z=function(){return Object(s.useContext)(G)},Q=Object(s.createContext)(),X=function(e){var t=e.children,r=Object(s.useState)(!1),a=Object(g.a)(r,2),n=a[0],i=a[1],c=Object(s.useState)({}),o=Object(g.a)(c,2),l=o[0],u=o[1],d=Object(s.useState)(null),b=Object(g.a)(d,2),j=b[0],h=b[1];return Object(p.jsx)(Q.Provider,{value:{showModal:n,setShowModal:i,clickedVideos:l,setClickedVideos:u,selectedVideoId:j,setSelectedVideoId:h},children:t})},Z=function(){return Object(s.useContext)(Q)},$=r(32),ee=function(e,t){switch(t.type){case"UPDATE_PLAYLIST":return Object(y.a)(Object(y.a)({},e),{},{playlists:t.payload.playlists});case"UPDATE_PLAYLIST_VIDEOS":var r=e.playlists.findIndex((function(e){return e._id===t.payload.playlist._id})),s=Object($.a)(e.playlists);return s[r]=t.payload.playlist,Object(y.a)(Object(y.a)({},e),{},{playlists:s});case"ADD_VIDEOS":return Object(y.a)(Object(y.a)({},e),{},{playlists:e.playlists.map((function(e){return e._id===t.payload.playlist._id?t.payload.playlist:e}))});default:return e}},te=function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.title,s=t.description,e.next=3,I({url:"/api/user/playlists",method:"post",body:{playlist:{title:r,description:s}},propertyName:"playlist"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/playlists",method:"get"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(O.a)(w.a.mark((function e(t,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/playlists/".concat(t),method:"post",body:{video:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/playlists/".concat(t),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(O.a)(w.a.mark((function e(t,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({url:"/api/user/playlists/".concat(t,"/").concat(r),method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ie=Object(s.createContext)(),ce=function(e){var t=e.children,r=Object(s.useReducer)(ee,{playlists:[]}),a=Object(g.a)(r,2),n=a[0],i=a[1];Object(s.useEffect)((function(){Object(O.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=re(),r=t.data,t.success&&i({type:"UPDATE_PLAYLIST",payload:{playlists:r.playlists}});case 2:case"end":return e.stop()}}),e)})))()}),[i]);var c=function(){var e=Object(O.a)(w.a.mark((function e(t,r){var s,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,r);case 2:if(s=e.sent,a=s.data,!s.success){e.next=8;break}return i({type:"UPDATE_PLAYLIST_VIDEOS",payload:{playlist:a.playlist}}),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:if(r=e.sent,s=r.data,!r.success){e.next=8;break}return i({type:"UPDATE_PLAYLIST",payload:{playlists:s.playlists}}),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(ie.Provider,{value:{state:n,dispatch:i,deleteVideosFromPlaylist:c,deletePlaylist:o},children:t})},oe=function(){return Object(s.useContext)(ie)},le=(r(125),function(){var e,t=Z(),r=t.showModal,a=t.setShowModal,n=t.clickedVideos,i=t.selectedVideoId,c=Object(s.useState)(!1),l=Object(g.a)(c,2),u=l[0],b=l[1],j=Object(s.useState)(""),h=Object(g.a)(j,2),m=h[0],x=h[1],y=oe(),v=y.state,N=y.dispatch,k=y.deleteVideosFromPlaylist,T=function(){var e=Object(O.a)(w.a.mark((function e(t,r){var s,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return f.b.error("title cannot be empty"),e.abrupt("return");case 3:return e.next=5,te({title:t,description:r});case 5:s=e.sent,a=s.data,s.success?(N({type:"UPDATE_PLAYLIST",payload:{playlists:a.playlists}}),b(!u),f.b.success("".concat(t," playlist created"))):f.b.error("Something went wrong");case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(w.a.mark((function e(t,r){var s,a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.checked){e.next=9;break}return e.next=3,se(r._id,n);case 3:s=e.sent,a=s.data,s.success?(N({type:"ADD_VIDEOS",payload:{playlist:a.playlist}}),f.b.success("Video added to ".concat(r.title))):f.b.error("Something went wrong"),e.next=11;break;case 9:i=k(r._id,n._id),i.success?f.b.success("Video deleted from ".concat(r.title)):f.b.error("Something went wrong");case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return r&&Object(p.jsx)("div",{className:"modal-wrapper",children:Object(p.jsxs)("div",{className:"hotstream-modal-container",children:[Object(p.jsxs)("div",{className:"flex-row justify-between playlist-modal-container p-2",children:[Object(p.jsx)("p",{className:"font-semibold hotstream-modal-heading text-white",children:"Save to..."}),Object(p.jsx)(d.d,{className:"hotstream-cross-icon text-white cursor-pointer",onClick:function(){a(!r)}})]}),Object(p.jsx)("div",{className:"flex-row pt-2 pb-1 px-1 playlists-content-container",children:u?Object(p.jsxs)("div",{className:"flex-col playlist-content",children:[Object(p.jsx)("p",{className:"text-white mb-1",children:"Playlist Name"}),Object(p.jsx)("input",{type:"text",placeholder:"Name",className:"mb-2 playlist-input",value:m,onChange:function(e){x(e.target.value)}}),Object(p.jsx)("button",{className:"button playlist-button font-semibold",onClick:function(){T(m,""),x("")},children:"Create Playlist"})]}):Object(p.jsxs)("div",{className:"w-100 mb-2",children:[Object(p.jsx)("div",{className:0===v.playlists.length?"":"playlists-container mb-1",children:null===(e=v.playlists)||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)("div",{className:" flex-row  align-center text-white mb-1",children:[Object(p.jsx)("input",{type:"checkbox",className:"mr-1",checked:e.videos.some((function(e){return e._id===i})),onChange:function(t){I(t,e)}}),Object(p.jsx)("p",{children:null===e||void 0===e?void 0:e.title})]})}))}),Object(p.jsxs)("div",{className:"flex-row",children:[Object(p.jsx)(o.b,{className:"text-white"}),Object(p.jsx)("p",{className:"ml-1 text-white cursor-pointer",onClick:function(){b(!u)},children:"Create New Playlist"})]})]})})]})})}),ue=function(e){var t=e._id,r=e.title,s=e.description,a=e.creator,n=e.views,i=e.releaseDate,c=z(),l=c.isVideoPresent,b=c.handleOnPlay,j=c.updatePlaylistVideos,h=Z(),m=h.showModal,x=h.setShowModal,f=h.setClickedVideos,y=[{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(o.b,{className:"mr-1"})," Add to playlists"]}),value:"playlist"},{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(u.c,{className:"mr-1"})," ",l("watchLater",t)?"Remove from watch later":"Add to watch later"]}),value:"watchLater"},{item:Object(p.jsxs)("div",{children:[Object(p.jsx)(d.a,{className:"mr-1"})," ",l("likes",t)?"Remove from liked videos":"Add to liked videos"]}),value:"likes"}],v=function(){var t=Object(O.a)(w.a.mark((function t(r){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("playlist"!==r){t.next=5;break}x(!m),f(e),t.next=9;break;case 5:return t.next=7,j(r,e);case 7:t.sent&&k({type:"UPDATE_DROPDOWN",payload:{id:null}});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=D(),N=g.selectedDropdownId,k=g.dispatch,T=Z().setSelectedVideoId;return Object(p.jsxs)("div",{className:"video-card-container flex-col",children:[Object(p.jsx)(le,{videoId:t}),Object(p.jsxs)("div",{className:"video-wrapper",children:[Object(p.jsx)(C.a,{className:"react-player",url:"https://www.youtube.com/watch?v=".concat(t),width:"100%",height:"100%",onPlay:function(){return b("history",e)}}),Object(p.jsxs)("div",{className:"video-badge",children:[n,"M views"]})]}),Object(p.jsxs)("div",{className:"p-2 content-container",children:[Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsx)("h2",{className:"video-card-title font-semibold",children:r}),Object(p.jsx)(o.f,{className:"three-dots-icon",onClick:function(){T(t),k({type:"UPDATE_DROPDOWN",payload:{id:t===N?null:t}})}}),N===t&&Object(p.jsx)(L,{options:y,onClick:v})]}),Object(p.jsxs)("div",{className:"flex-col",children:[Object(p.jsx)("p",{className:"video-card-subtitle my-1 font-medium text-grey",children:s}),Object(p.jsxs)("ul",{className:"flex-row",children:[Object(p.jsx)("li",{className:"video-creator list-style-none font-medium text-grey",children:a}),Object(p.jsx)("li",{className:"release-date font-medium text-grey",children:i})]})]})]})]})},de=(r(126),function(){var e=D(),t=e.categories,r=e.dispatch,s=e.selectedCategory;return Object(p.jsxs)("div",{className:"flex-row explore-list-items list-style-none",children:[Object(p.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()==="All".toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:"All"}})},children:"All"}),t.map((function(e){return Object(p.jsx)("button",{className:"explore-list-item ".concat(s.toLowerCase()===e.categoryName.toLowerCase()?"active":""),onClick:function(){r({type:"UPDATE_CATEGORY",payload:{categoryName:e.categoryName}})},children:null===e||void 0===e?void 0:e.categoryName},null===e||void 0===e?void 0:e._id)}))]})}),pe=(r(127),function(){var e=D(),t=e.filteredVideos,r=e.dispatch;return Object(s.useEffect)((function(){return function(){r({type:"UPDATE_DROPDOWN",payload:{selectedDropdownId:null}})}}),[r]),Object(s.useEffect)((function(){h("Hotstream-Explore")})),Object(p.jsxs)("div",{className:"explore-container",children:[Object(p.jsx)("div",{className:"flex-col",children:Object(p.jsx)(de,{})}),Object(p.jsx)("div",{className:"flex-row flex-wrap gap-1 justify-center p-2",children:t.map((function(e){return Object(s.createElement)(ue,Object(y.a)(Object(y.a)({},e),{},{key:e._id}))}))})]})}),be=(r(128),function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.firstName,s=t.lastName,a=t.email,n=t.password,e.next=3,I({url:"/api/auth/signup",method:"post",body:{email:a,password:n,firstName:r,lastName:s},propertyName:"signup"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),je=function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,e.next=3,I({url:"/api/auth/login",method:"post",body:{email:r,password:s},propertyName:"login"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e,t){switch(t.type){case"UPDATE_USER":var r=t.payload,s=r.isUserloggedIn,a=r.token,n=r.user;return localStorage.setItem("user",JSON.stringify(t.payload)),{isUserloggedIn:s,token:a,user:n};case"LOGOUT_USER":return localStorage.removeItem("user"),{isUserloggedIn:!1,token:null,user:null};default:return e}},me=Object(s.createContext)(),xe=function(e){var t=e.children,r=JSON.parse(localStorage.getItem("user")),a=null!==r&&void 0!==r?r:{isUserloggedIn:!1,token:"",user:null},n=Object(s.useReducer)(he,a),i=Object(g.a)(n,2),c=i[0],o=c.isUserloggedIn,l=c.token,u=i[1],d=function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s,a,n,i,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,a=t.firstName,n=t.lastName,e.next=3,be({firstName:a,lastName:n,email:r,password:s});case 3:if(i=e.sent,c=i.data,!i.success){e.next=9;break}return u({type:"UPDATE_USER",payload:{isUserloggedIn:!0,token:c.encodedToken,user:c.createdUser}}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(O.a)(w.a.mark((function e(t){var r,s,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,s=t.password,e.next=3,je({email:r,password:s});case 3:if(a=e.sent,n=a.data,!a.success){e.next=9;break}return u({type:"UPDATE_USER",payload:{isUserloggedIn:!0,token:n.encodedToken,user:n.foundUser}}),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(me.Provider,{value:{isUserloggedIn:o,token:l,signup:d,login:b,logout:function(){u({type:"LOGOUT_USER"})}},children:t})},fe=function(){return Object(s.useContext)(me)},ye=function(){var e=Object(j.h)(),t=fe(),r=t.isUserloggedIn,s=t.logout;return Object(p.jsxs)("nav",{className:"header-container",children:[Object(p.jsxs)("div",{className:"logo",children:[Object(p.jsx)("span",{className:"logo-text1",children:"HOT"}),Object(p.jsx)("span",{className:"logo-text2",children:"STREAM"})]}),Object(p.jsxs)("form",{className:"searchBar-container",children:[Object(p.jsx)(o.e,{className:"search-icon"}),Object(p.jsx)("input",{type:"search",placeholder:"Search Videos",className:"search-input"})]}),r?Object(p.jsx)(c.b,{to:"/",className:"login-button",onClick:function(){s()},children:"Logout"}):Object(p.jsx)(c.b,{to:"/login",className:"login-button",onClick:function(){e("/login")},children:"Login"})]})},Oe=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ye,{}),Object(p.jsx)(j.b,{})]})},ve=r(61);var we=function(){return Object(p.jsx)("div",{className:"MockAPI",children:Object(p.jsx)(ve.a,{})})},ge=r.p+"static/media/watchlater-image.764148ea.jpg",Ne=r.p+"static/media/playlists.5b28ea77.jpg",ke=r.p+"static/media/signup-vlib.a27cfa2e.svg",Te=r.p+"static/media/signin-vlib.73e46337.svg",Ie=r.p+"static/media/emptyCart.6f26dbdd.svg",_e=r.p+"static/media/404PageNotFound.8a9c882f.svg",Ae=(r(129),function(e){var t,r,a,n=e.playlistId,i=void 0===n?null:n,c=e.playlistTitle,o=e.playlistVideos,l=e.isFromPlaylist,b=void 0!==l&&l;Object(s.useEffect)((function(){h("Hotstream-playlist")}),[]);var m=z(),x=m.updatePlaylistVideos,y=m.deleteAllVideosFromHistory,v=oe(),g=v.state,N=v.deleteVideosFromPlaylist,k=v.deletePlaylist,T=Object(j.i)(),I=Object(j.h)();if(null===i){var _;b=!0;var A=null===(_=g.playlists)||void 0===_?void 0:_.find((function(e){return e._id===T.playlistId}));A&&(i=A._id,c=A.title,o=A.videos)}return Object(p.jsxs)("div",{className:"playlist-videos-container",children:[Object(p.jsxs)("div",{className:"playlist-videos-content-container",children:[Object(p.jsx)("img",{src:ge,alt:"playlist-videos",className:"playlist-videos-image"}),Object(p.jsx)("div",{className:"text-white text-sm my-2",children:c}),Object(p.jsxs)("div",{className:"flex-row justify-between align-center",children:[Object(p.jsxs)("p",{className:"text-white flex-row",children:[null===(t=o)||void 0===t?void 0:t.length," videos"]}),b&&Object(p.jsx)(u.a,{className:"text-white text-sm",onClick:Object(O.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(i);case 2:t=e.sent,console.log(t),t?(f.b.success("".concat(c," deleted")),I(-1)):f.b.error("Something went wrong delete");case 5:case"end":return e.stop()}}),e)})))}),"history"===i&&Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){y()},children:"Clear All"})]})]}),Object(p.jsx)("div",{className:"playlist-videos-list-container my-2",children:Object(p.jsxs)("ul",{className:"mb-2 ml-2",children:[0===(null===(r=o)||void 0===r?void 0:r.length)&&Object(p.jsx)("div",{className:"text-white no-videos",children:"No videos in this playlist yet\ud83d\ude05"}),null===(a=o)||void 0===a?void 0:a.map((function(e){return Object(p.jsx)("li",{className:"stacked-list-item",children:Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsxs)("div",{className:"flex-row justify-between",children:[Object(p.jsx)("div",{className:"playlist-videos-video-card",children:Object(p.jsx)(C.a,{url:"https://www.youtube.com/watch?v=".concat(null===e||void 0===e?void 0:e._id),width:"100%",height:"100%"})}),Object(p.jsxs)("div",{className:"ml-2 flex-col flex-wrap",children:[Object(p.jsx)("h3",{className:"playlist-videos-title text-white",children:null===e||void 0===e?void 0:e.title}),Object(p.jsx)("p",{className:"playlist-videos-creator text-white my-1",children:null===e||void 0===e?void 0:e.creator}),Object(p.jsxs)("div",{className:"clock-icon-container text-white flex-row align-center",children:[Object(p.jsx)(d.c,{className:"clock-icon mr-1"}),Object(p.jsx)("p",{className:"text-white inline playlist-videos-timestamp",children:null===e||void 0===e?void 0:e.addedAt})]})]})]}),Object(p.jsx)("div",{children:Object(p.jsx)(u.a,{className:"delete-icon text-white",onClick:Object(O.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b){t.next=7;break}return t.next=3,N(i,e._id);case 3:t.sent?f.b.success("Videos deleted from playlist"):f.b.error("Something went wrong video"),t.next=8;break;case 7:x(i,e);case 8:case"end":return t.stop()}}),t)})))})})]})},null===e||void 0===e?void 0:e._id)}))]})})]})}),Ee=function(){Object(s.useEffect)((function(){h("Hotstream-Watchlater")}),[]);var e=z(),t=e.state,r=e.deleteVideo;return Object(p.jsx)("div",{children:Object(p.jsx)(Ae,{playlistId:"watchLater",playlistTitle:"Saved to Watch Later",playlistVideos:t.watchLater,deleteVideo:r})})},Se=function(){Object(s.useEffect)((function(){h("Hotstream-history")}),[]);var e=z(),t=e.state,r=e.deleteVideo,a=e.deleteAllVideosFromHistory;return Object(p.jsx)("div",{children:Object(p.jsx)(Ae,{playlistId:"history",playlistTitle:"History",playlistVideos:t.history,deleteVideo:r,deleteAllVideosFromHistory:a})})},De=(r(58),r(130),function(){return Object(p.jsxs)("div",{className:"emptyCart-container flex-col",children:[Object(p.jsx)("p",{className:"text-pink",children:"Ohh no !! It's empty ..."}),Object(p.jsx)("img",{src:Ie,className:"empty-cart-image",alt:"empty"})]})}),Pe=function(){Object(s.useEffect)((function(){h("Hotstream-playlists")}),[]);var e=oe().state.playlists;return Object(p.jsx)("div",{className:"playlists-outer-container",children:Object(p.jsxs)("div",{className:"playlists-inner-container flex-col align-center",children:[Object(p.jsx)("h2",{className:"text-center my-2 text-lg text-white",children:"All Playlists "}),Object(p.jsx)("div",{className:e<1?"flex-row":"playlists-wrapper",children:e.length<1?Object(p.jsx)(De,{}):null===e||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)(c.b,{to:"/playlists/".concat(e._id),className:"playlist-container",children:[Object(p.jsx)("img",{src:Ne,alt:"playlist",className:"playlist-image"}),Object(p.jsx)("div",{className:"text-white text-center playlist-title-container",children:null===e||void 0===e?void 0:e.title})]})}))})]})})},Ce=function(){Object(s.useEffect)((function(){h("Hotstream-Likes")}),[]);var e=z(),t=e.state,r=e.deleteVideo;return Object(p.jsx)("div",{children:Object(p.jsx)(Ae,{playlistId:"likes",playlistTitle:"Likes",playlistVideos:t.likes,deleteVideo:r})})},Le=function(e){var t=e.children,r=e.title,s=e.imageUrl;return Object(p.jsxs)("div",{className:"authentication-details-container flex-row mx-2",children:[Object(p.jsx)("div",{className:"authentication-image-container",children:Object(p.jsx)("img",{src:s,alt:r})}),Object(p.jsx)("div",{className:"form-components-container flex-col",children:Object(p.jsxs)("div",{className:"wrapper p-2 my-2 flex-col",children:[Object(p.jsx)("h2",{className:"my-2 form-heading text-sm",children:r}),t]})})]})},Ve=(r(59),function(){Object(s.useEffect)((function(){h("Hotstream-login")}),[]);var e=Object(s.useState)(!1),t=Object(g.a)(e,2),r=t[0],a=t[1],n=Object(j.g)().pathname,i=Object(j.h)(),u=fe().login,b=Object(s.useState)({email:"",password:"",rememberMe:!1}),m=Object(g.a)(b,2),x=m[0],v=m[1],N=function(e){v(Object(y.a)(Object(y.a)({},x),{},Object(B.a)({},e.target.id,e.target.value)))},k=function(){var e=Object(O.a)(w.a.mark((function e(t,r,s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u({email:r,password:s});case 3:e.sent?(i("/signup"===n?"/":-1),f.b.success("Login successful")):f.b.error("Wrong credentials");case 5:case"end":return e.stop()}}),e)})));return function(t,r,s){return e.apply(this,arguments)}}();return Object(p.jsx)(Le,{title:"Login",imageUrl:Te,children:Object(p.jsxs)("form",{className:"signup-form-container flex-col",onSubmit:function(e){return k(e,x.email,x.password)},children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{id:"email",className:"input-field form-control text-xs",type:"email",placeholder:"priya@gmail.com",value:x.email,onChange:N,required:!0}),Object(p.jsx)(l.a,{className:"email-icon text-xs"})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"password-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{id:"password",className:"input-field form-control text-xs",type:r?"text":"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:x.password,onChange:N,required:!0}),r?Object(p.jsx)(o.c,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}}):Object(p.jsx)(o.d,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"flex-row align-center justify-between mt-1",children:[Object(p.jsxs)("div",{className:"flex-row align-center my-2",children:[Object(p.jsx)("input",{type:"checkbox",id:"terms",checked:x.rememberMe,onChange:N}),Object(p.jsx)("label",{className:"text-xs ml-1 text-white",htmlFor:"terms",children:"Remember me"})]}),Object(p.jsx)("div",{className:"flex-row forget-password align-center",children:Object(p.jsx)(c.b,{to:"/forgotPassword",className:"text-xs text-white",children:"Forget Password"})})]})})]}),Object(p.jsx)("button",{type:"submit",className:"button primary-button-pink my-2 text-xs",children:"Login"}),Object(p.jsx)("button",{className:"button primary-button-pink mb-2 text-xs",onClick:function(e){return k(e,"priya@gmail.com","priya123")},children:"Login As Guest"}),Object(p.jsx)("div",{children:Object(p.jsxs)(c.b,{to:"/signup",className:"text-xs text-white",children:["Create New Account",Object(p.jsx)("span",{children:Object(p.jsx)(d.b,{className:"ml-2 text-white"})})]})})]})})}),Ue=function(){Object(s.useEffect)((function(){h("Hotstream-Signup")}),[]);var e=Object(s.useState)(!1),t=Object(g.a)(e,2),r=t[0],a=t[1],n=Object(s.useState)({firstName:"",lastName:"",email:"",password:""}),i=Object(g.a)(n,2),u=i[0],b=i[1],m=Object(j.h)(),x=function(e){b(Object(y.a)(Object(y.a)({},u),{},Object(B.a)({},e.target.id,e.target.value)))},v=fe().signup,N=function(){var e=Object(O.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v(u);case 3:e.sent?(f.b.success("Signup successful"),m("/")):f.b.error("Wrong credentials");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(Le,{title:"Signup",imageUrl:ke,children:Object(p.jsxs)("form",{className:"signup-form-container flex-col",onSubmit:function(e){return N},children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"firstName",children:"First name"}),Object(p.jsx)("input",{id:"firstName",className:"input-field form-control text-xs",type:"text",placeholder:"priya",value:u.firstName,onChange:x,required:!0})]})}),Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"lastName",children:"Last name"}),Object(p.jsx)("input",{id:"lastName",className:"input-field form-control text-xs",type:"text",placeholder:"patel",value:u.lastName,onChange:x,required:!0})]})}),Object(p.jsx)("li",{className:"list-style-none text-xs",children:Object(p.jsxs)("div",{className:"email-field-container",children:[Object(p.jsx)("label",{className:"text-xs text-white",htmlFor:"email",children:"Email address"}),Object(p.jsx)("input",{id:"email",className:"input-field form-control text-xs",type:"email",placeholder:"priya@gmail.com",value:u.email,onChange:x,required:!0}),Object(p.jsx)(l.a,{className:"email-icon text-xs"})]})}),Object(p.jsx)("li",{className:"list-style-none",children:Object(p.jsxs)("div",{className:"password-field-container",children:[Object(p.jsx)("label",{className:"text-xs",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{id:"password",className:"input-field form-control text-xs",type:r?"text":"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:u.password,onChange:x,required:!0}),r?Object(p.jsx)(o.c,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}}):Object(p.jsx)(o.d,{className:"password-eye-icon text-xs",onClick:function(){a(!r)}})]})})]}),Object(p.jsx)("button",{type:"submit",className:"button primary-button-pink my-2 text-xs",children:"Create New Account"}),Object(p.jsx)("div",{children:Object(p.jsxs)(c.b,{to:"/login",className:"text-xs text-white",children:["Already have an account",Object(p.jsx)("span",{children:Object(p.jsx)(d.b,{className:"ml-2"})})]})})]})})},Fe=(r(131),function(){var e=Object(j.h)();return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:_e,className:"page-not-found-image",alt:"page-not-found"}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){return e(-1)},children:"Previous"}),Object(p.jsx)("button",{className:"button primary-button-pink",onClick:function(){return e("/")},children:"Home"})]})]})}),Re=function(e){var t=e.children;return fe().isUserloggedIn?t:Object(p.jsx)(j.a,{to:"/login"})};r(132),r(133);var He=function(){var e=fe().isUserLoggedIn;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(f.a,{theme:"colored"}),Object(p.jsx)(le,{}),Object(p.jsxs)(j.e,{children:[Object(p.jsx)(j.c,{path:"mockApi",element:Object(p.jsx)(we,{})}),Object(p.jsx)(j.c,{path:"*",element:Object(p.jsx)(Fe,{})}),Object(p.jsx)(j.c,{path:"/",element:Object(p.jsx)(Oe,{}),children:Object(p.jsxs)(j.c,{path:"/",element:Object(p.jsx)(m,{}),children:[Object(p.jsx)(j.c,{path:"*",element:Object(p.jsx)(Fe,{})}),Object(p.jsx)(j.c,{index:!0,element:Object(p.jsx)(x,{})}),Object(p.jsx)(j.c,{path:"explore",element:Object(p.jsx)(pe,{})}),Object(p.jsx)(j.c,{path:"watchlater",element:Object(p.jsx)(Re,{children:Object(p.jsx)(Ee,{})})}),Object(p.jsx)(j.c,{path:"playlists",element:Object(p.jsx)(Re,{children:Object(p.jsx)(Pe,{})})}),Object(p.jsx)(j.c,{path:"likes",element:Object(p.jsx)(Re,{children:Object(p.jsx)(Ce,{})})}),Object(p.jsx)(j.c,{path:"history",element:Object(p.jsx)(Re,{children:Object(p.jsx)(Se,{})})}),Object(p.jsx)(j.c,{path:"playlists/:playlistId",element:Object(p.jsx)(Re,{children:Object(p.jsx)(Ae,{})})})]})}),!e&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.c,{path:"login",element:Object(p.jsx)(Ve,{})}),Object(p.jsx)(j.c,{path:"signup",element:Object(p.jsx)(Ue,{})})]})]})]})},Ye=r(4),Me=r(73),qe=r(139),Be=r(62),Je=r.n(Be),Ge=r(63),Ke=function(e){var t=e.requestHeaders.authorization,r=Object(Ge.a)(t,"kkhekke;");return r?this.db.users.findBy({email:r.email}):new Ye.b(401,{},{errors:["The token is invalid. Unauthorized access error."]})},We=function(){return Je()().format("YYYY-MM-DDTHH:mm:ssZ")},ze=["email","password"],Qe=r(136),Xe=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password,n=Object(Me.a)(r,ze);try{if(e.users.findBy({email:s}))return new Ye.b(422,{},{errors:["Unprocessable Entity. Email Already Exists."]});var i=Object(qe.a)(),c=Object(y.a)(Object(y.a)({_id:i,email:s,password:a,createdAt:We(),updatedAt:We()},n),{},{likes:[],history:[],playlists:[]}),o=e.users.create(c),l=Qe({_id:i,email:s},"kkhekke;");return new Ye.b(201,{},{createdUser:o,encodedToken:l})}catch(u){return new Ye.b(500,{},{error:u})}},Ze=function(e,t){var r=JSON.parse(t.requestBody),s=r.email,a=r.password;try{var n=e.users.findBy({email:s});if(!n)return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});if(a===n.password){var i=Qe({_id:n._id,email:s},"kkhekke;");return n.password=void 0,new Ye.b(200,{},{foundUser:n,encodedToken:i})}new Ye.b(401,{},{errors:["The credentials you entered are invalid. Unauthorized access error."]})}catch(c){return new Ye.b(500,{},{error:c})}},$e=function(e,t){var r=Ke.call(this,t);try{return r||new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]}),new Ye.b(200,{},{history:r.history})}catch(s){return new Ye.b(500,{},{error:s})}},et=function(e,t){var r=Ke.call(this,t);try{if(!r)return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=JSON.parse(t.requestBody).video;return r.history.some((function(e){return e.id===s.id}))?new Ye.b(409,{},{errors:["The video is already in your history"]}):(r.history.push(s),new Ye.b(201,{},{history:r.history}))}catch(a){return new Ye.b(500,{},{error:a})}},tt=function(e,t){var r=Ke.call(this,t);try{if(!r)return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var s=t.params.videoId,a=r.history.filter((function(e){return e._id!==s}));return this.db.users.update({history:a}),new Ye.b(200,{},{history:a})}catch(n){return new Ye.b(500,{},{error:n})}},rt=function(e,t){var r=Ke.call(this,t);try{return r?(this.db.users.update({history:[]}),new Ye.b(200,{},{history:[]})):new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Ye.b(500,{},{error:s})}},st=function(){try{return new Ye.b(200,{},{videos:this.db.videos})}catch(e){return new Ye.b(500,{},{error:e})}},at=function(e,t){var r=t.params.videoId;try{var s=e.videos.findBy({_id:r}).attrs;return new Ye.b(200,{},{video:s})}catch(a){return new Ye.b(500,{},{error:a})}},nt=[{_id:"A30IuIjQYYg",title:"Thailand - Cinematic Travel",description:"Land of incredible stories.",creator:"Benn TK",categoryName:"country",views:"290",releaseDate:"Aug 28 2018"},{_id:"DIgv-e18OzA",title:"Vietnam - Cinematic Travel",description:"Land of ancient secrets",creator:"Benn TK",categoryName:"city",views:"110",releaseDate:"Sept 12 2021"},{_id:"oM_9lF4u4_o",title:"Kedarnath Yatra 2020",description:"Sonprayag to Kedarnath Temple, 16km Trekking",creator:"Naveen Rawat",categoryName:"state",views:"1",releaseDate:"Nov 10 2011"},{_id:"ssYuPTdMt8A",title:"Visit in Gibhi",description:"10 Beautiful Tourist categoryNames to Visit in Jibhi",creator:"Walking wanderer",categoryName:"village",views:"2",releaseDate:"Dec 19 2013"},{_id:"2YlOJiEUVOY&t=5s",title:"Tirthan Valley",description:"Travel Guide 2020 | Trek",creator:"Abhimanyu Dalal",categoryName:"town",views:"210",releaseDate:"Dec 9 2017"},{_id:"AotsXapzQyU",title:"Shimla Kufri",description:"Travel to Kufri",creator:"Modern banjare",categoryName:"city",views:"230",releaseDate:"Apr 13 2012"},{_id:"hn6-k3bLcaE",title:"KOLKATA - FROM THE SKY",description:"DRONE FOOTAGE || DJI MAVIC MINI",creator:"Take a tour",categoryName:"city",views:"4",releaseDate:"Jan 28 2017"},{_id:"vydEu1I9r5c",title:"Ladakh",description:"Pangong Lake | Nubra Valley",creator:"Garima's good life",categoryName:"union territory",views:"4",releaseDate:"Jan 14 2010"},{_id:"qi52KQs67MY",title:"Philippines",description:"Land of enchanted Islands | Epic Travel Cinematic",creator:"Benn TK",categoryName:"country",views:"10",releaseDate:"Mar 24 2015"}],it=[{_id:Object(qe.a)(),categoryName:"State"},{_id:Object(qe.a)(),categoryName:"Country"},{_id:Object(qe.a)(),categoryName:"Town"},{_id:Object(qe.a)(),categoryName:"Union Territory"},{_id:Object(qe.a)(),categoryName:"City"}],ct=function(){try{return new Ye.b(200,{},{categories:this.db.categories})}catch(e){return new Ye.b(500,{},{error:e})}},ot=function(e,t){var r=t.params.categoryId;try{var s=e.categories.findBy({_id:r}).attrs;return new Ye.b(200,{},{category:s})}catch(a){return new Ye.b(500,{},{error:a})}},lt=function(e,t){var r=Ke.call(this,t);try{return r?new Ye.b(200,{},{likes:r.likes}):new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Ye.b(500,{},{error:s})}},ut=function(e,t){var r=Ke.call(this,t);if(r){var s=JSON.parse(t.requestBody).video;return r.likes.some((function(e){return e.id===s.id}))?new Ye.b(409,{},{errors:["The video is already in your liked videos"]}):(r.likes.push(s),new Ye.b(201,{},{likes:r.likes}))}return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},dt=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.videoId,a=r.likes.filter((function(e){return e._id!==s}));return this.db.users.update({likes:a}),new Ye.b(200,{},{likes:a})}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},pt=function(e,t){var r=Ke.call(this,t);try{return r?new Ye.b(200,{},{playlists:r.playlists}):new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Ye.b(500,{},{error:s})}},bt=function(e,t){var r=Ke.call(this,t);if(r){var s=JSON.parse(t.requestBody).playlist;return r.playlists.push(Object(y.a)(Object(y.a)({},s),{},{videos:[],_id:Object(qe.a)()})),new Ye.b(201,{},{playlists:r.playlists})}return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},jt=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.filter((function(e){return e._id!==s}));return this.db.users.update({playlists:a}),new Ye.b(200,{},{playlists:a})}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},ht=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.playlistId,a=r.playlists.find((function(e){return e._id!==s}));return new Ye.b(200,{},{playlist:a})}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},mt=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.playlistId,a=JSON.parse(t.requestBody).video,n=r.playlists.find((function(e){return e._id===s}));return n.videos.some((function(e){return e.id===a.id}))?new Ye.b(409,{},{errors:["The video is already in your playlist"]}):(n.videos.push(a),new Ye.b(201,{},{playlist:n}))}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},xt=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.playlistId,a=t.params.videoId,n=r.playlists.find((function(e){return e._id===s})),i=n.videos.filter((function(e){return e._id!==a}));return n.videos=i,new Ye.b(200,{},{playlist:n})}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})},ft=[{_id:Object(qe.a)(),firstName:"Adarsh",lastName:"Balika",email:"adarshbalika@gmail.com",password:"adarshBalika123",createdAt:We(),updatedAt:We()},{_id:Object(qe.a)(),firstName:"Priya",lastName:"Patel",email:"priya@gmail.com",password:"priya123",createdAt:We(),updatedAt:We()}],yt=function(e,t){var r=Ke.call(this,t);try{return r?new Ye.b(200,{},{watchlater:r.watchlater}):new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})}catch(s){return new Ye.b(500,{},{error:s})}},Ot=function(e,t){var r=Ke.call(this,t);if(r){var s=JSON.parse(t.requestBody).video;return r.watchlater.some((function(e){return e.id===s.id}))?new Ye.b(409,{},{errors:["The video is already in your watch later videos"]}):(r.watchlater.push(s),new Ye.b(201,{},{watchlater:r.watchlater}))}return new Ye.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]})},vt=function(e,t){var r=Ke.call(this,t);if(r){var s=t.params.videoId,a=r.watchlater.filter((function(e){return e._id!==s}));return this.db.users.update({watchlater:a}),new Ye.b(200,{},{watchlater:a})}return new Ye.b(404,{},{errors:["The user you request does not exist. Not Found error."]})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.environment,r=void 0===t?"development":t;new Ye.d({serializers:{application:Ye.c},environment:r,models:{video:Ye.a,category:Ye.a,user:Ye.a,like:Ye.a,history:Ye.a,playlist:Ye.a,watchlater:Ye.a},seeds:function(e){e.logging=!1,nt.forEach((function(t){e.create("video",Object(y.a)({},t))})),it.forEach((function(t){return e.create("category",Object(y.a)({},t))})),ft.forEach((function(t){return e.create("user",Object(y.a)(Object(y.a)({},t),{},{likes:[],watchlater:[],history:[],playlists:[]}))}))},routes:function(){this.namespace="api",this.post("/auth/signup",Xe.bind(this)),this.post("/auth/login",Ze.bind(this)),this.get("/videos",st.bind(this)),this.get("video/:videoId",at.bind(this)),this.get("/categories",ct.bind(this)),this.get("/categories/:categoryId",ot.bind(this)),this.get("/user/likes",lt.bind(this)),this.post("/user/likes",ut.bind(this)),this.delete("/user/likes/:videoId",dt.bind(this)),this.get("/user/watchlater",yt.bind(this)),this.post("/user/watchlater",Ot.bind(this)),this.delete("/user/watchlater/:videoId",vt.bind(this)),this.get("/user/playlists",pt.bind(this)),this.post("/user/playlists",bt.bind(this)),this.delete("/user/playlists/:playlistId",jt.bind(this)),this.get("/user/playlists/:playlistId",ht.bind(this)),this.post("/user/playlists/:playlistId",mt.bind(this)),this.delete("/user/playlists/:playlistId/:videoId",xt.bind(this)),this.get("/user/history",$e.bind(this)),this.post("/user/history",et.bind(this)),this.delete("/user/history/:videoId",tt.bind(this)),this.delete("/user/history/all",rt.bind(this))}})}(),i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(xe,{children:Object(p.jsx)(ce,{children:Object(p.jsx)(X,{children:Object(p.jsx)(W,{children:Object(p.jsx)(S,{children:Object(p.jsx)(c.a,{children:Object(p.jsx)(He,{})})})})})})})}),document.getElementById("root"))},58:function(e,t,r){},59:function(e,t,r){},78:function(e,t,r){},79:function(e,t,r){},80:function(e,t,r){},82:function(e,t,r){},84:function(e,t,r){}},[[138,1,2]]]);
//# sourceMappingURL=main.2de2245d.chunk.js.map